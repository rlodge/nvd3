/* nvd3 version 1.8.6-dev (https://github.com/novus/nvd3) 2018-10-12 */

!function(){function a(a){return"function"==typeof a?a:function(){return a}}function b(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}var c={};c.dev=!1,c.tooltip=c.tooltip||{},c.utils=c.utils||{},c.models=c.models||{},c.charts={},c.logs={},c.dom={},"undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"==typeof d3&&(d3=require("d3")),c.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),c.dev&&(c.dispatch.on("render_start",function(a){c.logs.startTime=+new Date}),c.dispatch.on("render_end",function(a){c.logs.endTime=+new Date,c.logs.totalTime=c.logs.endTime-c.logs.startTime,c.log("total",c.logs.totalTime)})),c.log=function(){if(c.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(c.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var a=Function.prototype.bind.call(console.log,console);a.apply(console,arguments)}return arguments[arguments.length-1]},c.deprecated=function(a,b){console&&console.warn&&console.warn("nvd3 warning: `"+a+"` has been deprecated. ",b||"")},c.render=function(a){a=a||1,c.render.active=!0,c.dispatch.call("render_start");var b=function(){for(var d,e,f=0;f<a&&(e=c.render.queue[f]);f++)d=e.generate(),typeof e.callback==typeof Function&&e.callback(d);c.render.queue.splice(0,f),c.render.queue.length?setTimeout(b):(c.dispatch.call("render_end"),c.render.active=!1)};setTimeout(b)},c.render.active=!1,c.render.queue=[],c.addGraph=function(a){typeof arguments[0]==typeof Function&&(a={generate:arguments[0],callback:arguments[1]}),c.render.queue.push(a),c.render.active||c.render()},"undefined"!=typeof module&&"undefined"!=typeof exports&&(module.exports=c),"undefined"!=typeof window&&(window.nv=c),c.dom.write=function(a){return void 0!==window.fastdom?fastdom.mutate(a):a()},c.dom.read=function(a){return void 0!==window.fastdom?fastdom.measure(a):a()},c.interactiveGuideline=function(){"use strict";function a(l){l.each(function(l){function m(){var c=d3.event.clientX-this.getBoundingClientRect().left,d=d3.event.clientY-this.getBoundingClientRect().top,e=!0,h=!1;if(k&&(c=d3.event.offsetX,d=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(e=!1),d3.event.target.className.baseVal.match("nv-legend")&&(h=!0)),e&&(c-=b.left,d-=b.top),"mouseout"===d3.event.type||c<0||d<0||c>o||d>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||h){if(k&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(j.nvPointerEventsClass)))return;return g.elementMouseout({mouseX:c,mouseY:d}),a.renderGuideLine(null),void j.hidden(!0)}j.hidden(!1);var i="function"==typeof f.rangeBands,l=void 0;if(i){var m=d3.bisect(f.range(),c)-1;if(!(f.range()[m]+f.rangeBand()>=c))return g.elementMouseout({mouseX:c,mouseY:d}),a.renderGuideLine(null),void j.hidden(!0);l=f.domain()[d3.bisect(f.range(),c)-1]}else l=f.invert(c);g.elementMousemove({mouseX:c,mouseY:d,pointXValue:l}),"dblclick"===d3.event.type&&g.elementDblclick({mouseX:c,mouseY:d,pointXValue:l}),"click"===d3.event.type&&g.elementClick({mouseX:c,mouseY:d,pointXValue:l}),"mousedown"===d3.event.type&&g.elementMouseDown({mouseX:c,mouseY:d,pointXValue:l}),"mouseup"===d3.event.type&&g.elementMouseUp({mouseX:c,mouseY:d,pointXValue:l})}var n=d3.select(this),o=d||960,p=e||400,q=n.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([l]);q.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),i&&(i.on("touchmove",m).on("mousemove",m,!0).on("mouseout",m,!0).on("mousedown",m,!0).on("mouseup",m,!0).on("dblclick",m).on("click",m),a.guideLine=null,a.renderGuideLine=function(b){h&&(a.guideLine&&a.guideLine.attr("x1")===b||c.dom.write(function(){var a=q.select(".nv-interactiveGuideLine").selectAll("line").data(null!=b?[c.utils.NaNtoZero(b)]:[],String);a.enter().append("line").attr("class","nv-guideline").attr("x1",function(a){return a}).attr("x2",function(a){return a}).attr("y1",p).attr("y2",0),a.exit().remove()}))})})}var b={left:0,top:0},d=null,e=null,f=d3.scaleLinear(),g=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),h=!0,i=null,j=c.models.tooltip(),k=window.ActiveXObject;return j.duration(0).hideDelay(0).hidden(!1),a.dispatch=g,a.tooltip=j,a.margin=function(c){return arguments.length?(b.top=void 0!==c.top?c.top:b.top,b.left=void 0!==c.left?c.left:b.left,a):b},a.width=function(b){return arguments.length?(d=b,a):d},a.height=function(b){return arguments.length?(e=b,a):e},a.xScale=function(b){return arguments.length?(f=b,a):f},a.showGuideLine=function(b){return arguments.length?(h=b,a):h},a.svgContainer=function(b){return arguments.length?(i=b,a):i},a},c.interactiveBisect=function(a,b,c){"use strict";if(!(a instanceof Array))return null;var d;d="function"!=typeof c?function(a){return a.x}:c;var e=function(a,b){return d(a)-b},f=d3.bisector(e).left,g=d3.max([0,f(a,b)-1]),h=d(a[g]);if(void 0===h&&(h=g),h===b)return g;var i=d3.min([g+1,a.length-1]),j=d(a[i]);return void 0===j&&(j=i),Math.abs(j-b)>=Math.abs(h-b)?g:i},c.nearestValueIndex=function(a,b,c){"use strict";var d=1/0,e=null;return a.forEach(function(a,f){var g=Math.abs(b-a);null!=a&&g<=d&&g<c&&(d=g,e=f)}),e},c.models.tooltip=function(){"use strict";function a(){if(!l||!l.node()){var a=[1];l=d3.select(document.body).selectAll("#"+d).data(a),l.enter().append("div").attr("class","nvtooltip "+(i||"xy-tooltip")).attr("id",d).style("top",0).style("left",0).style("opacity",0).style("position","absolute").selectAll("div, table, td, tr").classed(q,!0).classed(q,!0),l.exit().remove()}}function b(){if(n&&w(e))return c.dom.write(function(){a();var b=u(e,l.node());b&&(l.node().innerHTML=b),y()}),b}var d="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,f="w",g=25,h=0,i=null,j=!0,k=200,l=null,m={left:null,top:null},n=!0,o=100,p=!0,q="nv-pointer-events-none",r=function(a,b,c){return a},s=function(a){return a},t=function(a,b){return a},u=function(a,b){if(null===a)return"";var c=d3.select(document.createElement("table"));if(p){c.selectAll("thead").data([a]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(s(a.value))}var d=c.selectAll("tbody").data([a]).enter().append("tbody"),e=d.selectAll("tr").data(function(a){return a.series}).enter().append("tr").classed("highlight",function(a){return a.highlight});e.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(a){return a.color}),e.append("td").classed("key",!0).classed("total",function(a){return!!a.total}).html(function(a,b){return t(a.key,b)}),e.append("td").classed("value",!0).html(function(a,b){return r(a.value,b,a)}),e.filter(function(a,b){return void 0!==a.percent}).append("td").classed("percent",!0).html(function(a,b){return"("+d3.format("%")(a.percent)+")"}),e.selectAll("td").each(function(a){if(a.highlight){var b=d3.scaleLinear().domain([0,1]).range(["#fff",a.color]),c=.6;d3.select(this).style("border-bottom-color",b(c)).style("border-top-color",b(c))}});var f=c.node().outerHTML;return void 0!==a.footer&&(f+="<div class='footer'>"+a.footer+"</div>"),f},v=function(){var a={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var b=document.body.getBoundingClientRect();a.left-=b.left,a.top-=b.top}return a},w=function(a){if(a&&a.series){if(c.utils.isArray(a.series))return!0;if(c.utils.isObject(a.series))return a.series=[a.series],!0}return!1},x=function(a){var b,c,d,e=l.node().offsetHeight,h=l.node().offsetWidth,i=document.documentElement.clientWidth,j=document.documentElement.clientHeight;switch(f){case"e":b=-h-g,c=-e/2,a.left+b<0&&(b=g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"w":b=g,c=-e/2,a.left+b+h>i&&(b=-h-g),(d=a.top+c)<0&&(c-=d),(d=a.top+c+e)>j&&(c-=d-j);break;case"n":b=-h/2-5,c=g,a.top+c+e>j&&(c=-e-g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"s":b=-h/2,c=-e-g,a.top+c<0&&(c=g),(d=a.left+b)<0&&(b-=d),(d=a.left+b+h)>i&&(b-=d-i);break;case"center":b=-h/2,c=-e/2;break;default:b=0,c=0}return{left:b,top:c}},y=function(){c.dom.read(function(){var a=v(),b=x(a),c=a.left+b.left,d=a.top+b.top;if(j)l.interrupt().transition().delay(k).duration(0).style("opacity",0);else{var e="translate("+m.left+"px, "+m.top+"px)",f="translate("+Math.round(c)+"px, "+Math.round(d)+"px)",g=d3.interpolateString(e,f),h=l.style("opacity")<.1;l.interrupt().transition().duration(h?0:o).styleTween("transform",function(a){return g},"important").styleTween("-webkit-transform",function(a){return g}).style("-ms-transform",f).style("opacity",1)}m.left=c,m.top=d})};return b.nvPointerEventsClass=q,b.options=c.utils.optionsFunc.bind(b),b._options=Object.create({},{duration:{get:function(){return o},set:function(a){o=a}},gravity:{get:function(){return f},set:function(a){f=a}},distance:{get:function(){return g},set:function(a){g=a}},snapDistance:{get:function(){return h},set:function(a){h=a}},classes:{get:function(){return i},set:function(a){i=a}},enabled:{get:function(){return n},set:function(a){n=a}},hideDelay:{get:function(){return k},set:function(a){k=a}},contentGenerator:{get:function(){return u},set:function(a){u=a}},valueFormatter:{get:function(){return r},set:function(a){r=a}},headerFormatter:{get:function(){return s},set:function(a){s=a}},keyFormatter:{get:function(){return t},set:function(a){t=a}},headerEnabled:{get:function(){return p},set:function(a){p=a}},position:{get:function(){return v},set:function(a){v=a}},chartContainer:{get:function(){return document.body},set:function(a){c.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(a){c.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(a){c.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return j},set:function(a){j!=a&&(j=!!a,b())}},data:{get:function(){return e},set:function(a){a.point&&(a.value=a.point.x,a.series=a.series||{},a.series.value=a.point.y,a.series.color=a.point.color||a.series.color),e=a}},node:{get:function(){return l.node()},set:function(a){}},id:{get:function(){return d},set:function(a){}}}),c.utils.initOptions(b),b},c.utils.windowSize=function(){var a={width:640,height:480};return window.innerWidth&&window.innerHeight?(a.width=window.innerWidth,a.height=window.innerHeight,a):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(a.width=document.documentElement.offsetWidth,a.height=document.documentElement.offsetHeight,a):document.body&&document.body.offsetWidth?(a.width=document.body.offsetWidth,a.height=document.body.offsetHeight,a):a},c.utils.isArray=Array.isArray,c.utils.isObject=function(a){return null!==a&&"object"==typeof a},c.utils.isFunction=function(a){return"function"==typeof a},c.utils.isDate=function(a){return"[object Date]"===toString.call(a)},c.utils.isNumber=function(a){return!isNaN(a)&&"number"==typeof a},c.utils.windowResize=function(a){return window.addEventListener?window.addEventListener("resize",a):c.log("ERROR: Failed to bind to window.resize with: ",a),{callback:a,clear:function(){window.removeEventListener("resize",a)}}},c.utils.getColor=function(a){if(void 0===a)return c.utils.defaultColor();if(c.utils.isArray(a)){var b=d3.scaleOrdinal().range(a);return function(a,c){var d=void 0===c?a:c;return a.color||b(d)}}return a},c.utils.defaultColor=function(){return c.utils.getColor(d3.schemeCategory10)},c.utils.customTheme=function(a,b,d){b=b||function(a){return a.key},d=d||d3.scaleOrdinal().range(d3.schemeCategory10);var e=d.length;return function(f,g){var h=b(f);return c.utils.isFunction(a[h])?a[h]():void 0!==a[h]?a[h]:(e||(e=d.length),e-=1,d[e])}},c.utils.pjax=function(a,b){var d=function(d){d3.html(d,function(d){var e=d3.select(b).node();e.parentNode.replaceChild(d3.select(d).select(b).node(),e),c.utils.pjax(a,b)})};d3.selectAll(a).on("click",function(){history.pushState(this.href,this.textContent,this.href),d(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&d(d3.event.state)})},c.utils.calcApproxTextWidth=function(a){if(c.utils.isFunction(a.style)&&c.utils.isFunction(a.text)){var b=parseInt(a.style("font-size").replace("px",""),10),d=a.text().length;return c.utils.NaNtoZero(d*b*.5)}return 0},c.utils.NaNtoZero=function(a){return!c.utils.isNumber(a)||isNaN(a)||null===a||a===1/0||a===-1/0?0:a},d3.selection.prototype.watchTransition=function(a){var b=[this].concat([].slice.call(arguments,1));return a.transition.apply(a,b)},c.utils.renderWatch=function(a,b){if(!(this instanceof c.utils.renderWatch))return new c.utils.renderWatch(a,b);var d=void 0!==b?b:250,e=[],f=this;this.models=function(a){return a=[].slice.call(arguments,0),a.forEach(function(a){a.__rendered=!1,function(a){a.dispatch.on("renderEnd",function(b){a.__rendered=!0,f.renderEnd("model")})}(a),e.indexOf(a)<0&&e.push(a)}),this},this.reset=function(a){void 0!==a&&(d=a),e=[]},this.transition=function(a,b,c){if(b=arguments.length>1?[].slice.call(arguments,1):[],c=b.length>1?b.pop():void 0!==d?d:250,a.__rendered=!1,e.indexOf(a)<0&&e.push(a),0===c)return a.__rendered=!0,a.delay=function(){return this},a.duration=function(){return this},a;0===a.length?a.__rendered=!0:a.every(function(a){return!a.length})?a.__rendered=!0:a.__rendered=!1;var g=0;return a.transition().duration(c).each(function(){++g}).each("end",function(c,d){0==--g&&(a.__rendered=!0,f.renderEnd.apply(this,b))})},this.renderEnd=function(){e.every(function(a){return a.__rendered})&&(e.forEach(function(a){a.__rendered=!1}),a.renderEnd.apply(this,arguments))}},c.utils.deepExtend=function(a){(arguments.length>1?[].slice.call(arguments,1):[]).forEach(function(b){for(var d in b){var e=c.utils.isArray(a[d]),f=c.utils.isObject(a[d]),g=c.utils.isObject(b[d]);f&&!e&&g?c.utils.deepExtend(a[d],b[d]):a[d]=b[d]}})},c.utils.state=function(){if(!(this instanceof c.utils.state))return new c.utils.state;var a={},b=function(){},d=function(){return{}},e=null,f=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(a){b(a,!0)}),this.getter=function(a){return d=a,this},this.setter=function(a,c){return c||(c=function(){}),b=function(b,d){a(b),d&&c()},this},this.init=function(a){e=e||{},c.utils.deepExtend(e,a)};var g=function(){var b=d();if(JSON.stringify(b)===JSON.stringify(a))return!1;for(var c in b)void 0===a[c]&&(a[c]={}),a[c]=b[c],f=!0;return!0};this.update=function(){e&&(b(e,!1),e=null),g.call(this)&&this.dispatch.change(a)}},c.utils.optionsFunc=function(a){return a&&d3.map(a).forEach(function(a,b){c.utils.isFunction(this[a])&&this[a](b)}.bind(this)),this},c.utils.calcTicksX=function(a,b){var d=1,e=0;for(e;e<b.length;e+=1){var f=b[e]&&b[e].values?b[e].values.length:0;d=f>d?f:d}return c.log("Requested number of ticks: ",a),c.log("Calculated max values to be: ",d),a=a>d?a=d-1:a,a=a<1?1:a,a=Math.floor(a),c.log("Calculating tick count as: ",a),a},c.utils.calcTicksY=function(a,b,d){if(d){for(var e=1,f=0;f<b.length;f+=1)for(var g,h=b[f]&&b[f].values?b[f].values:[],i=0;i<h.length;i+=1)g=h[i]&&d(h[i])?d(h[i]):0,e=g>e?g:e;return c.log("Requested number of ticks: ",a),c.log("Calculated max values to be: ",e),a=a>e?e-1:a,a=a<1?1:a,a=Math.floor(a),c.log("Calculating tick count as: ",a),a}return c.utils.calcTicksX(a,b)},c.utils.initOption=function(a,b){a._calls&&a._calls[b]?a[b]=a._calls[b]:(a[b]=function(c){return arguments.length?(a._overrides[b]=!0,a._options[b]=c,a):a._options[b]},a["_"+b]=function(c){return arguments.length?(a._overrides[b]||(a._options[b]=c),a):a._options[b]})},c.utils.initOptions=function(a){a._overrides=a._overrides||{};var b=Object.getOwnPropertyNames(a._options||{}),d=Object.getOwnPropertyNames(a._calls||{});b=b.concat(d);for(var e in b)c.utils.initOption(a,b[e])},c.utils.inheritOptionsD3=function(a,b,d){a._d3options=d.concat(a._d3options||[]),a._d3options=(a._d3options||[]).filter(function(a,b,c){return c.indexOf(a)===b}),d.unshift(b),d.unshift(a),c.rebind.apply(this,d)},c.utils.arrayUnique=function(a){return a.sort().filter(function(b,c){return!c||b!=a[c-1]})},c.utils.symbolMap=d3.map(),c.functor=a,c.rebind=function(a,c){for(var d,e=1,f=arguments.length;++e<f;)a[d=arguments[e]]=b(a,c,c[d]);return a},c.utils.symbol=function(){function a(a,e){var f=b.call(this,a,e),g=d.call(this,a,e);return-1!==d3.svg.symbolTypes.indexOf(f)?d3.svg.symbol().type(f).size(g)():c.utils.symbolMap.get(f)(g)}var b,d=64;return a.type=function(d){return arguments.length?(b=c.functor(d),a):b},a.size=function(b){return arguments.length?(d=c.functor(b),a):d},a},c.utils.inheritOptions=function(a,b){var d=Object.getOwnPropertyNames(b._options||{}),e=Object.getOwnPropertyNames(b._calls||{}),f=b._inherited||[],g=b._d3options||[],h=d.concat(e).concat(f).concat(g);h.unshift(b),h.unshift(a),c.rebind.apply(this,h),a._inherited=c.utils.arrayUnique(d.concat(e).concat(f).concat(d).concat(a._inherited||[])),a._d3options=c.utils.arrayUnique(g.concat(a._d3options||[]))},c.utils.initSVG=function(a){a.classed({"nvd3-svg":!0})},c.utils.sanitizeHeight=function(a,b){return a||parseInt(b.style("height"),10)||400},c.utils.sanitizeWidth=function(a,b){return a||parseInt(b.style("width"),10)||960},c.utils.availableHeight=function(a,b,d){return Math.max(0,c.utils.sanitizeHeight(a,b)-d.top-d.bottom)},c.utils.availableWidth=function(a,b,d){return Math.max(0,c.utils.sanitizeWidth(a,b)-d.left-d.right)},c.utils.noData=function(a,b){var d=a.options(),e=d.margin(),f=d.noData(),g=null==f?["No Data Available."]:[f],h=c.utils.availableHeight(null,b,e),i=c.utils.availableWidth(null,b,e),j=e.left+i/2,k=e.top+h/2;b.selectAll("g").remove();var l=b.selectAll(".nv-noData").data(g);l.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),l.attr("x",j).attr("y",k).text(function(a){return a})},c.utils.wrapTicks=function(a,b){a.each(function(){for(var a,c=d3.select(this),d=c.text().split(/\s+/).reverse(),e=[],f=0,g=1.1,h=c.attr("y"),i=parseFloat(c.attr("dy")),j=c.text(null).append("tspan").attr("x",0).attr("y",h).attr("dy",i+"em");a=d.pop();)e.push(a),j.text(e.join(" ")),j.node().getComputedTextLength()>b&&(e.pop(),j.text(e.join(" ")),e=[a],j=c.append("tspan").attr("x",0).attr("y",h).attr("dy",++f*g+i+"em").text(a))})},c.utils.arrayEquals=function(a,b){if(a===b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var d=0,e=a.length;d<e;d++)if(a[d]instanceof Array&&b[d]instanceof Array){if(!c.arrayEquals(a[d],b[d]))return!1}else if(a[d]!=b[d])return!1;return!0},c.utils.pointIsInArc=function(a,b,c){var d=c.innerRadius()(b),e=c.outerRadius()(b),f=c.startAngle()(b),g=c.endAngle()(b),h=a.x*a.x+a.y*a.y,i=Math.atan2(a.x,-a.y);return i=i<0?i+2*Math.PI:i,d*d<=h&&h<=e*e&&f<=i&&i<=g},c.models.axis=function(){"use strict";function a(h){return u.reset(),h.each(function(a){var h=d3.select(this);c.utils.initSVG(h);var r=h.selectAll("g.nv-wrap.nv-axis").data([a]),s=r.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),v=(s.append("g"),r.select("g"));null!==o?d.ticks(o):"top"!=d.orient()&&"bottom"!=d.orient()||d.ticks(Math.abs(e.range()[1]-e.range()[0])/100),v.watchTransition(u,"axis").call(d),t=t||d.scale();var w=d.tickFormat();null==w&&(w=t.tickFormat());var x=v.selectAll("text.nv-axislabel").data([i||null]);x.exit().remove(),void 0!==q&&v.selectAll("g").select("text").style("font-size",q);var y,z,A;switch(d.orient()){case"top":y=p+36,x.enter().append("text").attr("class","nv-axislabel"),A=0,1===e.range().length?A=n?2*e.range()[0]+e.rangeBand():0:2===e.range().length?A=n?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(A=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),x.attr("text-anchor","middle").attr("y",-y).attr("x",A/2),j&&(z=r.selectAll("g.nv-axisMaxMin").data(e.domain()),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),z.exit().remove(),z.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(e(a))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-d.tickPadding()).attr("text-anchor","middle").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max top").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(e.range()[b])+",0)"}));break;case"bottom":y=p+36;var B=30,C=0,D=v.selectAll("g").select("text"),E="";if(k%360){D.attr("transform",""),D.each(function(a,b){var c=this.getBoundingClientRect(),d=c.width;C=c.height,d>B&&(B=d)}),E="rotate("+k+" 0,"+(C/2+d.tickPadding())+")";var F=Math.abs(Math.sin(k*Math.PI/180));y=(F?F*B:B)+30,D.attr("transform",E).style("text-anchor",k%360>0?"start":"end")}else m?D.attr("transform",function(a,b){return"translate(0,"+(b%2==0?"0":"12")+")"}):D.attr("transform","translate(0,0)");x.enter().append("text").attr("class","nv-axislabel"),A=0,1===e.range().length?A=n?2*e.range()[0]+e.rangeBand():0:2===e.range().length?A=n?e.range()[0]+e.range()[1]+e.rangeBand():e.range()[1]:e.range().length>2&&(A=e.range()[e.range().length-1]+(e.range()[1]-e.range()[0])),x.attr("text-anchor","middle").attr("y",y).attr("x",A/2),j&&(z=r.selectAll("g.nv-axisMaxMin").data([e.domain()[0],e.domain()[e.domain().length-1]]),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-x",0==b?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),z.exit().remove(),z.attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(e(a)+(n?e.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",d.tickPadding()).attr("transform",E).style("text-anchor",k?k%360>0?"start":"end":"middle").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max bottom").attr("transform",function(a,b){return"translate("+c.utils.NaNtoZero(e(a)+(n?e.rangeBand()/2:0))+",0)"}));break;case"right":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",l?"middle":"begin").attr("transform",l?"rotate(90)":"").attr("y",l?12-Math.max(f.right,g)-(p||0):-10).attr("x",l?d3.max(e.range())/2:d.tickPadding()),j&&(z=r.selectAll("g.nv-axisMaxMin").data(e.domain()),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),z.exit().remove(),z.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",d.tickPadding()).style("text-anchor","start").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+")"}).select("text").style("opacity",1));break;case"left":x.enter().append("text").attr("class","nv-axislabel"),x.style("text-anchor",l?"middle":"end").attr("transform",l?"rotate(-90)":"").attr("y",l?25-Math.max(f.left,g)-(p||0):-10).attr("x",l?-d3.max(e.range())/2:-d.tickPadding()),j&&(z=r.selectAll("g.nv-axisMaxMin").data(e.domain()),z.enter().append("g").attr("class",function(a,b){return["nv-axisMaxMin","nv-axisMaxMin-y",0==b?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),z.exit().remove(),z.attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(t(a))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-d.tickPadding()).attr("text-anchor","end").text(function(a,c){var d=b||w,e=d(a);return(""+e).match("NaN")?"":e}),z.watchTransition(u,"min-max right").attr("transform",function(a,b){return"translate(0,"+c.utils.NaNtoZero(e.range()[b])+")"}).select("text").style("opacity",1))}if(x.text(function(a){return a}),!j||"left"!==d.orient()&&"right"!==d.orient()||(v.selectAll("g").each(function(a,b){d3.select(this).select("text").attr("opacity",1),(e(a)<e.range()[1]+10||e(a)>e.range()[0]-10)&&((a>1e-10||a<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),e.domain()[0]==e.domain()[1]&&0==e.domain()[0]&&r.selectAll("g.nv-axisMaxMin").style("opacity",function(a,b){return b?0:1})),j&&("top"===d.orient()||"bottom"===d.orient())){var G=[];r.selectAll("g.nv-axisMaxMin").each(function(a,b){try{b?G.push(e(a)-this.getBoundingClientRect().width-4):G.push(e(a)+this.getBoundingClientRect().width+4)}catch(c){b?G.push(e(a)-4):G.push(e(a)+4)}}),v.selectAll("g").each(function(a,b){(e(a)<G[0]||e(a)>G[1])&&(a>1e-10||a<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}v.selectAll(".tick").filter(function(a){return!parseFloat(Math.round(1e5*a)/1e6)&&void 0!==a}).classed("zero",!0),t=e.copy()}),u.renderEnd("axis immediate"),a}var b,d=d3.svg.axis(),e=d3.scaleLinear(),f={top:0,right:0,bottom:0,left:0},g=75,h=60,i=null,j=!0,k=0,l=!0,m=!1,n=!1,o=null,p=0,q=void 0,r=250,s=d3.dispatch("renderEnd");d.scale(e).orient("bottom").tickFormat(function(a){return a});var t,u=c.utils.renderWatch(s,r);return a.axis=d,a.dispatch=s,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{axisLabelDistance:{get:function(){return p},set:function(a){p=a}},staggerLabels:{get:function(){return m},set:function(a){m=a}},rotateLabels:{get:function(){return k},set:function(a){k=a}},rotateYLabel:{get:function(){return l},set:function(a){l=a}},showMaxMin:{get:function(){return j},set:function(a){j=a}},axisLabel:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return h},set:function(a){h=a}},ticks:{get:function(){return o},set:function(a){o=a}},width:{get:function(){return g},set:function(a){g=a}},fontSize:{get:function(){return q},set:function(a){q=a}},tickFormatMaxMin:{get:function(){return b},set:function(a){b=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return r},set:function(a){r=a,u.reset(r)}},scale:{get:function(){return e},set:function(b){e=b,d.scale(e),n="function"==typeof e.rangeBands,c.utils.inheritOptionsD3(a,e,["domain","range","rangeBand","rangeBands"])}}}),c.utils.initOptions(a),c.utils.inheritOptionsD3(a,d,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),c.utils.inheritOptionsD3(a,e,["domain","range","rangeBand","rangeBands"]),a},c.models.boxPlot=function(){"use strict";function a(l){return E.reset(),l.each(function(a){var l=j-i.left-i.right,F=k-i.top-i.bottom;A=d3.select(this),c.utils.initSVG(A),m.domain(b||a.map(function(a,b){return o(a,b)})).rangeBands(d||[0,l],.1);var G=[];if(!e){var H,I,J=[];a.forEach(function(a,b){var c=p(a),d=r(a),e=s(a),f=t(a),g=v(a);g&&g.forEach(function(a,b){J.push(w(a,b,void 0))}),e&&J.push(e),c&&J.push(c),d&&J.push(d),f&&J.push(f)}),H=d3.min(J),I=d3.max(J),G=[H,I]}n.domain(e||G),n.range(f||[F,0]),g=g||m,h=h||n.copy().range([n(0),n(0)]);var K=A.selectAll("g.nv-wrap").data([a]);K.enter().append("g").attr("class","nvd3 nv-wrap");K.attr("transform","translate("+i.left+","+i.top+")");var L=K.selectAll(".nv-boxplot").data(function(a){return a}),M=L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);L.attr("class","nv-boxplot").attr("transform",function(a,b,c){return"translate("+(m(o(a,b))+.05*m.rangeBand())+", 0)"}).classed("hover",function(a){return a.hover}),L.watchTransition(E,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(b,c){return c*C/a.length}).attr("transform",function(a,b){return"translate("+(m(o(a,b))+.05*m.rangeBand())+", 0)"}),L.exit().remove(),M.each(function(a,b){var c=d3.select(this);[s,t].forEach(function(d){if(void 0!==d(a)&&null!==d(a)){var e=d===s?"low":"high";c.append("line").style("stroke",u(a)||z(a,b)).attr("class","nv-boxplot-whisker nv-boxplot-"+e),c.append("line").style("stroke",u(a)||z(a,b)).attr("class","nv-boxplot-tick nv-boxplot-"+e)}})});var N=function(){return null===D?.9*m.rangeBand():Math.min(75,.9*m.rangeBand())},O=function(){return.45*m.rangeBand()-N()/2},P=function(){return.45*m.rangeBand()+N()/2};[s,t].forEach(function(a){var b=a===s?"low":"high",c=a===s?p:r;L.select("line.nv-boxplot-whisker.nv-boxplot-"+b).watchTransition(E,"nv-boxplot: boxplots").attr("x1",.45*m.rangeBand()).attr("y1",function(b,c){return n(a(b))}).attr("x2",.45*m.rangeBand()).attr("y2",function(a,b){return n(c(a))}),L.select("line.nv-boxplot-tick.nv-boxplot-"+b).watchTransition(E,"nv-boxplot: boxplots").attr("x1",O).attr("y1",function(b,c){return n(a(b))}).attr("x2",P).attr("y2",function(b,c){return n(a(b))})}),[s,t].forEach(function(a){var b=a===s?"low":"high";M.selectAll(".nv-boxplot-"+b).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0),B.elementMouseover({series:{key:a(b),color:u(b)||z(b,d)},e:d3.event})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",!1),B.elementMouseout({series:{key:a(b),color:u(b)||z(b,d)},e:d3.event})}).on("mousemove",function(a,b){B.elementMousemove({e:d3.event})})}),M.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(a,b){d3.select(this).classed("hover",!0),B.elementMouseover({key:o(a),value:o(a),series:[{key:"Q3",value:r(a),color:u(a)||z(a,b)},{key:"Q2",value:q(a),color:u(a)||z(a,b)},{key:"Q1",value:p(a),color:u(a)||z(a,b)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),B.elementMouseout({key:o(a),value:o(a),series:[{key:"Q3",value:r(a),color:u(a)||z(a,b)},{key:"Q2",value:q(a),color:u(a)||z(a,b)},{key:"Q1",value:p(a),color:u(a)||z(a,b)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){B.elementMousemove({e:d3.event})}),L.select("rect.nv-boxplot-box").watchTransition(E,"nv-boxplot: boxes").attr("y",function(a,b){return n(r(a))}).attr("width",N).attr("x",O).attr("height",function(a,b){return Math.abs(n(r(a))-n(p(a)))||1}).style("fill",function(a,b){return u(a)||z(a,b)}).style("stroke",function(a,b){return u(a)||z(a,b)}),M.append("line").attr("class","nv-boxplot-median"),L.select("line.nv-boxplot-median").watchTransition(E,"nv-boxplot: boxplots line").attr("x1",O).attr("y1",function(a,b){return n(q(a))}).attr("x2",P).attr("y2",function(a,b){return n(q(a))});var Q=L.selectAll(".nv-boxplot-outlier").data(function(a){return v(a)||[]});Q.enter().append("circle").style("fill",function(a,b,c){return y(a,b,c)||z(a,c)}).style("stroke",function(a,b,c){return y(a,b,c)||z(a,c)}).style("z-index",9e3).on("mouseover",function(a,b,c){d3.select(this).classed("hover",!0),B.elementMouseover({series:{key:x(a,b,c),color:y(a,b,c)||z(a,c)},e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1),B.elementMouseout({series:{key:x(a,b,c),color:y(a,b,c)||z(a,c)},e:d3.event})}).on("mousemove",function(a,b){B.elementMousemove({e:d3.event})}),Q.attr("class","nv-boxplot-outlier"),Q.watchTransition(E,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*m.rangeBand()).attr("cy",function(a,b,c){return n(w(a,b,c))}).attr("r","3"),Q.exit().remove(),g=m.copy(),h=n.copy()}),E.renderEnd("nv-boxplot immediate"),a}var b,d,e,f,g,h,i={top:0,right:0,bottom:0,left:0},j=960,k=500,l=Math.floor(1e4*Math.random()),m=d3.scaleOrdinal(),n=d3.scaleLinear(),o=function(a){return a.label},p=function(a){return a.values.Q1},q=function(a){return a.values.Q2},r=function(a){return a.values.Q3},s=function(a){return a.values.whisker_low},t=function(a){
return a.values.whisker_high},u=function(a){return a.color},v=function(a){return a.values.outliers},w=function(a,b,c){return a},x=function(a,b,c){return a},y=function(a,b,c){},z=c.utils.defaultColor(),A=null,B=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=250,D=null,E=c.utils.renderWatch(B,C);return a.dispatch=B,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return j},set:function(a){j=a}},height:{get:function(){return k},set:function(a){k=a}},maxBoxWidth:{get:function(){return D},set:function(a){D=a}},x:{get:function(){return o},set:function(a){o=a}},q1:{get:function(){return p},set:function(a){p=a}},q2:{get:function(){return q},set:function(a){q=a}},q3:{get:function(){return r},set:function(a){r=a}},wl:{get:function(){return s},set:function(a){s=a}},wh:{get:function(){return t},set:function(a){t=a}},itemColor:{get:function(){return u},set:function(a){u=a}},outliers:{get:function(){return v},set:function(a){v=a}},outlierValue:{get:function(){return w},set:function(a){w=a}},outlierLabel:{get:function(){return x},set:function(a){x=a}},outlierColor:{get:function(){return y},set:function(a){y=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return d},set:function(a){d=a}},yRange:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return l},set:function(a){l=a}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(a){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},color:{get:function(){return z},set:function(a){z=c.utils.getColor(a)}},duration:{get:function(){return C},set:function(a){C=a,E.reset(C)}}}),c.utils.initOptions(a),a},c.models.boxPlotChart=function(){"use strict";function a(k){return t.reset(),t.models(e),l&&t.models(f),m&&t.models(g),k.each(function(k){var p=d3.select(this);c.utils.initSVG(p);var t=(i||parseInt(p.style("width"))||960)-h.left-h.right,u=(j||parseInt(p.style("height"))||400)-h.top-h.bottom;if(a.update=function(){r.beforeUpdate(),p.transition().duration(s).call(a)},a.container=this,!k||!k.length){var v=p.selectAll(".nv-noData").data([q]);return v.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),v.attr("x",h.left+t/2).attr("y",h.top+u/2).text(function(a){return a}),a}p.selectAll(".nv-noData").remove(),b=e.xScale(),d=e.yScale().clamp(!0);var w=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([k]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),y=x.append("defs"),z=w.select("g");if(x.append("g").attr("class","nv-x nv-axis"),x.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),x.append("g").attr("class","nv-barsWrap"),z.attr("transform","translate("+h.left+","+h.top+")"),n&&z.select(".nv-y.nv-axis").attr("transform","translate("+t+",0)"),e.width(t).height(u),z.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled})).transition().call(e),y.append("clipPath").attr("id","nv-x-label-clip-"+e.id()).append("rect"),z.select("#nv-x-label-clip-"+e.id()+" rect").attr("width",b.rangeBand()*(o?2:1)).attr("height",16).attr("x",-b.rangeBand()/(o?1:2)),l){f.scale(b).ticks(c.utils.calcTicksX(t/100,k)).tickSize(-u,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),z.select(".nv-x.nv-axis").call(f);var A=z.select(".nv-x.nv-axis").selectAll("g");o&&A.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}m&&(g.scale(d).ticks(Math.floor(u/36)).tickSize(-t,0),z.select(".nv-y.nv-axis").call(g)),z.select(".nv-zeroLine line").attr("x1",0).attr("x2",t).attr("y1",d(0)).attr("y2",d(0))}),t.renderEnd("nv-boxplot chart immediate"),a}var b,d,e=c.models.boxPlot(),f=c.models.axis(),g=c.models.axis(),h={top:15,right:10,bottom:50,left:60},i=null,j=null,k=c.utils.getColor(),l=!0,m=!0,n=!1,o=!1,p=c.models.tooltip(),q="No Data Available.",r=d3.dispatch("beforeUpdate","renderEnd"),s=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),g.orient(n?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var t=c.utils.renderWatch(r,s);return e.dispatch.on("elementMouseover.tooltip",function(a){p.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){p.data(a).hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){p()}),a.dispatch=r,a.boxplot=e,a.xAxis=f,a.yAxis=g,a.tooltip=p,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},staggerLabels:{get:function(){return o},set:function(a){o=a}},showXAxis:{get:function(){return l},set:function(a){l=a}},showYAxis:{get:function(){return m},set:function(a){m=a}},tooltipContent:{get:function(){return p},set:function(a){p=a}},noData:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!==a.top?a.top:h.top,h.right=void 0!==a.right?a.right:h.right,h.bottom=void 0!==a.bottom?a.bottom:h.bottom,h.left=void 0!==a.left?a.left:h.left}},duration:{get:function(){return s},set:function(a){s=a,t.reset(s),e.duration(s),f.duration(s),g.duration(s)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a),e.color(k)}},rightAlignYAxis:{get:function(){return n},set:function(a){n=a,g.orient(a?"right":"left")}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.bullet=function(){"use strict";function a(a,b){var c=a.slice();a.sort(function(a,d){var e=c.indexOf(a),f=c.indexOf(d);return d3.descending(b[e],b[f])})}function b(e){return e.each(function(b,e){var s=p-d.left-d.right,y=q-d.top-d.bottom;r=d3.select(this),c.utils.initSVG(r);var z=g.call(this,b,e).slice(),A=h.call(this,b,e).slice(),B=i.call(this,b,e).slice(),C=j.call(this,b,e).slice(),D=k.call(this,b,e).slice(),E=l.call(this,b,e).slice(),F=m.call(this,b,e).slice(),G=n.call(this,b,e).slice();a(D,z),a(E,A),a(F,B),a(G,C),z.sort(d3.descending),A.sort(d3.descending),B.sort(d3.descending),C.sort(d3.descending);var H=d3.scaleLinear().domain(d3.extent(d3.merge([o,z]))).range(f?[s,0]:[0,s]);this.__chart__||d3.scaleLinear().domain([0,1/0]).range(H.range());this.__chart__=H;for(var I=(d3.min(z),d3.max(z),z[1],r.selectAll("g.nv-wrap.nv-bullet").data([b])),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),K=J.append("g"),L=I.select("g"),e=0,M=z.length;e<M;e++){var N="nv-range nv-range"+e;e<=2&&(N=N+" nv-range"+w[e]),K.append("rect").attr("class",N)}K.append("rect").attr("class","nv-measure"),I.attr("transform","translate("+d.left+","+d.top+")");for(var O=function(a){return Math.abs(H(a)-H(0))},P=function(a){return H(a<0?a:0)},e=0,M=z.length;e<M;e++){var Q=z[e];L.select("rect.nv-range"+e).datum(Q).attr("height",y).transition().duration(x).attr("width",O(Q)).attr("x",P(Q))}L.select("rect.nv-measure").style("fill",t).attr("height",y/3).attr("y",y/3).on("mouseover",function(){u.elementMouseover({value:C[0],label:G[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){u.elementMousemove({value:C[0],label:G[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){u.elementMouseout({value:C[0],label:G[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(x).attr("width",C<0?H(0)-H(C[0]):H(C[0])-H(0)).attr("x",P(C));var R=y/6,S=A.map(function(a,b){return{value:a,label:E[b]}});K.selectAll("path.nv-markerTriangle").data(S).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+R+"L"+R+","+-R+" "+-R+","+-R+"Z").on("mouseover",function(a){u.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[H(a.value),y/2]})}).on("mousemove",function(a){u.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){u.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}),L.selectAll("path.nv-markerTriangle").data(S).transition().duration(x).attr("transform",function(a){return"translate("+H(a.value)+","+y/2+")"});var T=B.map(function(a,b){return{value:a,label:F[b]}});K.selectAll("line.nv-markerLine").data(T).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(a){return H(a.value)}).attr("y1","2").attr("x2",function(a){return H(a.value)}).attr("y2",y-2).on("mouseover",function(a){u.elementMouseover({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill"),pos:[H(a.value),y/2]})}).on("mousemove",function(a){u.elementMousemove({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){u.elementMouseout({value:a.value,label:a.label||"Previous",color:d3.select(this).style("fill")})}),L.selectAll("line.nv-markerLine").data(T).transition().duration(x).attr("x1",function(a){return H(a.value)}).attr("x2",function(a){return H(a.value)}),I.selectAll(".nv-range").on("mouseover",function(a,b){var c=D[b]||v[b];u.elementMouseover({value:a,label:c,color:d3.select(this).style("fill")})}).on("mousemove",function(){u.elementMousemove({value:C[0],label:G[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){var c=D[b]||v[b];u.elementMouseout({value:a,label:c,color:d3.select(this).style("fill")})})}),b}var d={top:0,right:0,bottom:0,left:0},e="left",f=!1,g=function(a){return a.ranges},h=function(a){return a.markers?a.markers:[]},i=function(a){return a.markerLines?a.markerLines:[0]},j=function(a){return a.measures},k=function(a){return a.rangeLabels?a.rangeLabels:[]},l=function(a){return a.markerLabels?a.markerLabels:[]},m=function(a){return a.markerLineLabels?a.markerLineLabels:[]},n=function(a){return a.measureLabels?a.measureLabels:[]},o=[0],p=380,q=30,r=null,s=null,t=c.utils.getColor(["#1f77b4"]),u=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),v=["Maximum","Mean","Minimum"],w=["Max","Avg","Min"],x=1e3;return b.dispatch=u,b.options=c.utils.optionsFunc.bind(b),b._options=Object.create({},{ranges:{get:function(){return g},set:function(a){g=a}},markers:{get:function(){return h},set:function(a){h=a}},measures:{get:function(){return j},set:function(a){j=a}},forceX:{get:function(){return o},set:function(a){o=a}},width:{get:function(){return p},set:function(a){p=a}},height:{get:function(){return q},set:function(a){q=a}},tickFormat:{get:function(){return s},set:function(a){s=a}},duration:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return d},set:function(a){d.top=void 0!==a.top?a.top:d.top,d.right=void 0!==a.right?a.right:d.right,d.bottom=void 0!==a.bottom?a.bottom:d.bottom,d.left=void 0!==a.left?a.left:d.left}},orient:{get:function(){return e},set:function(a){e=a,f="right"==e||"bottom"==e}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a)}}}),c.utils.initOptions(b),b},c.models.bulletChart=function(){"use strict";function a(d){return d.each(function(e,o){var p=d3.select(this);c.utils.initSVG(p);var q=c.utils.availableWidth(k,p,g),r=l-g.top-g.bottom;if(a.update=function(){a(d)},a.container=this,!e||!h.call(this,e,o))return c.utils.noData(a,p),a;p.selectAll(".nv-noData").remove();var s=h.call(this,e,o).slice().sort(d3.descending),t=i.call(this,e,o).slice().sort(d3.descending),u=j.call(this,e,o).slice().sort(d3.descending),v=p.selectAll("g.nv-wrap.nv-bulletChart").data([e]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),x=w.append("g"),y=v.select("g");x.append("g").attr("class","nv-bulletWrap"),x.append("g").attr("class","nv-titles"),v.attr("transform","translate("+g.left+","+g.top+")");var z=d3.scaleLinear().domain([0,Math.max(s[0],t[0]||0,u[0])]).range(f?[q,0]:[0,q]),A=this.__chart__||d3.scaleLinear().domain([0,1/0]).range(z.range());this.__chart__=z;var B=x.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(l-g.top-g.bottom)/2+")");B.append("text").attr("class","nv-title").text(function(a){return a.title}),B.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(a){return a.subtitle}),b.width(q).height(r);var C=y.select(".nv-bulletWrap");d3.transition(C).call(b);var D=m||z.tickFormat(q/100),E=y.selectAll("g.nv-tick").data(z.ticks(n||q/50),function(a){return this.textContent||D(a)}),F=E.enter().append("g").attr("class","nv-tick").attr("transform",function(a){return"translate("+A(a)+",0)"}).style("opacity",1e-6);F.append("line").attr("y1",r).attr("y2",7*r/6),F.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*r/6).text(D);var G=d3.transition(E).transition().duration(b.duration()).attr("transform",function(a){return"translate("+z(a)+",0)"}).style("opacity",1);G.select("line").attr("y1",r).attr("y2",7*r/6),G.select("text").attr("y",7*r/6),d3.transition(E.exit()).transition().duration(b.duration()).attr("transform",function(a){return"translate("+z(a)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),a}var b=c.models.bullet(),d=c.models.tooltip(),e="left",f=!1,g={top:5,right:40,bottom:20,left:120},h=function(a){return a.ranges},i=function(a){return a.markers?a.markers:[]},j=function(a){return a.measures},k=null,l=55,m=null,n=null,o=null,p=d3.dispatch();return d.duration(0).headerEnabled(!1),b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.label,value:a.value,color:a.color},d.data(a).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){d()}),a.bullet=b,a.dispatch=p,a.tooltip=d,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{ranges:{get:function(){return h},set:function(a){h=a}},markers:{get:function(){return i},set:function(a){i=a}},measures:{get:function(){return j},set:function(a){j=a}},width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},tickFormat:{get:function(){return m},set:function(a){m=a}},ticks:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return o},set:function(a){o=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},orient:{get:function(){return e},set:function(a){e=a,f="right"==e||"bottom"==e}}}),c.utils.inheritOptions(a,b),c.utils.initOptions(a),a},c.models.candlestickBar=function(){"use strict";function a(x){return x.each(function(a){b=d3.select(this);var x=c.utils.availableWidth(i,b,h),y=c.utils.availableHeight(j,b,h);c.utils.initSVG(b);var A=x/a[0].values.length*.45;l.domain(d||d3.extent(a[0].values.map(n).concat(t))),v?l.range(f||[.5*x/a[0].values.length,x*(a[0].values.length-.5)/a[0].values.length]):l.range(f||[5+A/2,x-A/2-5]),m.domain(e||[d3.min(a[0].values.map(s).concat(u)),d3.max(a[0].values.map(r).concat(u))]).range(g||[y,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var B=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([a[0].values]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),D=C.append("defs"),E=C.append("g"),F=B.select("g");E.append("g").attr("class","nv-ticks"),B.attr("transform","translate("+h.left+","+h.top+")"),b.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:k})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+k).append("rect"),B.select("#nv-chart-clip-path-"+k+" rect").attr("width",x).attr("height",y),F.attr("clip-path",w?"url(#nv-chart-clip-path-"+k+")":"");var G=B.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});G.exit().remove();var H=G.enter().append("g");G.attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b});H.append("line").attr("class","nv-candlestick-lines").attr("transform",function(a,b){return"translate("+l(n(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return m(r(a,b))}).attr("x2",0).attr("y2",function(a,b){return m(s(a,b))}),H.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(a,b){return"translate("+(l(n(a,b))-A/2)+","+(m(o(a,b))-(p(a,b)>q(a,b)?m(q(a,b))-m(p(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(a,b){var c=p(a,b),d=q(a,b);return c>d?m(d)-m(c):m(c)-m(d)});G.select(".nv-candlestick-lines").transition().attr("transform",function(a,b){return"translate("+l(n(a,b))+",0)"}).attr("x1",0).attr("y1",function(a,b){return m(r(a,b))}).attr("x2",0).attr("y2",function(a,b){return m(s(a,b))}),G.select(".nv-candlestick-rects").transition().attr("transform",function(a,b){return"translate("+(l(n(a,b))-A/2)+","+(m(o(a,b))-(p(a,b)>q(a,b)?m(q(a,b))-m(p(a,b)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(a,b){var c=p(a,b),d=q(a,b);return c>d?m(d)-m(c):m(c)-m(d)})}),a}var b,d,e,f,g,h={top:0,right:0,bottom:0,left:0},i=null,j=null,k=Math.floor(1e4*Math.random()),l=d3.scaleLinear(),m=d3.scaleLinear(),n=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.open},q=function(a){return a.close},r=function(a){return a.high},s=function(a){return a.low},t=[],u=[],v=!1,w=!0,x=c.utils.defaultColor(),y=!1,z=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return a.highlightPoint=function(c,d){a.clearHighlights(),b.select(".nv-candlestickBar .nv-tick-0-"+c).classed("hover",d)},a.clearHighlights=function(){b.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},a.dispatch=z,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return i},set:function(a){i=a}},height:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return k},set:function(a){k=a}},interactive:{get:function(){return y},set:function(a){y=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},open:{get:function(){return p()},set:function(a){p=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return r},set:function(a){r=a}},low:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return h},set:function(a){h.top=void 0!=a.top?a.top:h.top,h.right=void 0!=a.right?a.right:h.right,h.bottom=void 0!=a.bottom?a.bottom:h.bottom,h.left=void 0!=a.left?a.left:h.left}},color:{get:function(){return x},set:function(a){x=c.utils.getColor(a)}}}),c.utils.initOptions(a),a},c.models.cumulativeLineChart=function(){"use strict";function a(m){return K.reset(),K.models(g),t&&K.models(h),u&&K.models(i),m.each(function(m){function C(b,c){d3.select(a.container).style("cursor","ew-resize")}function G(a,b){J.x=d3.event.x,J.i=Math.round(I.invert(J.x)),N()}function K(b,c){d3.select(a.container).style("cursor","auto"),A.index=J.i,E.stateChange(A)}function N(){ba.data([J]);var b=a.duration();a.duration(0),a.update(),a.duration(b)}var O=d3.select(this);c.utils.initSVG(O),O.classed("nv-chart-"+z,!0);var P=c.utils.availableWidth(q,O,n),Q=c.utils.availableHeight(r,O,n);if(a.update=function(){0===F?O.call(a):O.transition().duration(F).call(a)},a.container=this,A.setter(M(m),a.update).getter(L(m)).update(),A.disabled=m.map(function(a){return!!a.disabled}),!B){var R;B={};for(R in A)A[R]instanceof Array?B[R]=A[R].slice(0):B[R]=A[R]}var S=d3.behavior.drag().on("dragstart",C).on("drag",G).on("dragend",K);if(!(m&&m.length&&m.filter(function(a){return a.values.length}).length))return c.utils.noData(a,O),a;O.selectAll(".nv-noData").remove(),e=g.xScale(),f=g.yScale(),I.domain([0,m[0].values.length-1]).range([0,P]).clamp(!0);var m=b(J.i,m);void 0===H&&(H=d(m)),y?g.yDomain(null):(g.yDomain(H),g.clipEdge(!0));var T=x?"none":"all",U=O.selectAll("g.nv-wrap.nv-cumulativeLine").data([m]),V=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),W=U.select("g");if(V.append("g").attr("class","nv-interactive"),V.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),V.append("g").attr("class","nv-y nv-axis"),V.append("g").attr("class","nv-background"),V.append("g").attr("class","nv-linesWrap").style("pointer-events",T),V.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),V.append("g").attr("class","nv-legendWrap"),V.append("g").attr("class","nv-controlsWrap"),s?(j.width(P),W.select(".nv-legendWrap").datum(m).call(j),o||j.height()===n.top||(n.top=j.height(),Q=c.utils.availableHeight(r,O,n)),W.select(".nv-legendWrap").attr("transform","translate(0,"+-n.top+")")):W.select(".nv-legendWrap").selectAll("*").remove(),w){var X=[{key:"Re-scale y-axis",disabled:!y}];k.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),W.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-n.top+")").call(k)}else W.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+n.left+","+n.top+")"),v&&W.select(".nv-y.nv-axis").attr("transform","translate("+P+",0)");var Y=m.filter(function(a){return a.tempDisabled});U.select(".tempDisabled").remove(),Y.length&&U.append("text").attr("class","tempDisabled").attr("x",P/2).attr("y","-.71em").style("text-anchor","end").text(Y.map(function(a){return a.key}).join(", ")+" values cannot be calculated for this time period."),x&&(l.width(P).height(Q).margin({left:n.left,top:n.top}).svgContainer(O).xScale(e),U.select(".nv-interactive").call(l)),V.select(".nv-background").append("rect"),W.select(".nv-background rect").attr("width",P).attr("height",Q),g.y(function(a){return a.display.y}).width(P).height(Q).color(m.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!m[b].disabled&&!m[b].tempDisabled}));var Z=W.select(".nv-linesWrap").datum(m.filter(function(a){return!a.disabled&&!a.tempDisabled}));Z.call(g),m.forEach(function(a,b){a.seriesIndex=b});var $=m.filter(function(a){return!a.disabled&&!!D(a)}),_=W.select(".nv-avgLinesWrap").selectAll("line").data($,function(a){return a.key}),aa=function(a){var b=f(D(a));return b<0?0:b>Q?Q:b};_.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(a,b){return g.color()(a,a.seriesIndex)}).attr("x1",0).attr("x2",P).attr("y1",aa).attr("y2",aa),_.style("stroke-opacity",function(a){var b=f(D(a));return b<0||b>Q?0:1}).attr("x1",0).attr("x2",P).attr("y1",aa).attr("y2",aa),_.exit().remove();var ba=Z.selectAll(".nv-indexLine").data([J]);ba.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(S),ba.attr("transform",function(a){return"translate("+I(a.i)+",0)"}).attr("height",Q),t&&(h.scale(e)._ticks(c.utils.calcTicksX(P/70,m)).tickSize(-Q,0),W.select(".nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),W.select(".nv-x.nv-axis").call(h)),u&&(i.scale(f)._ticks(c.utils.calcTicksY(Q/36,m)).tickSize(-P,0),W.select(".nv-y.nv-axis").call(i)),W.select(".nv-background rect").on("click",function(){J.x=d3.mouse(this)[0],J.i=Math.round(I.invert(J.x)),A.index=J.i,E.stateChange(A),N()}),g.dispatch.on("elementClick",function(a){J.i=a.pointIndex,J.x=I(J.i),A.index=J.i,E.stateChange(A),N()}),k.dispatch.on("legendClick",function(b,c){b.disabled=!b.disabled,y=!b.disabled,A.rescaleY=y,y||(H=d(m)),E.stateChange(A),a.update()}),j.dispatch.on("stateChange",function(b){for(var c in b)A[c]=b[c];E.stateChange(A),a.update()}),l.dispatch.on("elementMousemove",function(b){g.clearHighlights();var d,e,f,j=[];if(m.filter(function(a,b){return a.seriesIndex=b,!(a.disabled||a.tempDisabled)}).forEach(function(h,i){e=c.interactiveBisect(h.values,b.pointXValue,a.x()),g.highlightPoint(i,e,!0);var k=h.values[e];void 0!==k&&(void 0===d&&(d=k),void 0===f&&(f=a.xScale()(a.x()(k,e))),j.push({key:h.key,value:a.y()(k,e),color:p(h,h.seriesIndex)}))}),j.length>2){var k=a.yScale().invert(b.mouseY),n=Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),o=.03*n,q=c.nearestValueIndex(j.map(function(a){return a.value}),k,o);null!==q&&(j[q].highlight=!0)}var r=h.tickFormat()(a.x()(d,e),e);l.tooltip.valueFormatter(function(a,b){return i.tickFormat()(a)}).data({value:r,series:j})(),l.renderGuideLine(f)}),l.dispatch.on("elementMouseout",function(a){g.clearHighlights()}),E.on("changeState",function(b){void 0!==b.disabled&&(m.forEach(function(a,c){a.disabled=b.disabled[c]}),A.disabled=b.disabled),void 0!==b.index&&(J.i=b.index,J.x=I(J.i),A.index=b.index,ba.data([J])),void 0!==b.rescaleY&&(y=b.rescaleY),a.update()})}),K.renderEnd("cumulativeLineChart immediate"),a}function b(a,b){return N||(N=g.y()),b.map(function(b,c){if(!b.values)return b;var d=b.values[a];if(null==d)return b;var e=N(d,a);return Math.abs(e)<1e-5&&!G?(b.tempDisabled=!0,b):(b.tempDisabled=!1,b.values=b.values.map(function(a,b){return a.display={y:(N(a,b)-e)/e},a}),b)})}function d(a){var b=a.filter(function(a){return!(a.disabled||a.tempDisabled)}).map(function(a,b){return d3.extent(a.values,function(a){return a.display.y})});return[d3.min(b,function(a){return a[0]}),d3.max(b,function(a){return a[1]})]}var e,f,g=c.models.line(),h=c.models.axis(),i=c.models.axis(),j=c.models.legend(),k=c.models.legend(),l=c.interactiveGuideline(),m=c.models.tooltip(),n={top:30,right:30,bottom:50,left:60},o=null,p=c.utils.defaultColor(),q=null,r=null,s=!0,t=!0,u=!0,v=!1,w=!0,x=!1,y=!0,z=g.id(),A=c.utils.state(),B=null,C=null,D=function(a){return a.average},E=d3.dispatch("stateChange","changeState","renderEnd"),F=250,G=!1;A.index=0,A.rescaleY=y,h.orient("bottom").tickPadding(7),i.orient(v?"right":"left"),m.valueFormatter(function(a,b){return i.tickFormat()(a,b)}).headerFormatter(function(a,b){return h.tickFormat()(a,b)}),k.updateState(!1);var H,I=d3.scaleLinear(),J={i:0,x:0},K=c.utils.renderWatch(E,F),L=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),index:J.i,rescaleY:y}}},M=function(a){return function(b){void 0!==b.index&&(J.i=b.index),void 0!==b.rescaleY&&(y=b.rescaleY),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};g.dispatch.on("elementMouseover.tooltip",function(b){var c={x:a.x()(b.point),y:a.y()(b.point),color:b.point.color};b.point=c,m.data(b).hidden(!1)}),g.dispatch.on("elementMouseout.tooltip",function(a){m.hidden(!0)});var N=null;return a.dispatch=E,a.lines=g,a.legend=j,a.controls=k,a.xAxis=h,a.yAxis=i,a.interactiveLayer=l,a.state=A,a.tooltip=m,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return r},set:function(a){r=a}},showControls:{get:function(){return w},set:function(a){w=a}},showLegend:{get:function(){return s},set:function(a){s=a}},average:{get:function(){return D},set:function(a){D=a}},defaultState:{get:function(){return B},set:function(a){B=a}},noData:{get:function(){return C},set:function(a){C=a}},showXAxis:{get:function(){return t},set:function(a){t=a}},showYAxis:{get:function(){return u},set:function(a){u=a}},noErrorCheck:{get:function(){return G},set:function(a){G=a}},rescaleY:{get:function(){return y},set:function(b){y=b,a.state.rescaleY=b}},margin:{get:function(){return n},set:function(a){void 0!==a.top&&(n.top=a.top,o=a.top),n.right=void 0!==a.right?a.right:n.right,n.bottom=void 0!==a.bottom?a.bottom:n.bottom,n.left=void 0!==a.left?a.left:n.left}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a),j.color(p)}},useInteractiveGuideline:{get:function(){return x},set:function(b){x=b,!0===b&&(a.interactive(!1),a.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return v},set:function(a){v=a,i.orient(a?"right":"left")}},duration:{get:function(){return F},set:function(a){F=a,g.duration(F),h.duration(F),i.duration(F),K.reset(F)}}}),c.utils.inheritOptions(a,g),c.utils.initOptions(a),a},c.models.differenceChart=function(){"use strict";function a(d){d.each(function(d){e=d3.select(this);var j=(d||[]).filter(function(a){return!a.disabled});if(!d||!j.length)return c.utils.noData(a,e),a;var k=b(d),l=c.utils.availableHeight(p,e,r)-g.height(),t=c.utils.availableWidth(q,e,r);e.attr("class","nv-differenceChart"),c.utils.initSVG(e),a.container=this,f.margin(r).color(d3.scale.category10().range()).y(h).width(q).height(l).interpolate(u).useInteractiveGuideline(!0),f.interactiveLayer.tooltip.valueFormatter(function(a,b,c){if(c.key===o||c.key===n){var d=Math.abs(c.data.y0-c.data.y1);return 0===d?"-":d}return a}),f.stack1.areaY1(function(a){return f.stack1.scatter.yScale()(a.display.y)}),f.stack1.transformData(function(a){a.display={y:a.y1,y0:a.y0}}),f.xAxis.scale(w),f.xAxis.tickFormat(x);var v=k.filter(function(a){return!a.disabled}).map(function(a){return a.values}),y=d3.extent(d3.merge(v),function(a){return i(a)});f.xAxis.domain(y).range([0,t]);var z=d3.extent(d3.merge(v),function(a){return h(a)});return f.yDomain1(z),f.yAxis1.tickFormat(d3.format(",.1f")),f.yAxis2.tickFormat(d3.format(",.1f")),g.width(t),g.margin(s),g.xScale(w.copy()),g.xAxis.tickFormat(x),g.xAxis.rotateLabels(0),e.append("g").attr("class","nv-focusWrap").style("display","initial").attr("transform","translate("+r.left+", "+(l+g.margin().top)+")").datum(k.filter(function(a){return"line"===a.type})).call(g),e.datum(k).call(f),g.dispatch.on("onBrush",function(a){var b=k.map(function(b){var c=-1,d=-1;b.values.some(function(b,e){return-1===c&&b.x>=a[0]&&(c=e),-1===d&&b.x>=a[1]&&(d=e,!0)});for(var e=b.values.slice(c,d),f=0;e.length<2&&f<5;)c-=1,d+=1,e=b.values.slice(c,d),f++;return Object.assign({},b,{values:e})});e.datum(b),f.xAxis.domain(a),f.update()}),a.update=function(){e.selectAll("*").remove(),0===m?e.call(a):e.transition().duration(m).call(a)},a})}function b(a){var b=a.slice(0),c=b.every(function(a){return a.processed}),d=b.filter(function(a){return"actual"===a.type}),e=b.filter(function(a){return"expected"===a.type});if(c)return b;if(!d.length||!e.length)return[];var f=e[0].key+" minus "+d[0].key+" (Predicted > Actual)",g=e[0].key+" minus "+d[0].key+" (Predicted < Actual)",h=[{key:n||f,type:"area",values:[],yAxis:1,color:"rgba(44,160,44,.9)",processed:!0,noHighlightSeries:!0},{key:o||g,type:"area",values:[],yAxis:1,color:"rgba(234,39,40,.9)",processed:!0,noHighlightSeries:!0},{key:d[0].key,type:"line",values:[],yAxis:1,color:"#666666",processed:!0,strokeWidth:v}];t&&(h[3]={key:e[0].key,type:"line",values:[],yAxis:1,color:"#aec7e8",processed:!0,strokeWidth:v});var i=d[0].values.reduce(function(a,b,c){return a[j(b)]=l(b),a},{}),m=e[0].values.reduce(function(a,b,c){return a[j(b)]=l(b),a},{});return Object.keys(i).forEach(function(a,b){var c=i[a],d=m[a],e={};e[k]=a;var f=j(e),g=d-c;isNaN(g)?(h[1].values[b]={x:f,y0:c,y1:c},h[0].values[b]={x:f,y0:c,y1:c}):g<0?(h[1].values[b]={x:f,y0:c,
y1:d},h[0].values[b]={x:f,y0:c,y1:c}):(h[0].values[b]={x:f,y0:c,y1:d},h[1].values[b]={x:f,y0:c,y1:c}),h[2].values[b]={x:f,y:c},t&&(h[3].values[b]={x:f,y:d})}),h}function d(a){return void 0!==a}var e=void 0,f=c.models.multiChart(),g=c.models.focus(c.models.line()),h=function(a){return d(a.y0)?a.y0:a.y},i=function(a){return a.x},j=function(a){return a.x},k="x",l=function(a){return a.y},m=300,n=null,o=null,p=null,q=null,r={top:30,right:50,bottom:20,left:70},s={top:0,right:0,bottom:0,left:0},t=!0,u="linear",v=1,w=d3.time.scale(),x=d3.time.format.multi([["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",function(){return!0}]]);return a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return p},set:function(a){p=a}},strokeWidth:{get:function(){return v},set:function(a){v=a}},x:{get:function(){return j},set:function(a){j=a}},keyForXValue:{get:function(){return k},set:function(a){k=a}},y:{get:function(){return l},set:function(a){l=a}},xScale:{get:function(){return w},set:function(a){w=a}},keyForActualLessThanPredicted:{get:function(){return n},set:function(a){n=a}},keyForActualGreaterThanPredicted:{get:function(){return o},set:function(a){o=a}},showPredictedLine:{get:function(){return t},set:function(a){t=a}},tickFormat:{get:function(){return x},set:function(a){x=a}},interpolate:{get:function(){return u},set:function(a){u=a}},focusMargin:{get:function(){return s},set:function(a){s.top=void 0!==a.top?a.top:s.top,s.right=void 0!==a.right?a.right:s.right,s.bottom=void 0!==a.bottom?a.bottom:s.bottom,s.left=void 0!==a.left?a.left:s.left}},margin:{get:function(){return r},set:function(a){r.top=void 0!==a.top?a.top:r.top,r.right=void 0!==a.right?a.right:r.right,r.bottom=void 0!==a.bottom?a.bottom:r.bottom,r.left=void 0!==a.left?a.left:r.left}}}),a.xAxis=f.xAxis,a.yAxis=f.yAxis1,a.multiChart=f,a.focus=g,a.processData=b,c.utils.inheritOptions(a,f),c.utils.initOptions(a),a},c.models.discreteBar=function(){"use strict";function a(m){return z.reset(),m.each(function(a){var m=k-j.left-j.right,y=l-j.top-j.bottom;b=d3.select(this),c.utils.initSVG(b),a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var A=d&&e?[]:a.map(function(a){return a.values.map(function(a,b){return{x:p(a,b),y:q(a,b),y0:a.y0}})});n.domain(d||d3.merge(A).map(function(a){return a.x})).rangeBands(f||[0,m],.1),o.domain(e||d3.extent(d3.merge(A).map(function(a){return a.y}).concat(r))),u?o.range(g||[y-(o.domain()[0]<0?12:0),o.domain()[1]>0?12:0]):o.range(g||[y,0]),h=h||n,i=i||o.copy().range([o(0),o(0)]);var B=b.selectAll("g.nv-wrap.nv-discretebar").data([a]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),D=C.append("g");B.select("g");D.append("g").attr("class","nv-groups"),B.attr("transform","translate("+j.left+","+j.top+")");var E=B.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});E.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),E.exit().watchTransition(z,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),E.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}),E.watchTransition(z,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var F=E.selectAll("g.nv-bar").data(function(a){return a.values});F.exit().remove();var G=F.enter().append("g").attr("transform",function(a,b,c){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", "+o(0)+")"}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),w.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),w.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){w.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;w.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){w.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});G.append("rect").attr("height",0).attr("width",.9*n.rangeBand()/a.length),u?(G.append("text").attr("text-anchor","middle"),F.select("text").text(function(a,b){return v(q(a,b))}).watchTransition(z,"discreteBar: bars text").attr("x",.9*n.rangeBand()/2).attr("y",function(a,b){return q(a,b)<0?o(q(a,b))-o(0)+12:-4})):F.selectAll("text").remove(),F.attr("class",function(a,b){return q(a,b)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(a,b){return a.color||s(a,b)}).style("stroke",function(a,b){return a.color||s(a,b)}).select("rect").attr("rx",t).attr("class",x).watchTransition(z,"discreteBar: bars rect").attr("width",.9*n.rangeBand()/a.length),F.watchTransition(z,"discreteBar: bars").attr("transform",function(a,b){return"translate("+(n(p(a,b))+.05*n.rangeBand())+", "+(q(a,b)<0?o(0):o(0)-o(q(a,b))<1?o(0)-1:o(q(a,b)))+")"}).select("rect").attr("height",function(a,b){return Math.max(Math.abs(o(q(a,b))-o(0)),1)}),h=n.copy(),i=o.copy()}),z.renderEnd("discreteBar immediate"),a}var b,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=Math.floor(1e4*Math.random()),n=d3.scaleOrdinal(),o=d3.scaleLinear(),p=function(a){return a.x},q=function(a){return a.y},r=[0],s=c.utils.defaultColor(),t=0,u=!1,v=d3.format(",.2f"),w=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),x="discreteBar",y=250,z=c.utils.renderWatch(w,y);return a.dispatch=w,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},forceY:{get:function(){return r},set:function(a){r=a}},showValues:{get:function(){return u},set:function(a){u=a}},cornerRadius:{get:function(){return t},set:function(a){t=a}},x:{get:function(){return p},set:function(a){p=a}},y:{get:function(){return q},set:function(a){q=a}},xScale:{get:function(){return n},set:function(a){n=a}},yScale:{get:function(){return o},set:function(a){o=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},valueFormat:{get:function(){return v},set:function(a){v=a}},id:{get:function(){return m},set:function(a){m=a}},rectClass:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},color:{get:function(){return s},set:function(a){s=c.utils.getColor(a)}},duration:{get:function(){return y},set:function(a){y=a,z.reset(y)}}}),c.utils.initOptions(a),a},c.models.discreteBarChart=function(){"use strict";function a(i){return y.reset(),y.models(e),p&&y.models(f),q&&y.models(g),i.each(function(i){var n=d3.select(this);c.utils.initSVG(n);var v=c.utils.availableWidth(l,n,j),y=c.utils.availableHeight(m,n,j);if(a.update=function(){w.beforeUpdate(),n.transition().duration(x).call(a)},a.container=this,!(i&&i.length&&i.filter(function(a){return a.values.length}).length))return c.utils.noData(a,n),a;n.selectAll(".nv-noData").remove(),b=e.xScale(),d=e.yScale().clamp(!0);var z=n.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([i]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),B=A.append("defs"),C=z.select("g");if(A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),A.append("g").attr("class","nv-barsWrap"),A.append("g").attr("class","nv-legendWrap"),C.attr("transform","translate("+j.left+","+j.top+")"),o?(h.width(v),C.select(".nv-legendWrap").datum(i).call(h),k||h.height()===j.top||(j.top=h.height(),y=c.utils.availableHeight(m,n,j)),z.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")):C.select(".nv-legendWrap").selectAll("*").remove(),r&&C.select(".nv-y.nv-axis").attr("transform","translate("+v+",0)"),e.width(v).height(y),C.select(".nv-barsWrap").datum(i.filter(function(a){return!a.disabled})).transition().call(e),B.append("clipPath").attr("id","nv-x-label-clip-"+e.id()).append("rect"),C.select("#nv-x-label-clip-"+e.id()+" rect").attr("width",b.rangeBand()*(s?2:1)).attr("height",16).attr("x",-b.rangeBand()/(s?1:2)),p){f.scale(b)._ticks(c.utils.calcTicksX(v/100,i)).tickSize(-y,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+(d.range()[0]+(e.showValues()&&d.domain()[0]<0?16:0))+")"),C.select(".nv-x.nv-axis").call(f);var D=C.select(".nv-x.nv-axis").selectAll("g");s&&D.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"}),u&&D.selectAll(".tick text").attr("transform","rotate("+u+" 0,0)").style("text-anchor",u>0?"start":"end"),t&&C.selectAll(".tick text").call(c.utils.wrapTicks,a.xAxis.rangeBand())}q&&(g.scale(d)._ticks(c.utils.calcTicksY(y/36,i,e.y())).tickSize(-v,0),C.select(".nv-y.nv-axis").call(g)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",r?-v:v).attr("y1",d(0)).attr("y2",d(0))}),y.renderEnd("discreteBar chart immediate"),a}var b,d,e=c.models.discreteBar(),f=c.models.axis(),g=c.models.axis(),h=c.models.legend(),i=c.models.tooltip(),j={top:15,right:10,bottom:50,left:60},k=null,l=null,m=null,n=c.utils.getColor(),o=!1,p=!0,q=!0,r=!1,s=!1,t=!1,u=0,v=null,w=d3.dispatch("beforeUpdate","renderEnd"),x=250;f.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),g.orient(r?"right":"left").tickFormat(d3.format(",.1f")),i.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).keyFormatter(function(a,b){return f.tickFormat()(a,b)});var y=c.utils.renderWatch(w,x);return e.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color},i.data(b).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){i.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){i()}),a.dispatch=w,a.discretebar=e,a.legend=h,a.xAxis=f,a.yAxis=g,a.tooltip=i,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},showLegend:{get:function(){return o},set:function(a){o=a}},staggerLabels:{get:function(){return s},set:function(a){s=a}},rotateLabels:{get:function(){return u},set:function(a){u=a}},wrapLabels:{get:function(){return t},set:function(a){t=!!a}},showXAxis:{get:function(){return p},set:function(a){p=a}},showYAxis:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return j},set:function(a){void 0!==a.top&&(j.top=a.top,k=a.top),j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return x},set:function(a){x=a,y.reset(x),e.duration(x),f.duration(x),g.duration(x)}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a),e.color(n),h.color(n)}},rightAlignYAxis:{get:function(){return r},set:function(a){r=a,g.orient(a?"right":"left")}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.distribution=function(){"use strict";function a(e){return m.reset(),e.each(function(a){var e=("x"===g?(d.left,d.right):(d.top,d.bottom),"x"==g?"y":"x"),k=d3.select(this);c.utils.initSVG(k),b=b||j;var l=k.selectAll("g.nv-distribution").data([a]),n=l.enter().append("g").attr("class","nvd3 nv-distribution"),o=(n.append("g"),l.select("g"));l.attr("transform","translate("+d.left+","+d.top+")");var p=o.selectAll("g.nv-dist").data(function(a){return a},function(a){return a.key});p.enter().append("g"),p.attr("class",function(a,b){return"nv-dist nv-series-"+b}).style("stroke",function(a,b){return i(a,b)});var q=p.selectAll("line.nv-dist"+g).data(function(a){return a.values});q.enter().append("line").attr(g+"1",function(a,c){return b(h(a,c))}).attr(g+"2",function(a,c){return b(h(a,c))}),m.transition(p.exit().selectAll("line.nv-dist"+g),"dist exit").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))}).style("stroke-opacity",0).remove(),q.attr("class",function(a,b){return"nv-dist"+g+" nv-dist"+g+"-"+b}).attr(e+"1",0).attr(e+"2",f),m.transition(q,"dist").attr(g+"1",function(a,b){return j(h(a,b))}).attr(g+"2",function(a,b){return j(h(a,b))}),b=j.copy()}),m.renderEnd("distribution immediate"),a}var b,d={top:0,right:0,bottom:0,left:0},e=400,f=8,g="x",h=function(a){return a[g]},i=c.utils.defaultColor(),j=d3.scaleLinear(),k=250,l=d3.dispatch("renderEnd"),m=c.utils.renderWatch(l,k);return a.options=c.utils.optionsFunc.bind(a),a.dispatch=l,a.margin=function(b){return arguments.length?(d.top=void 0!==b.top?b.top:d.top,d.right=void 0!==b.right?b.right:d.right,d.bottom=void 0!==b.bottom?b.bottom:d.bottom,d.left=void 0!==b.left?b.left:d.left,a):d},a.width=function(b){return arguments.length?(e=b,a):e},a.axis=function(b){return arguments.length?(g=b,a):g},a.size=function(b){return arguments.length?(f=b,a):f},a.getData=function(b){return arguments.length?(h=c.functor(b),a):h},a.scale=function(b){return arguments.length?(j=b,a):j},a.color=function(b){return arguments.length?(i=c.utils.getColor(b),a):i},a.duration=function(b){return arguments.length?(k=b,m.reset(k),a):k},a},c.models.distroPlot=function(){"use strict";function a(a){var b=a.sort(d3.ascending),c=1.349,d=(d3.quantile(b,.75)-d3.quantile(b,.25))/c;return d3.min([d3.deviation(b),d])}function b(b,c){void 0===c&&(c="scott");var d=a(b),e=b.length;return"scott"===c?Math.pow(1.059*d*e,-.2):Math.pow(.9*d*e,-.2)}function d(a){function c(a,c){var d=a.map(function(a){return R&&da.add(R(a)),z(a)}).sort(d3.ascending),h=d3.quantile(d,.25),i=d3.quantile(d,.75),j=i-h,k=i+1.5*j,l=h-1.5*j,m={iqr:d3.max([d3.min(d),d3.min(d.filter(function(a){return a>l}))]),minmax:d3.min(d),stddev:d3.mean(d)-d3.deviation(d)},n={iqr:d3.min([d3.max(d),d3.max(d.filter(function(a){return a<k}))]),minmax:d3.max(d),stddev:d3.mean(d)+d3.deviation(d)},o=d3.median(d),p=d3.mean(d),q=[];if(void 0!==d3.beeswarm?(q=d3.beeswarm().data(a.map(function(a){return z(a)})).radius(Z+1).orientation("vertical").side("symmetric").distributeOn(function(a){return x(a)}).arrange(),q.map(function(b,d){b.key=c,b.object_constancy=a[d].object_constancy,b.isOutlier=b.datum<m.iqr||b.datum>n.iqr,b.isOutlierStdDev=b.datum<m.stddev||b.datum>n.stddev,b.randX=Math.random()*U*(1==Math.floor(2*Math.random())?1:-1)})):d.forEach(function(a,b){q.push({object_constancy:a.object_constancy,datum:a,key:c,isOutlier:a<m.iqr||a>n.iqr,isOutlierStdDev:a<m.stddev||a>n.stddev,randX:Math.random()*U*(1==Math.floor(2*Math.random())?1:-1)})}),isNaN(parseFloat(W))){var r;r=-1!=["scott","silverman"].indexOf(W)?b(d,W):b(d)}var s=e(g(r),x.ticks(Y)),t=X?f(s(d),d3.extent(d)):s(d),u=d3.scaleLinear().domain([0,d3.max(t,function(a){return a.y})]).clamp(!0);ea.push(u);var v={count:d.length,num_outlier:q.filter(function(a){return a.isOutlier}).length,sum:d3.sum(d),mean:p,q1:h,q2:o,q3:i,wl:m,wu:n,iqr:j,min:d3.min(d),max:d3.max(d),dev:d3.deviation(d),observations:q,key:c,kde:t,notch:1.57*j/Math.sqrt(d.length)};return R&&fa.push({key:c,values:v}),v}a.forEach(function(a,b){a.object_constancy=b+"_"+z(a)+"_"+y(a)});var d;if(R){da=d3.set();var h=d3.nest().key(function(a){return y(a)}).key(function(a){return R(a)}).rollup(function(a){return c(a,y(a[0]))}).entries(a);da=da.values();for(var i=h.map(function(a){return a.key}),j=[],k=0;k<i.length;k++)for(var l=0;l<da.length;l++)j.push(i[k]+"_"+da[l]);da=j,d=[],h.forEach(function(a){a.values.forEach(function(b){b.key=a.key+"_"+b.key}),d.push.apply(d,a.values)})}else d=d3.nest().key(function(a){return y(a)}).rollup(function(a,b){return c(a)}).entries(a);return d}function e(a,b){return function(c){return b.map(function(b){var d=d3.mean(c,function(c){return a(b-c)});return{x:b,y:d}})}}function f(a,b){if(b[0]===b[1])return a;var c=a.reduce(function(a,c){return c.x>=b[0]&&c.x<=b[1]&&a.push(c),a},[]);return b[0]<c[0].x&&c.unshift({x:b[0],y:c[0].y}),b[1]>c[c.length-1].x&&c.push({x:b[1],y:c[c.length-1].y}),c}function g(a){return function(b){return Math.abs(b/=a)<=1?.75*(1-b*b)/a:0}}function h(a,b,c,d){var e="mean"==S?G(d):C(d);return Q?[{x:c,y:x(B(d))},{x:a,y:x(B(d))},{x:a,y:x(E(d))},{x:b,y:x(e)},{x:a,y:x(F(d))},{x:a,y:x(D(d))},{x:c,y:x(D(d))}]:[{x:c,y:x(B(d))},{x:a,y:x(B(d))},{x:a,y:x(e)},{x:a,y:x(e)},{x:a,y:x(e)},{x:a,y:x(D(d))},{x:c,y:x(D(d))}]}function i(a){return"iqr"==O&&a.isOutlier||"stddev"==O&&a.isOutlierStdDev}function j(a){return ga.reset(),a.each(function(a){q=t-s.left-s.right,r=u-s.top-s.bottom,_=d3.select(this),c.utils.initSVG(_),x.domain(n||d3.extent(a.map(function(a){return z(a)}))).nice().range(o||[r,0]),void 0===p&&(p=d(a)),w.rangeBands(m||[0,q],.1).domain(l||R&&!V?da:p.map(function(a){return a.key}));var b=_.selectAll("g.nv-wrap").data([p]);b.enter().append("g").attr("class","nvd3 nv-wrap");b.watchTransition(ga,"nv-wrap: wrap").attr("transform","translate("+s.left+","+s.top+")");var e,f=b.selectAll(".nv-distroplot-x-group").data(function(a){return a});f.each(function(a,b){d3.select(this).selectAll("line.nv-distroplot-middle").datum(a)}),e=f.enter().append("g").attr("class","nv-distroplot-x-group").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).style("fill",function(a,b){return A(a)||$(a,b)}).style("stroke",function(a,b){return A(a)||$(a,b)}),f.exit().remove();var g=function(){return w.rangeBand()},j=function(){return d3.min([ca,.9*g()])},v=function(){return j()/2},y=function(){return v()-j()/2},E=function(){return v()+j()/2},F=function(){return v()-j()/5},O=function(){return v()+j()/5};e.attr("transform",function(a){return"translate("+(w(a.key)+.5*(g()-j()))+", 0)"}),f.watchTransition(ga,"nv-distroplot-x-group: distroplots").style("stroke-opacity",1).style("fill-opacity",.5).attr("transform",function(a){return"translate("+(w(a.key)+.5*(g()-j()))+", 0)"}),ea.map(function(a){a.range([j()/2,0])}),k||(T=!1,N||(N="random")),e.each(function(a,b){var c=d3.select(this);[H,I].forEach(function(a){var b=a===H?"low":"high";c.append("line").style("opacity",function(){return P?"1":"0"}).attr("class","nv-distroplot-whisker nv-distroplot-"+b),c.append("line").style("opacity",function(){return P?"0":"1"}).attr("class","nv-distroplot-tick nv-distroplot-"+b)})}),[H,I].forEach(function(a){var b=a===H?"low":"high",c=a===H?B:D;f.select("line.nv-distroplot-whisker.nv-distroplot-"+b).watchTransition(ga,"nv-distroplot-x-group: distroplots").attr("x1",v()).attr("y1",function(b){return x("violin"!=k?a(b):C(b))}).attr("x2",v()).attr("y2",function(a){return x("box"==k?c(a):C(a))}).style("opacity",function(){return P?"0":"1"}),f.select("line.nv-distroplot-tick.nv-distroplot-"+b).watchTransition(ga,"nv-distroplot-x-group: distroplots").attr("x1",function(a){return"violin"!=k?F():v()}).attr("y1",function(b,c){return x("violin"!=k?a(b):C(b))}).attr("x2",function(a){return"violin"!=k?O():v()}).attr("y2",function(b,c){return x("violin"!=k?a(b):C(b))}).style("opacity",function(){return P?"0":"1"})}),[H,I].forEach(function(a){var b=a===H?"low":"high";e.selectAll(".nv-distroplot-"+b).on("mouseover",function(c,d,e){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+b).classed("hover",!0),aa.elementMouseover({value:"low"==b?"Lower whisker":"Upper whisker",series:{key:a(c).toFixed(2),color:A(c)||$(c,e)},e:d3.event})}).on("mouseout",function(c,d,e){d3.select(this.parentNode).selectAll("line.nv-distroplot-"+b).classed("hover",!1),aa.elementMouseout({value:"low"==b?"Lower whisker":"Upper whisker",series:{key:a(c).toFixed(2),color:A(c)||$(c,e)},e:d3.event})}).on("mousemove",function(a,b){aa.elementMousemove({e:d3.event})})}),e.each(function(a,b){var c=d3.select(this);["left","right"].forEach(function(a){["line","area"].forEach(function(b){c.append("path").attr("class","nv-distribution-"+b+" nv-distribution-"+a).attr("transform","rotate(90,0,0)   translate(0,"+("left"==a?-j():0)+")"+("left"==a?"":" scale(1,-1)"))})}),e.selectAll(".nv-distribution-line").style("fill","none"),e.selectAll(".nv-distribution-area").style("stroke","none").style("opacity",.7)}),f.each(function(a,b){var c=d3.select(this),d="box"==k?h(y(),F(),v(),a):a.values.kde;c.selectAll("path").datum(d);var e=ea[b],g="box"==k?"linear":"basis";"box"==k||"violin"==k?["left","right"].forEach(function(a){f.selectAll(".nv-distribution-line.nv-distribution-"+a).attr("d",d3.svg.line().x(function(a){return"box"==k?a.y:x(a.x)}).y(function(a){return"box"==k?a.x:e(a.y)}).interpolate(g)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==a?-j():0)+")"+("left"==a?"":" scale(1,-1)")).style("opacity",k?"1":"0"),f.selectAll(".nv-distribution-area.nv-distribution-"+a).attr("d",d3.svg.area().x(function(a){return"box"==k?a.y:x(a.x)}).y(function(a){return"box"==k?a.x:e(a.y)}).y0(j()/2).interpolate(g)).attr("transform","rotate(90,0,0)   translate(0,"+("left"==a?-j():0)+")"+("left"==a?"":" scale(1,-1)")).style("opacity",k?"1":"0")}):(f.selectAll(".nv-distribution-area").watchTransition(ga,"nv-distribution-area: distroplots").style("opacity",k?"1":"0"),f.selectAll(".nv-distribution-line").watchTransition(ga,"nv-distribution-line: distroplots").style("opacity",k?"1":"0"))}),f.selectAll("path").on("mouseover",function(a,b,c){a=d3.select(this.parentNode).datum(),d3.select(this).classed("hover",!0),aa.elementMouseover({key:a.key,value:"Group "+a.key+" stats",series:[{key:"max",value:K(a).toFixed(2),color:A(a)||$(a,c)},{key:"Q3",value:D(a).toFixed(2),color:A(a)||$(a,c)},{key:"Q2",value:C(a).toFixed(2),color:A(a)||$(a,c)},{key:"Q1",value:B(a).toFixed(2),color:A(a)||$(a,c)},{key:"min",value:J(a).toFixed(2),color:A(a)||$(a,c)},{key:"mean",value:G(a).toFixed(2),color:A(a)||$(a,c)},{key:"std. dev.",value:L(a).toFixed(2),color:A(a)||$(a,c)},{key:"count",value:a.values.count,color:A(a)||$(a,c)},{key:"num. outliers",value:a.values.num_outlier,color:A(a)||$(a,c)}],data:a,index:b,e:d3.event})}).on("mouseout",function(a,b,c){d3.select(this).classed("hover",!1),a=d3.select(this.parentNode).datum(),aa.elementMouseout({key:a.key,value:"Group "+a.key+" stats",series:[{key:"max",value:K(a).toFixed(2),color:A(a)||$(a,c)},{key:"Q3",value:D(a).toFixed(2),color:A(a)||$(a,c)},{key:"Q2",value:C(a).toFixed(2),color:A(a)||$(a,c)},{key:"Q1",value:B(a).toFixed(2),color:A(a)||$(a,c)},{key:"min",value:J(a).toFixed(2),color:A(a)||$(a,c)},{key:"mean",value:G(a).toFixed(2),color:A(a)||$(a,c)},{key:"std. dev.",value:L(a).toFixed(2),color:A(a)||$(a,c)},{key:"count",value:a.values.count,color:A(a)||$(a,c)},{key:"num. outliers",value:a.values.num_outlier,color:A(a)||$(a,c)}],data:a,index:b,e:d3.event})}).on("mousemove",function(a,b){aa.elementMousemove({e:d3.event})}),e.append("line").attr("class",function(a){return"nv-distroplot-middle"}),f.selectAll("line.nv-distroplot-middle").watchTransition(ga,"nv-distroplot-x-group: distroplots line").attr("x1",Q?F:"violin"!=k?y:F()).attr("y1",function(a,b,c){return x("mean"==S?G(a):C(a))}).attr("x2",Q?O:"violin"!=k?E:O()).attr("y2",function(a,b){return x("mean"==S?G(a):C(a))}).style("opacity",S?"1":"0"),f.selectAll(".nv-distroplot-middle").on("mouseover",function(a,b,c){if(0!=d3.select(this).style("opacity")){var d=d3.select(this.parentNode).style("fill");d3.select(this).classed("hover",!0),aa.elementMouseover({value:"mean"==S?"Mean":"Median",series:{key:"mean"==S?G(a).toFixed(2):C(a).toFixed(2),color:d},e:d3.event})}}).on("mouseout",function(a,b,c){if(0!=d3.select(this).style("opacity")){d3.select(this).classed("hover",!1);var d=d3.select(this.parentNode).style("fill");aa.elementMouseout({value:"mean"==S?"Mean":"Median",series:{key:"mean"==S?G(a).toFixed(2):C(a).toFixed(2),color:d},e:d3.event})}}).on("mousemove",function(a,b){aa.elementMousemove({e:d3.event})});var U=f.selectAll("g.nv-distroplot-observation").data(function(a){return M(a)},function(a){return a.object_constancy}),W=U.enter().append("g").attr("class","nv-distroplot-observation");W.append("circle").style({opacity:0}),W.append("line").style("stroke-width",1).style({stroke:d3.rgb(85,85,85),opacity:0}),U.exit().remove(),U.attr("class",function(a){return"nv-distroplot-observation "+(i(a)&&"box"==k?"nv-distroplot-outlier":"nv-distroplot-non-outlier")}),"line"==N?f.selectAll("g.nv-distroplot-observation line").watchTransition(ga,"nv-distrolot-x-group: nv-distoplot-observation").attr("x1",F()+j()/4).attr("x2",O()-j()/4).attr("y1",function(a){return x(a.datum)}).attr("y2",function(a){return x(a.datum)}):(f.selectAll("g.nv-distroplot-observation circle").watchTransition(ga,"nv-distroplot: nv-distroplot-observation").attr("cy",function(a){return x(a.datum)}).attr("r",Z),f.selectAll("g.nv-distroplot-observation circle").watchTransition(ga,"nv-distroplot: nv-distroplot-observation").attr("cx",function(a){return"swarm"==N?a.x+j()/2:"random"==N?j()/2+a.randX*j()/2:j()/2})),!1!==N&&(T?(f.selectAll(".nv-distroplot-outlier "+("line"==N?"line":"circle")).watchTransition(ga,"nv-distroplot: nv-distroplot-observation").style("opacity",1),f.selectAll(".nv-distroplot-non-outlier "+("line"==N?"line":"circle")).watchTransition(ga,"nv-distroplot: nv-distroplot-observation").style("opacity",0)):f.selectAll("line"==N?"line":"circle").watchTransition(ga,"nv-distroplot: nv-distroplot-observation").style("opacity",1)),f.selectAll(".nv-distroplot-observation"+("line"==N?" circle":" line")).watchTransition(ga,"nv-distroplot: nv-distoplot-observation").style("opacity",0),f.selectAll(".nv-distroplot-observation").on("mouseover",function(a,b,c){var d=d3.select(this);if(!T||"box"!=k||i(a)){var e=d3.select(this.parentNode).style("fill");d.classed("hover",!0),aa.elementMouseover({value:"box"==k&&i(a)?"Outlier":"Observation",series:{key:a.datum.toFixed(2),color:e},e:d3.event})}}).on("mouseout",function(a,b,c){var d=d3.select(this),e=d3.select(this.parentNode).style("fill");d.classed("hover",!1),aa.elementMouseout({value:"box"==k&&i(a)?"Outlier":"Observation",series:{key:a.datum.toFixed(2),color:e},e:d3.event})}).on("mousemove",function(a,b){aa.elementMousemove({e:d3.event})})}),ga.renderEnd("nv-distroplot-x-group immediate"),j}var k,l,m,n,o,p,q,r,s={top:0,right:0,bottom:0,left:0},t=960,u=500,v=Math.floor(1e4*Math.random()),w=d3.scaleOrdinal(),x=d3.scaleLinear(),y=function(a){return a.label},z=function(a){return a.value},A=function(a){return a.color},B=function(a){return a.values.q1},C=function(a){return a.values.q2},D=function(a){return a.values.q3},E=function(a){return("mean"==S?G(a):C(a))-a.values.notch},F=function(a){return("mean"==S?G(a):C(a))+a.values.notch},G=function(a){return a.values.mean},H=function(a){return a.values.wl[O]},I=function(a){return a.values.wu[O]},J=function(a){return a.values.min},K=function(a){return a.values.max},L=function(a){return a.values.dev},M=function(a){return a.values.observations},N=!1,O="iqr",P=!1,Q=!1,R=!1,S=!1,T=!0,U=.7,V=!0,W="scott",X=!0,Y=50,Z=3,$=c.utils.defaultColor(),_=null,aa=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),ba=250,ca=null,da=d3.set(),ea=[],fa=[],ga=c.utils.renderWatch(aa,ba);return j.dispatch=aa,j.options=c.utils.optionsFunc.bind(j),j._options=Object.create({},{width:{get:function(){return t},set:function(a){t=a}},height:{get:function(){return u},set:function(a){u=a}},maxBoxWidth:{get:function(){return ca},set:function(a){ca=a}},x:{get:function(){return y},set:function(a){y=a}},y:{get:function(){return z},set:function(a){z=a}},plotType:{get:function(){return k},set:function(a){k=a}},observationType:{get:function(){return N},set:function(a){N=a}},whiskerDef:{get:function(){return O},set:function(a){O=a}},notchBox:{get:function(){return Q},set:function(a){Q=a}},hideWhiskers:{get:function(){return P},set:function(a){P=a}},colorGroup:{get:function(){return R},set:function(a){R=a}},centralTendency:{get:function(){return S},set:function(a){S=a}},bandwidth:{get:function(){return W},set:function(a){W=a}},clampViolin:{get:function(){return X},set:function(a){X=a}},resolution:{get:function(){return Y},set:function(a){Y=a}},xScale:{get:function(){return w},set:function(a){w=a}},yScale:{get:function(){return x},set:function(a){x=a}},showOnlyOutliers:{get:function(){return T},set:function(a){T=a}},jitter:{get:function(){return U},set:function(a){U=a}},squash:{get:function(){return V},set:function(a){V=a}},pointSize:{get:function(){return Z},set:function(a){Z=a}},xDomain:{get:function(){return l},set:function(a){l=a}},yDomain:{get:function(){return n},set:function(a){n=a}},xRange:{get:function(){return m},set:function(a){m=a}},yRange:{get:function(){return o},set:function(a){o=a}},recalcData:{get:function(){p=d(_.datum())}},itemColor:{get:function(){return A},set:function(a){A=a}},id:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return s},set:function(a){s.top=void 0!==a.top?a.top:s.top,s.right=void 0!==a.right?a.right:s.right,s.bottom=void 0!==a.bottom?a.bottom:s.bottom,s.left=void 0!==a.left?a.left:s.left}},color:{get:function(){return $},set:function(a){$=c.utils.getColor(a)}},duration:{get:function(){return ba},set:function(a){ba=a,ga.reset(ba)}}}),c.utils.initOptions(j),j},c.models.distroPlotChart=function(){"use strict";function a(a){return!b(a,E)&&(E=JSON.parse(JSON.stringify(a)),!0)}function b(a,b){if(a.length!==b.length)return!1;for(var c=a.length;c--;)if("object_constancy"in a[c]&&delete a[c].object_constancy,"object_constancy"in b[c]&&delete b[c].object_constancy,!d(a[c],b[c]))return!1;return!0}function d(a,b){var c=Object.getOwnPropertyNames(a),d=Object.getOwnPropertyNames(b);if(c.length!=d.length)return!1;for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!==b[f])return!1}return!0}function e(b){return F.reset(),F.models(h),o&&F.models(i),p&&F.models(j),b.each(function(b){var d=d3.select(this);c.utils.initSVG(d);var n=(l||parseInt(d.style("width"))||960)-k.left-k.right,s=(m||parseInt(d.style("height"))||400)-k.top-k.bottom;if(void 0===E&&(E=JSON.parse(JSON.stringify(b))),e.update=function(){w.beforeUpdate();var c=h.options();(y!==c.colorGroup()||z!==c.x()||A!==c.y()||C!==c.bandwidth()||B!==c.resolution()||D!==c.clampViolin()||a(b))&&h.recalcData(),d.transition().duration(x).call(e)},e.container=this,"function"!=typeof d3.beeswarm&&"swarm"==e.options().observationType()){k.left;return v='Please include the library https://github.com/Kcnarf/d3-beeswarm to use "swarm".',c.utils.noData(e,d),e}if(!b||!b.length)return c.utils.noData(e,d),e;d.selectAll(".nv-noData").remove(),f=h.xScale(),g=h.yScale().clamp(!0);var t=d.selectAll("g.nv-wrap.nv-distroPlot").data([b]),u=t.enter().append("g").attr("class","nvd3 nv-wrap nv-distroPlot").append("g"),G=u.append("defs"),H=t.select("g");if(u.append("g").attr("class","nv-x nv-axis"),u.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),u.append("g").attr("class","nv-distroWrap"),u.attr("transform","translate("+k.left+","+k.top+")"),H.watchTransition(F,"nv-wrap: wrap").attr("transform","translate("+k.left+","+k.top+")"),q&&H.select(".nv-y.nv-axis").attr("transform","translate("+n+",0)"),h.width(n).height(s),H.select(".nv-distroWrap").datum(b).transition().call(h),G.append("clipPath").attr("id","nv-x-label-clip-"+h.id()).append("rect"),H.select("#nv-x-label-clip-"+h.id()+" rect").attr("width",f.rangeBand()*(r?2:1)).attr("height",16).attr("x",-f.rangeBand()/(r?1:2)),o){i.scale(f).ticks(c.utils.calcTicksX(n/100,b)).tickSize(-s,0),H.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")"),H.select(".nv-x.nv-axis").call(i)
;var I=H.select(".nv-x.nv-axis").selectAll("g");r&&I.selectAll("text").attr("transform",function(a,b,c){return"translate(0,"+(c%2==0?"5":"17")+")"})}p&&(j.scale(g).ticks(Math.floor(s/36)).tickSize(-n,0),H.select(".nv-y.nv-axis").call(j)),H.select(".nv-zeroLine line").attr("x1",0).attr("x2",n).attr("y1",g(0)).attr("y2",g(0)),y=h.options().colorGroup(),z=h.options().x(),A=h.options().y(),C=h.options().bandwidth(),B=h.options().resolution(),D=h.options().clampViolin()}),F.renderEnd("nv-distroplot chart immediate"),e}var f,g,h=c.models.distroPlot(),i=c.models.axis(),j=c.models.axis(),k={top:25,right:10,bottom:40,left:60},l=null,m=null,n=c.utils.getColor(),o=!0,p=!0,q=!1,r=!1,s=!1,t=!1,u=c.models.tooltip(),v="No Data Available.",w=d3.dispatch("stateChange","beforeUpdate","renderEnd"),x=500;i.orient("bottom").showMaxMin(!1).tickFormat(function(a){return a}),j.orient(q?"right":"left").tickFormat(d3.format(",.1f")),u.duration(0);var y,z,A,B,C,D,E,F=c.utils.renderWatch(w,x);k.top;return h.dispatch.on("elementMouseover.tooltip",function(a){u.data(a).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(a){u.data(a).hidden(!0)}),h.dispatch.on("elementMousemove.tooltip",function(a){u()}),e.dispatch=w,e.distroplot=h,e.xAxis=i,e.yAxis=j,e.tooltip=u,e.options=c.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},staggerLabels:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return o},set:function(a){o=a}},showYAxis:{get:function(){return p},set:function(a){p=a}},tooltipContent:{get:function(){return u},set:function(a){u=a}},noData:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return defaultState},set:function(a){defaultState=a}},margin:{get:function(){return k},set:function(a){k.top=void 0!==a.top?a.top:k.top,k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return x},set:function(a){x=a,F.reset(x),h.duration(x),i.duration(x),j.duration(x)}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a),h.color(n)}},rightAlignYAxis:{get:function(){return q},set:function(a){q=a,j.orient(a?"right":"left")}},xLabel:{get:function(){return s},set:function(a){s=a,i.axisLabel(s)}},yLabel:{get:function(){return t},set:function(a){t=a,j.axisLabel(t)}}}),c.utils.inheritOptions(e,h),c.utils.initOptions(e),e},c.models.focus=function(a){"use strict";function b(u){return t.reset(),t.models(a),m&&t.models(f),n&&t.models(g),u.each(function(t){function u(a){var b=+("e"==a),c=b?1:-1,d=z/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function v(){h.empty()||h.extent(p),E.data([h.empty()?d.domain():p]).each(function(a,b){var c=d(a[0])-d.range()[0],e=y-d(a[1]);d3.select(this).select(".left").attr("width",c<0?0:c),d3.select(this).select(".right").attr("x",d(a[1])).attr("width",e<0?0:e)})}function w(a){p=h.empty()?null:h.extent();var b=h.empty()?d.domain():h.extent();r.brush({extent:b,brush:h}),v(),a&&r.onBrush(b)}var x=d3.select(this);c.utils.initSVG(x);var y=c.utils.availableWidth(k,x,i),z=l-i.top-i.bottom;b.update=function(){0===q?x.call(b):x.transition().duration(q).call(b)},b.container=this,d=a.xScale(),e=a.yScale();var A=x.selectAll("g.nv-focus").data([t]),B=A.enter().append("g").attr("class","nvd3 nv-focus").append("g"),C=A.select("g");A.attr("transform","translate("+i.left+","+i.top+")"),B.append("g").attr("class","nv-background").append("rect"),B.append("g").attr("class","nv-x nv-axis"),B.append("g").attr("class","nv-y nv-axis"),B.append("g").attr("class","nv-contentWrap"),B.append("g").attr("class","nv-brushBackground"),B.append("g").attr("class","nv-x nv-brush"),o&&C.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),C.select(".nv-background rect").attr("width",y).attr("height",z),a.width(y).height(z).color(t.map(function(a,b){return a.color||j(a,b)}).filter(function(a,b){return!t[b].disabled}));var D=C.select(".nv-contentWrap").datum(t.filter(function(a){return!a.disabled}));d3.transition(D).call(a),h.x(d).on("brush",function(){w(s)}),h.on("brushend",function(){s||r.onBrush(h.empty()?d.domain():h.extent())}),p&&h.extent(p);var E=C.select(".nv-brushBackground").selectAll("g").data([p||h.extent()]),F=E.enter().append("g");F.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",z),F.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",z);var G=C.select(".nv-x.nv-brush").call(h);G.selectAll("rect").attr("height",z),G.selectAll(".resize").append("path").attr("d",u),w(!0),C.select(".nv-background rect").attr("width",y).attr("height",z),m&&(f.scale(d)._ticks(c.utils.calcTicksX(y/100,t)).tickSize(-z,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),d3.transition(C.select(".nv-x.nv-axis")).call(f)),n&&(g.scale(e)._ticks(c.utils.calcTicksY(z/36,t)).tickSize(-y,0),d3.transition(C.select(".nv-y.nv-axis")).call(g)),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")")}),t.renderEnd("focus immediate"),b}var d,e,a=a||c.models.line(),f=c.models.axis(),g=c.models.axis(),h=d3.svg.brush(),i={top:10,right:0,bottom:30,left:0},j=c.utils.defaultColor(),k=null,l=70,m=!0,n=!1,o=!1,p=null,q=250,r=d3.dispatch("brush","onBrush","renderEnd"),s=!0;a.interactive(!1),a.pointActive(function(a){return!1});var t=c.utils.renderWatch(r,q);return b.dispatch=r,b.content=a,b.brush=h,b.xAxis=f,b.yAxis=g,b.options=c.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},showXAxis:{get:function(){return m},set:function(a){m=a}},showYAxis:{get:function(){return n},set:function(a){n=a}},brushExtent:{get:function(){return p},set:function(a){p=a}},syncBrushing:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return i},set:function(a){i.top=void 0!==a.top?a.top:i.top,i.right=void 0!==a.right?a.right:i.right,i.bottom=void 0!==a.bottom?a.bottom:i.bottom,i.left=void 0!==a.left?a.left:i.left}},duration:{get:function(){return q},set:function(b){q=b,t.reset(q),a.duration(q),f.duration(q),g.duration(q)}},color:{get:function(){return j},set:function(b){j=c.utils.getColor(b),a.color(j)}},interpolate:{get:function(){return a.interpolate()},set:function(b){a.interpolate(b)}},xTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a)}},x:{get:function(){return a.x()},set:function(b){a.x(b)}},y:{get:function(){return a.y()},set:function(b){a.y(b)}},rightAlignYAxis:{get:function(){return o},set:function(a){o=a,g.orient(o?"right":"left")}}}),c.utils.inheritOptions(b,a),c.utils.initOptions(b),b},c.models.forceDirectedGraph=function(){"use strict";function a(g){return w.reset(),g.each(function(g){f=d3.select(this),c.utils.initSVG(f);var j=c.utils.availableWidth(d,f,b),u=c.utils.availableHeight(e,f,b);if(f.attr("width",j).attr("height",u),!(g&&g.links&&g.nodes))return c.utils.noData(a,f),a;f.selectAll(".nv-noData").remove(),f.selectAll("*").remove();var v=new Set;g.nodes.forEach(function(a){Object.keys(a).forEach(function(a){v.add(a)})});var w=d3.layout.force().nodes(g.nodes).links(g.links).size([j,u]).linkStrength(k).friction(l).linkDistance(m).charge(n).gravity(o).theta(p).alpha(q).start(),x=f.selectAll(".link").data(g.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(a){return Math.sqrt(a.value)}),y=f.selectAll(".node").data(g.nodes).enter().append("g").attr("class","nv-force-node").call(w.drag);y.append("circle").attr("r",r).style("fill",function(a){return h(a)}).on("mouseover",function(a){f.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.py),f.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.px);var b=h(a);a.series=[],v.forEach(function(c){a.series.push({color:b,key:c,value:a[c]})}),i.data(a).hidden(!1)}).on("mouseout",function(a){i.hidden(!0)}),i.headerFormatter(function(a){return"Node"}),t(x),s(y),w.on("tick",function(){x.attr("x1",function(a){return a.source.x}).attr("y1",function(a){return a.source.y}).attr("x2",function(a){return a.target.x}).attr("y2",function(a){return a.target.y}),y.attr("transform",function(a){return"translate("+a.x+", "+a.y+")"})})}),a}var b={top:2,right:0,bottom:2,left:0},d=400,e=32,f=null,g=d3.dispatch("renderEnd"),h=c.utils.getColor(["#000"]),i=c.models.tooltip(),j=null,k=.1,l=.9,m=30,n=-120,o=.1,p=.8,q=.1,r=5,s=function(a){},t=function(a){},u=c.functor(0),v=c.functor(0),w=c.utils.renderWatch(g);return a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},linkStrength:{get:function(){return k},set:function(a){k=a}},friction:{get:function(){return l},set:function(a){l=a}},linkDist:{get:function(){return m},set:function(a){m=a}},charge:{get:function(){return n},set:function(a){n=a}},gravity:{get:function(){return o},set:function(a){o=a}},theta:{get:function(){return p},set:function(a){p=a}},alpha:{get:function(){return q},set:function(a){q=a}},radius:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return u},set:function(a){u=c.functor(a)}},y:{get:function(){return v},set:function(a){v=c.functor(a)}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}},noData:{get:function(){return j},set:function(a){j=a}},nodeExtras:{get:function(){return s},set:function(a){s=a}},linkExtras:{get:function(){return t},set:function(a){t=a}}}),a.dispatch=g,a.tooltip=i,c.utils.initOptions(a),a},c.models.furiousLegend=function(){"use strict";function a(r){function s(a,b){return"furious"!=q?"#000":o?a.disengaged?h(a,b):"#fff":o?void 0:a.disabled?h(a,b):"#fff"}function t(a,b){return o&&"furious"==q?a.disengaged?"#fff":h(a,b):a.disabled?"#fff":h(a,b)}return r.each(function(a){var r=d-b.left-b.right,u=d3.select(this);c.utils.initSVG(u);var v=u.selectAll("g.nv-legend").data([a]),w=(v.enter().append("g").attr("class","nvd3 nv-legend").append("g"),v.select("g"));v.attr("transform","translate("+b.left+","+b.top+")");var x,y=w.selectAll(".nv-series").data(function(a){return"furious"!=q?a:a.filter(function(a){return!!o||!a.disengaged})}),z=y.enter().append("g").attr("class","nv-series");if("classic"==q)z.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),x=y.select("circle");else if("furious"==q){z.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),x=y.select("rect"),z.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var A=y.select(".nv-check-box");A.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",s(a,b))})}z.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var B=y.select("text.nv-legend-text");y.on("mouseover",function(a,b){p.legendMouseover(a,b)}).on("mouseout",function(a,b){p.legendMouseout(a,b)}).on("click",function(a,b){p.legendClick(a,b);var c=y.data();if(m){if("classic"==q)n?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==q)if(o)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!o){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}p.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(("furious"!=q||!o)&&(p.legendDblclick(a,b),m)){var c=y.data();c.forEach(function(a){a.disabled=!0,"furious"==q&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==q&&(a.userDisabled=a.disabled),p.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}),y.classed("nv-disabled",function(a){return a.userDisabled}),y.exit().remove(),B.attr("fill",s).text(function(a){return g(f(a))});var C;switch(q){case"furious":C=23;break;case"classic":C=20}if(j){var D=[];y.each(function(a,b){var d;if(g(f(a))&&g(f(a)).length>i){var e=g(f(a)).substring(0,i);d=d3.select(this).select("text").text(e+"..."),d3.select(this).append("svg:title").text(g(f(a)))}else d=d3.select(this).select("text");var h;try{if((h=d.node().getComputedTextLength())<=0)throw Error()}catch(j){h=c.utils.calcApproxTextWidth(d)}D.push(h+k)});for(var E=0,F=0,G=[];F<r&&E<D.length;)G[E]=D[E],F+=D[E++];for(0===E&&(E=1);F>r&&E>1;){G=[],E--;for(var H=0;H<D.length;H++)D[H]>(G[H%E]||0)&&(G[H%E]=D[H]);F=G.reduce(function(a,b,c,d){return a+b})}for(var I=[],J=0,K=0;J<E;J++)I[J]=K,K+=G[J];y.attr("transform",function(a,b){return"translate("+I[b%E]+","+(5+Math.floor(b/E)*C)+")"}),l?w.attr("transform","translate("+(d-b.right-F)+","+b.top+")"):w.attr("transform","translate(0,"+b.top+")"),e=b.top+b.bottom+Math.ceil(D.length/E)*C}else{var L,M=5,N=5,O=0;y.attr("transform",function(a,c){var e=d3.select(this).select("text").node().getComputedTextLength()+k;return L=N,d<b.left+b.right+L+e&&(N=L=5,M+=C),N+=e,N>O&&(O=N),"translate("+L+","+M+")"}),w.attr("transform","translate("+(d-b.right-O)+","+b.top+")"),e=b.top+b.bottom+M+15}"furious"==q&&x.attr("width",function(a,b){return B[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),x.style("fill",t).style("stroke",function(a,b){return a.color||h(a,b)})}),a}var b={top:5,right:0,bottom:5,left:0},d=400,e=20,f=function(a){return a.key},g=function(a){return a},h=c.utils.getColor(),i=20,j=!0,k=28,l=!0,m=!0,n=!1,o=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),q="classic";return a.dispatch=p,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return g},set:function(a){g=a}},align:{get:function(){return j},set:function(a){j=a}},rightAlign:{get:function(){return l},set:function(a){l=a}},maxKeyLength:{get:function(){return i},set:function(a){i=a}},padding:{get:function(){return k},set:function(a){k=a}},updateState:{get:function(){return m},set:function(a){m=a}},radioButtonMode:{get:function(){return n},set:function(a){n=a}},expanded:{get:function(){return o},set:function(a){o=a}},vers:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}}),c.utils.initOptions(a),a},c.models.heatMap=function(){"use strict";function a(a){if(Q){var b=d3.rgb(a);return(299*b.r+587*b.g+114*b.b)/1e3>=128?"#404040":"#EDEDED"}return"black"}function b(a,b){var c={};return a.forEach(function(a,d){"row"==b?(ka(a)in c||(c[ka(a)]=[]),c[ka(a)].push(J(a))):"col"==b?(ja(a)in c||(c[ja(a)]=[]),c[ja(a)].push(J(a))):null==b&&(0 in c||(c[0]=[]),c[0].push(J(a)))}),c}function d(a){var b=d3.median(a),c=a.map(function(a){return Math.abs(a-b)});return d3.median(c)}function e(a){var b=P?la(a):J(a);return g()&&!isNaN(b)||void 0!==b?G(b):T}function f(){return g()?P?d3.extent(x,function(a){return la(a)}):d3.extent(ca):g()?void 0:ca}function g(){return"number"==typeof ca[0]}function h(a){if(-1!=["centerRow","robustCenterRow","centerScaleRow","robustCenterScaleRow","centerColumn","robustCenterColumn","centerScaleColumn","robustCenterScaleColumn","centerAll","robustCenterAll","centerScaleAll","robustCenterScaleAll"].indexOf(P)){var c=(Object.keys(aa),Object.keys(ba),!!P.includes("Scale")),e=P.includes("robust")?"median":"mean",f=P.includes("Row")?"row":P.includes("Column")?"col":null,h=b(a,f),i={},j={};for(var k in h)i[k]="mean"==e?d3.mean(h[k]):d3.median(h[k]),c&&(j[k]="mean"==e?d3.deviation(h[k]):d(h[k]));a.forEach(function(a,b){if(g()){if("row"==f)var d=ka(a);else if("col"==f)var d=ja(a);else if(null==f)var d=0;var e=J(a)-i[d];a._cellPos.norm=c?e/j[d]:e}else a._cellPos.norm=J(a)})}else P=!1;return a}function i(a){aa={},ba={},ca=[],da=[],ea=[],fa=[];var b,c=[],d={},e=0,f=0,g=0;a.forEach(function(a){var h=H(a),i=I(a),k=J(a);h in aa||(aa[h]=e,e++,d[h]={},"function"==typeof t&&da.push(t(a))),i in ba||(ba[i]=f,f++,d[h][i]={},"function"==typeof u&&ea.push(u(a))),-1==ca.indexOf(k)&&ca.push(k),a._cellPos={idx:g,ix:aa[h],iy:ba[i]},g++,b=[h,i],j(fa,b)?-1==c.indexOf(h+i)&&(c.push(h+i),console.warn("The row/column position "+h+"/"+i+" has multiple values; ensure each cell has only a single value.")):(fa.push(b),d[h][i]=a)}),ca=ca.sort();var i=[];return Object.keys(ba).forEach(function(a){Object.keys(aa).forEach(function(b){var c=d[b][a];if(c)i.push(c);else{var e={idx:g,ix:aa[b],iy:ba[a]};g++,i.push({_cellPos:e})}})}),P?h(i):i}function j(a,b){var c=JSON.stringify(b);return a.some(function(a){return JSON.stringify(a)===c})}function k(){d3.selectAll(".cell-hover").classed("cell-hover",!1),d3.selectAll(".no-hover").classed("no-hover",!1),d3.selectAll(".row-hover").classed("row-hover",!1),d3.selectAll(".column-hover").classed("column-hover",!1)}function l(a){return Object.keys(a).sort(function(b,c){return a[b]-a[c]})}function m(a,b){return Object.keys(a).filter(function(c){return a[c]===b})[0]}function n(b){return ga.reset(),b.each(function(b){x=i(b);var d=B-A.left-A.right,h=C-A.top-A.bottom;z=d/Object.keys(aa).length,y=M?z/M:h/Object.keys(ba).length,M&&(h=y*Object.keys(ba).length-A.top-A.bottom),o=d3.select(this),c.utils.initSVG(o),E.domain(p||l(aa)).rangeBands(r||[0,d-O/2]),F.domain(q||l(ba)).rangeBands(s||[0,h-O/2]),G=g()?d3.scale.quantize():d3.scaleOrdinal(),G.domain(w||f()).range(v||ha);var j=o.selectAll("g.nv-heatMapWrap").data([x]),n=j.enter().append("g").attr("class","nvd3 nv-heatMapWrap");n.append("g").attr("class","cellWrap"),j.watchTransition(ga,"nv-wrap: heatMapWrap").attr("transform","translate("+A.left+","+A.top+")");var D=(n.append("g").attr("class","cellGrid").style("opacity",1e-6),j.select(".cellGrid").selectAll(".gridLines.verticalGrid").data(Object.values(aa).concat([Object.values(aa).length])));D.enter().append("line").attr("class","gridLines verticalGrid"),D.exit().remove();var H=j.select(".cellGrid").selectAll(".gridLines.horizontalGrid").data(Object.values(ba).concat([Object.values(ba).length]));H.enter().append("line").attr("class","gridLines horizontalGrid"),H.exit().remove();var I=j.select(".cellWrap").selectAll(".nv-cell").data(function(a){return a},function(a){return ma(a)}),L=(n.append("g").attr("class","xMetaWrap").attr("transform",function(){return"translate(0,"+(-Y()-O-V)+")"}),j.select(".xMetaWrap").selectAll(".x-meta").data(da)),P=(L.enter().append("rect").attr("class","x-meta meta").attr("width",z-O).attr("height",Y()).attr("transform","translate(0,0)").attr("fill",function(a){return R(a)}),n.append("g").attr("class","yMetaWrap").attr("transform",function(a,b){return"translate("+(-Z()-O-V)+",0)"}),j.select(".yMetaWrap").selectAll(".y-meta").data(ea));P.enter().append("rect").attr("class","y-meta meta").attr("width",Z()).attr("height",y-O).attr("transform",function(a,b){return"translate(0,0)"}).attr("fill",function(a,b){return S(a)});L.exit().remove(),P.exit().remove();var Q=I.enter().append("g").style("opacity",1e-6).attr("transform",function(a){return"translate(0,"+ka(a)*y+")"}).attr("data-row",function(a){return ka(a)}).attr("data-column",function(a){return ja(a)});Q.append("rect"),Q.append("text").attr("text-anchor","middle").attr("dy",4).attr("class","cell-text"),I.selectAll("rect").watchTransition(ga,"heatMap: rect").attr("width",z-O).attr("height",y-O).attr("rx",N).attr("ry",N).style("stroke",function(a){return e(a)}),I.attr("class",function(a){return isNaN(J(a))?"nv-cell cell-missing":"nv-cell"}).watchTransition(ga,"heatMap: cells").style({opacity:1,fill:function(a){return e(a)}}).attr("transform",function(a){return"translate("+ja(a)*z+","+ka(a)*y+")"}).attr("class",function(a){return isNaN(J(a))?"nv-cell cell-missing":"nv-cell"}),I.exit().remove(),I.selectAll("text").watchTransition(ga,"heatMap: cells text").text(function(a){return _(a)}).attr("x",function(a){return(z-O)/2}).attr("y",function(a){return(y-O)/2}).style("fill",function(b){return a(e(b))}).style("opacity",function(){return K?1:0}),j.selectAll(".verticalGrid").watchTransition(ga,"heatMap: gridLines").attr("y1",0).attr("y2",h-O).attr("x1",function(a){return a*z-O/2}).attr("x2",function(a){return a*z-O/2});var T=Object.keys(ba).length;j.selectAll(".horizontalGrid").watchTransition(ga,"heatMap: gridLines").attr("x1",function(a){return 0==a||a==T?-O:0}).attr("x2",function(a){return 0==a||a==T?d:d-O}).attr("y1",function(a){return a*y-O/2}).attr("y2",function(a){return a*y-O/2}),j.select(".cellGrid").watchTransition(ga,"heatMap: gridLines").style({"stroke-width":O,opacity:function(){return $?1:1e-6}});var U=(j.selectAll(".x-meta"),j.selectAll(".y-meta"),j.selectAll(".meta"));L.watchTransition(ga,"heatMap: xMetaRect").attr("width",z-O).attr("height",Y()).attr("transform",function(a,b){return"translate("+b*z+",0)"}),P.watchTransition(ga,"heatMap: yMetaRect").attr("width",Z()).attr("height",y-O).attr("transform",function(a,b){return"translate(0,"+b*y+")"}),j.select(".xMetaWrap").watchTransition(ga,"heatMap: xMetaWrap").attr("transform",function(a,b){return"translate(0,"+(-Y()-O-V)+")"}).style("opacity",function(){return!1!==t?1:0}),j.select(".yMetaWrap").watchTransition(ga,"heatMap: yMetaWrap").attr("transform",function(a,b){return"translate("+(-Z()-O-V)+",0)"}).style("opacity",function(){return!1!==u?1:0}),I.on("mouseover",function(a,b){var c=ma(a),d=ja(a),e=ka(a);d3.selectAll(".nv-cell").each(function(a){c==ma(a)?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1)),d==ja(a)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("column-hover",!0)),e==ka(a)&&(d3.select(this).classed("no-hover",!1),d3.select(this).classed("row-hover",!0))}),d3.selectAll(".x-meta").each(function(a,b){b==d?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),d3.selectAll(".y-meta").each(function(a,b){b==e?(d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1)):(d3.select(this).classed("no-hover",!0),d3.select(this).classed("cell-hover",!1))}),W.elementMouseover({value:m(aa,d)+" & "+m(ba,e),series:{value:_(a),color:d3.select(this).select("rect").style("fill")},e:d3.event})}).on("mouseout",function(a,b){var c=(d3.select(this).select("rect").node().getBBox(),d3.mouse(d3.select(".nv-heatMap").node())),e=c[0],f=c[1];(e+O>=d||f+O>=h||e<0||f<0)&&(k(),W.elementMouseout({e:d3.event}))}).on("mousemove",function(a,b){W.elementMousemove({e:d3.event})}),U.on("mouseover",function(a,b){var c=-1!=d3.select(this).attr("class").indexOf("x-meta");d3.selectAll(".nv-cell").each(function(a){c&&b==ja(a)?(d3.select(this).classed("column-hover",!0),d3.select(this).classed("no-hover",!1)):c||b-da.length!=ka(a)?(d3.select(this).classed("no-hover",!0),d3.select(this).classed("column-hover",!1),d3.select(this).classed("row-hover",!1)):(d3.select(this).classed("row-hover",!0),d3.select(this).classed("no-hover",!1)),d3.select(this).classed("cell-hover",!1)}),d3.selectAll(".meta").classed("no-hover",!0),d3.select(this).classed("cell-hover",!0),d3.select(this).classed("no-hover",!1),W.elementMouseover({value:c?"Column meta":"Row meta",series:{value:a,color:d3.select(this).style("fill")}})}).on("mouseout",function(a,b){var c=-1!=d3.select(this).attr("class").indexOf("x-meta"),e=(d3.select(this).node().getBBox(),d3.mouse(d3.select(c?".xMetaWrap":".yMetaWrap").node())),f=e[0],g=e[1];(g<0||f<0||c&&f+O>=d||!c&&g+O>=h)&&(k(),W.elementMouseout({e:d3.event}))}).on("mousemove",function(a,b){W.elementMousemove({e:d3.event})})}),ga.renderEnd("heatMap immediate"),n}var o,p,q,r,s,t,u,v,w,x,y,z,A={top:0,right:0,bottom:0,left:0},B=960,C=500,D=Math.floor(1e4*Math.random()),E=d3.scaleOrdinal(),F=d3.scaleOrdinal(),G=!1,H=function(a){return a.x},I=function(a){return a.y},J=function(a){return a.value},K=!0,L=function(a){return"number"==typeof a?a.toFixed(0):a},M=!1,N=2,O=4,P=!1,Q=!0,R=c.utils.defaultColor(),S=c.utils.defaultColor(),T="#bcbcbc",U="",V=5,W=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),X=250,Y=function(a){return y/3},Z=function(a){return z/3},$=!1,_=function(a){var b=L(P?la(a):J(a));return g()&&!isNaN(b)||void 0!==b?b:U},aa={},ba={},ca=[],da=[],ea=[],fa=[],ga=c.utils.renderWatch(W,X),ha=["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],ia=function(a){return a._cellPos},ja=function(a){return ia(a).ix},ka=function(a){return ia(a).iy},la=function(a){return ia(a).norm},ma=function(a){return ia(a).idx};return n.dispatch=W,n.options=c.utils.optionsFunc.bind(n),n._options=Object.create({},{width:{get:function(){return B},set:function(a){B=a}},height:{get:function(){return C},set:function(a){C=a}},showCellValues:{get:function(){return K},set:function(a){K=a}},x:{get:function(){return H},set:function(a){H=a}},y:{get:function(){return I},set:function(a){I=a}},cellValue:{get:function(){return J},set:function(a){J=a}},missingDataColor:{get:function(){return T},set:function(a){T=a}},missingDataLabel:{get:function(){return U},set:function(a){U=a}},xScale:{get:function(){return E},set:function(a){E=a}},yScale:{get:function(){return F},set:function(a){F=a}},colorScale:{get:function(){return G},set:function(a){G=a}},xDomain:{get:function(){return p},set:function(a){p=a}},yDomain:{get:function(){return q},set:function(a){q=a}},xRange:{get:function(){return r},set:function(a){r=a}},yRange:{get:function(){return s},set:function(a){s=a}},colorRange:{get:function(){return v},set:function(a){v=a}},colorDomain:{get:function(){return w},set:function(a){w=a}},xMeta:{get:function(){return t},set:function(a){t=a}},yMeta:{get:function(){return u},set:function(a){u=a}},xMetaColorScale:{get:function(){return color},set:function(a){color=c.utils.getColor(a)}},yMetaColorScale:{get:function(){return color},set:function(a){color=c.utils.getColor(a)}},cellAspectRatio:{get:function(){return M},set:function(a){M=a}},cellRadius:{get:function(){return N},set:function(a){N=a}},cellHeight:{get:function(){return y}},cellWidth:{get:function(){return z}},normalize:{get:function(){return P},set:function(a){P=a}},cellBorderWidth:{get:function(){return O},set:function(a){O=a}},highContrastText:{get:function(){return Q},set:function(a){Q=a}},cellValueFormat:{get:function(){return L},set:function(a){L=a}},id:{get:function(){return D},set:function(a){D=a}},metaOffset:{get:function(){return V},set:function(a){V=a}},xMetaHeight:{get:function(){return Y},set:function(a){Y=a}},yMetaWidth:{get:function(){return Z},set:function(a){Z=a}},showGrid:{get:function(){return $},set:function(a){$=a}},margin:{get:function(){return A},set:function(a){A.top=void 0!==a.top?a.top:A.top,A.right=void 0!==a.right?a.right:A.right,A.bottom=void 0!==a.bottom?a.bottom:A.bottom,A.left=void 0!==a.left?a.left:A.left}},duration:{get:function(){return X},set:function(a){X=a,ga.reset(X)}}}),c.utils.initOptions(n),n},c.models.heatMapChart=function(){"use strict";function a(){var a=h.colorScale();return"string"==typeof a.domain()[0]?a.domain():a.range().map(function(b){var c=a.invertExtent(b);return null===c[0]&&(c[0]=a.domain()[0]),null===c[1]&&(c[1]=a.domain()[1]),c})}function b(){return"function"==typeof h.yMeta()}function d(){return"function"==typeof h.xMeta()}function e(j){return A.reset(),A.models(h),A.models(k),A.models(l),j.each(function(j){var n=d3.select(this);c.utils.initSVG(n);var x=c.utils.availableWidth(o,n,m),B=c.utils.availableHeight(p,n,m);if(e.update=function(){y.beforeUpdate(),n.transition().duration(z).call(e)},e.container=this,!j||!j.length)return c.utils.noData(e,n),e;n.selectAll(".nv-noData").remove(),f=h.xScale(),g=h.yScale();var C=n.selectAll("g.nv-wrap").data([j]),D=C.enter().append("g").attr("class","nvd3 nv-wrap").append("g"),E=C.select("g");D.append("g").attr("class","nv-heatMap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),E.attr("transform","translate("+m.left+","+m.top+")"),h.width(x).height(B),E.select(".nv-heatMap").datum(j.filter(function(a){return!a.disabled})).transition().call(h),h.cellAspectRatio()&&(B=h.cellHeight()*g.domain().length,h.height(B)),k.scale(f)._ticks(c.utils.calcTicksX(x/100,j)).tickSize(-B,0);var F=E.select(".nv-x.nv-axis");F.call(k).watchTransition(A,"heatMap: axisX").selectAll(".tick").style("opacity",function(){return s?1:0}),F.selectAll("g").selectAll(".tick text").attr("transform",function(a,b,c){var d=0!=w?w:"0";return"translate(0, "+(r?c%2==0?"5":"17":"0")+") rotate("+d+" 0,0)"}).style("text-anchor",w>0?"start":w<0?"end":"middle");var G=-5;if(d()&&(F.selectAll("text").style("text-anchor","middle"),G=-h.xMetaHeight()()/2-h.metaOffset()+3),"bottom"==v){if(F.watchTransition(A,"heatMap: axisX").attr("transform","translate(0,"+(B-G)+")"),!1!==h.xMeta()){var H=B+h.metaOffset()+h.cellBorderWidth();E.select(".xMetaWrap").watchTransition(A,"heatMap: xMetaWrap").attr("transform",function(a,b){return"translate(0,"+H+")"})}}else F.watchTransition(A,"heatMap: axisX").attr("transform","translate(0,"+G+")");l.scale(g)._ticks(c.utils.calcTicksY(B/36,j)).tickSize(-x,0);var I=E.select(".nv-y.nv-axis");I.call(l).watchTransition(A,"heatMap: axisY").selectAll(".tick").style("opacity",function(){return t?1:0});var J=-5;if(b()&&(I.selectAll("text").style("text-anchor","middle"),J=-h.yMetaWidth()()/2-h.metaOffset()),"right"==u){if(I.attr("transform","translate("+(x-J)+",0)"),!1!==h.yMeta()){var H=x+h.metaOffset()+h.cellBorderWidth();E.select(".yMetaWrap").watchTransition(A,"heatMap: yMetaWrap").attr("transform",function(a,b){return"translate("+H+",0)"})}}else I.attr("transform","translate("+J+",0)");var K=E.select(".nv-legendWrap");i.width(x).color(h.colorScale().range());var L=a().map(function(a){return Array.isArray(a)?{key:a[0].toFixed(1)+" - "+a[1].toFixed(1)}:{key:a}});K.datum(L).call(i).attr("transform","translate(0,"+("top"==v?B:-30)+")"),K.watchTransition(A,"heatMap: nv-legendWrap").style("opacity",function(){return q?1:0})}),d3.selectAll(".nv-axis").selectAll("line").style("stroke-opacity",0),d3.select(".nv-y").select("path.domain").remove(),A.renderEnd("heatMap chart immediate"),e}var f,g,h=c.models.heatMap(),i=c.models.legend(),j=(c.models.legend(),c.models.legend(),c.models.tooltip()),k=c.models.axis(),l=c.models.axis(),m={top:20,right:10,bottom:50,left:60},n=null,o=null,p=null,q=(c.utils.getColor(),!0),r=!1,s=!0,t=!0,u="left",v="top",w=0,x=null,y=d3.dispatch("beforeUpdate","renderEnd"),z=250;k.orient(v).showMaxMin(!1).tickFormat(function(a){return a}),l.orient(u).showMaxMin(!1).tickFormat(function(a){return a}),
j.duration(0).headerEnabled(!0).keyFormatter(function(a,b){return k.tickFormat()(a,b)});var A=c.utils.renderWatch(y,z);return h.dispatch.on("elementMouseover.tooltip",function(a){j.data(a).hidden(!1)}),h.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),h.dispatch.on("elementMousemove.tooltip",function(a){j()}),e.dispatch=y,e.heatMap=h,e.legend=i,e.xAxis=k,e.yAxis=l,e.tooltip=j,e.options=c.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return q},set:function(a){q=a}},noData:{get:function(){return x},set:function(a){x=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},staggerLabels:{get:function(){return r},set:function(a){r=a}},rotateLabels:{get:function(){return w},set:function(a){w=a}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},duration:{get:function(){return z},set:function(a){z=a,A.reset(z),h.duration(z),k.duration(z),l.duration(z)}},alignYAxis:{get:function(){return u},set:function(a){u=a,l.orient(a)}},alignXAxis:{get:function(){return v},set:function(a){v=a,k.orient(a)}}}),c.utils.inheritOptions(e,h),c.utils.initOptions(e),e},c.models.historicalBar=function(){"use strict";function a(x){return x.each(function(a){w.reset(),k=d3.select(this);var x=c.utils.availableWidth(h,k,g),y=c.utils.availableHeight(i,k,g);c.utils.initSVG(k),l.domain(b||d3.extent(a[0].values.map(n).concat(p))),r?l.range(e||[.5*x/a[0].values.length,x*(a[0].values.length-.5)/a[0].values.length]):l.range(e||[0,x]),m.domain(d||d3.extent(a[0].values.map(o).concat(q))).range(f||[y,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var z=k.selectAll("g.nv-wrap.nv-historicalBar-"+j).data([a[0].values]),A=z.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+j),B=A.append("defs"),C=A.append("g"),D=z.select("g");C.append("g").attr("class","nv-bars"),z.attr("transform","translate("+g.left+","+g.top+")"),k.on("click",function(a,b){u.chartClick({data:a,index:b,pos:d3.event,id:j})}),B.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),z.select("#nv-chart-clip-path-"+j+" rect").attr("width",x).attr("height",y),D.attr("clip-path",s?"url(#nv-chart-clip-path-"+j+")":"");var E=z.select(".nv-bars").selectAll(".nv-bar").data(function(a){return a},function(a,b){return n(a,b)});E.exit().remove(),E.enter().append("rect").attr("x",0).attr("y",function(a,b){return c.utils.NaNtoZero(m(Math.max(0,o(a,b))))}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.abs(m(o(a,b))-m(0)))}).attr("transform",function(b,c){return"translate("+(l(n(b,c))-x/a[0].values.length*.45)+",0)"}).on("mouseover",function(a,b){v&&(d3.select(this).classed("hover",!0),u.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mouseout",function(a,b){v&&(d3.select(this).classed("hover",!1),u.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")}))}).on("mousemove",function(a,b){v&&u.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){if(v){var c=this;u.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}}).on("dblclick",function(a,b){v&&(u.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),E.attr("fill",function(a,b){return t(a,b)}).attr("class",function(a,b,c){return(o(a,b)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+c+"-"+b}).watchTransition(w,"bars").attr("transform",function(b,c){return"translate("+(l(n(b,c))-x/a[0].values.length*.45)+",0)"}).attr("width",x/a[0].values.length*.9),E.watchTransition(w,"bars").attr("y",function(a,b){var d=o(a,b)<0?m(0):m(0)-m(o(a,b))<1?m(0)-1:m(o(a,b));return c.utils.NaNtoZero(d)}).attr("height",function(a,b){return c.utils.NaNtoZero(Math.max(Math.abs(m(o(a,b))-m(0)),1))})}),w.renderEnd("historicalBar immediate"),a}var b,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(1e4*Math.random()),k=null,l=d3.scaleLinear(),m=d3.scaleLinear(),n=function(a){return a.x},o=function(a){return a.y},p=[],q=[0],r=!1,s=!0,t=c.utils.defaultColor(),u=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),v=!0,w=c.utils.renderWatch(u,0);return a.highlightPoint=function(a,b){k.select(".nv-bars .nv-bar-0-"+a).classed("hover",b)},a.clearHighlights=function(){k.select(".nv-bars .nv-bar.hover").classed("hover",!1)},a.dispatch=u,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},forceX:{get:function(){return p},set:function(a){p=a}},forceY:{get:function(){return q},set:function(a){q=a}},padData:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},clipEdge:{get:function(){return s},set:function(a){s=a}},id:{get:function(){return j},set:function(a){j=a}},interactive:{get:function(){return v},set:function(a){v=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return t},set:function(a){t=c.utils.getColor(a)}}}),c.utils.initOptions(a),a},c.models.historicalBarChart=function(a){"use strict";function b(a){return a.each(function(k){A.reset(),A.models(f),r&&A.models(g),s&&A.models(h);var x=d3.select(this);c.utils.initSVG(x);var B=c.utils.availableWidth(o,x,l),C=c.utils.availableHeight(p,x,l);if(b.update=function(){x.transition().duration(z).call(b)},b.container=this,v.disabled=k.map(function(a){return!!a.disabled}),!w){var D;w={};for(D in v)v[D]instanceof Array?w[D]=v[D].slice(0):w[D]=v[D]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return c.utils.noData(b,x),b;x.selectAll(".nv-noData").remove(),d=f.xScale(),e=f.yScale();var E=x.selectAll("g.nv-wrap.nv-historicalBarChart").data([k]),F=E.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),G=E.select("g");F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-interactive"),q?(i.width(B),G.select(".nv-legendWrap").datum(k).call(i),m||i.height()===l.top||(l.top=i.height(),C=c.utils.availableHeight(p,x,l)),E.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")")):G.select(".nv-legendWrap").selectAll("*").remove(),E.attr("transform","translate("+l.left+","+l.top+")"),t&&G.select(".nv-y.nv-axis").attr("transform","translate("+B+",0)"),u&&(j.width(B).height(C).margin({left:l.left,top:l.top}).svgContainer(x).xScale(d),E.select(".nv-interactive").call(j)),f.width(B).height(C).color(k.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!k[b].disabled})),G.select(".nv-barsWrap").datum(k.filter(function(a){return!a.disabled})).transition().call(f),r&&(g.scale(d)._ticks(c.utils.calcTicksX(B/100,k)).tickSize(-C,0),G.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),G.select(".nv-x.nv-axis").transition().call(g)),s&&(h.scale(e)._ticks(c.utils.calcTicksY(C/36,k)).tickSize(-B,0),G.select(".nv-y.nv-axis").transition().call(h)),j.dispatch.on("elementMousemove",function(a){f.clearHighlights();var d,e,i,l=[];k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(g,h){e=c.interactiveBisect(g.values,a.pointXValue,b.x()),f.highlightPoint(e,!0);var j=g.values[e];void 0!==j&&(void 0===d&&(d=j),void 0===i&&(i=b.xScale()(b.x()(j,e))),l.push({key:g.key,value:b.y()(j,e),color:n(g,g.seriesIndex),data:g.values[e]}))});var m=g.tickFormat()(b.x()(d,e));j.tooltip.valueFormatter(function(a,b){return h.tickFormat()(a)}).data({value:m,index:e,series:l})(),j.renderGuideLine(i)}),j.dispatch.on("elementMouseout",function(a){y.tooltipHide(),f.clearHighlights()}),i.dispatch.on("legendClick",function(c,d){c.disabled=!c.disabled,k.filter(function(a){return!a.disabled}).length||k.map(function(a){return a.disabled=!1,E.selectAll(".nv-series").classed("disabled",!1),a}),v.disabled=k.map(function(a){return!!a.disabled}),y.stateChange(v),a.transition().call(b)}),i.dispatch.on("legendDblclick",function(a){k.forEach(function(a){a.disabled=!0}),a.disabled=!1,v.disabled=k.map(function(a){return!!a.disabled}),y.stateChange(v),b.update()}),y.on("changeState",function(a){void 0!==a.disabled&&(k.forEach(function(b,c){b.disabled=a.disabled[c]}),v.disabled=a.disabled),b.update()})}),A.renderEnd("historicalBarChart immediate"),b}var d,e,f=a||c.models.historicalBar(),g=c.models.axis(),h=c.models.axis(),i=c.models.legend(),j=c.interactiveGuideline(),k=c.models.tooltip(),l={top:30,right:90,bottom:50,left:90},m=null,n=c.utils.defaultColor(),o=null,p=null,q=!1,r=!0,s=!0,t=!1,u=!1,v={},w=null,x=null,y=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),z=250;g.orient("bottom").tickPadding(7),h.orient(t?"right":"left"),k.duration(0).headerEnabled(!1).valueFormatter(function(a,b){return h.tickFormat()(a,b)}).headerFormatter(function(a,b){return g.tickFormat()(a,b)});var A=c.utils.renderWatch(y,0);return f.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:b.x()(a.data),value:b.y()(a.data),color:a.color},k.data(a).hidden(!1)}),f.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),f.dispatch.on("elementMousemove.tooltip",function(a){k()}),b.dispatch=y,b.bars=f,b.legend=i,b.xAxis=g,b.yAxis=h,b.interactiveLayer=j,b.tooltip=k,b.options=c.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return q},set:function(a){q=a}},showXAxis:{get:function(){return r},set:function(a){r=a}},showYAxis:{get:function(){return s},set:function(a){s=a}},defaultState:{get:function(){return w},set:function(a){w=a}},noData:{get:function(){return x},set:function(a){x=a}},margin:{get:function(){return l},set:function(a){void 0!==a.top&&(l.top=a.top,m=a.top),l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a),i.color(n),f.color(n)}},duration:{get:function(){return z},set:function(a){z=a,A.reset(z),h.duration(z),g.duration(z)}},rightAlignYAxis:{get:function(){return t},set:function(a){t=a,h.orient(a?"right":"left")}},useInteractiveGuideline:{get:function(){return u},set:function(a){u=a,!0===a&&b.interactive(!1)}}}),c.utils.inheritOptions(b,f),c.utils.initOptions(b),b},c.models.ohlcBarChart=function(){var a=c.models.historicalBarChart(c.models.ohlcBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),a},c.models.candlestickBarChart=function(){var a=c.models.historicalBarChart(c.models.candlestickBar());return a.useInteractiveGuideline(!0),a.interactiveLayer.tooltip.contentGenerator(function(b){var c=b.series[0].data;return'<h3 style="color: #'+(c.open<c.close?"2ca02c":"d62728")+'">'+b.value+"</h3><table><tr><td>open:</td><td>"+a.yAxis.tickFormat()(c.open)+"</td></tr><tr><td>close:</td><td>"+a.yAxis.tickFormat()(c.close)+"</td></tr><tr><td>high</td><td>"+a.yAxis.tickFormat()(c.high)+"</td></tr><tr><td>low:</td><td>"+a.yAxis.tickFormat()(c.low)+"</td></tr></table>"}),a},c.models.legend=function(){"use strict";function a(s){function t(a,b){return"furious"!=r?"#000":p?a.disengaged?"#000":"#fff":p?void 0:(a.color||(a.color=h(a,b)),a.disabled?a.color:"#fff")}function u(a,b){return p&&"furious"==r&&a.disengaged?"#eee":a.color||h(a,b)}function v(a,b){return p&&"furious"==r?1:a.disabled?0:1}return s.each(function(a){var h=d-b.left-b.right,s=d3.select(this);c.utils.initSVG(s);var w=s.selectAll("g.nv-legend").data([a]),x=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),y=w.select("g");l?w.attr("transform","translate("+-b.right+","+b.top+")"):w.attr("transform","translate("+b.left+","+b.top+")");var z,A,B=y.selectAll(".nv-series").data(function(a){return"furious"!=r?a:a.filter(function(a){return!!p||!a.disengaged})}),C=B.enter().append("g").attr("class","nv-series");switch(r){case"furious":A=23;break;case"classic":A=20}if("classic"==r)C.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),z=B.select(".nv-legend-symbol");else if("furious"==r){C.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),z=B.select(".nv-legend-symbol"),C.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var D=B.select(".nv-check-box");D.each(function(a,b){d3.select(this).selectAll("path").attr("stroke",t(a,b))})}C.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var E=B.select("text.nv-legend-text");B.on("mouseover",function(a,b){q.legendMouseover(a,b)}).on("mouseout",function(a,b){q.legendMouseout(a,b)}).on("click",function(a,b){q.legendClick(a,b);var c=B.data();if(m){if("classic"==r)o?(c.forEach(function(a){a.disabled=!0}),a.disabled=!1):(a.disabled=!a.disabled,c.every(function(a){return a.disabled})&&c.forEach(function(a){a.disabled=!1}));else if("furious"==r)if(p)a.disengaged=!a.disengaged,a.userDisabled=void 0==a.userDisabled?!!a.disabled:a.userDisabled,a.disabled=a.disengaged||a.userDisabled;else if(!p){a.disabled=!a.disabled,a.userDisabled=a.disabled;var d=c.filter(function(a){return!a.disengaged});d.every(function(a){return a.userDisabled})&&c.forEach(function(a){a.disabled=a.userDisabled=!1})}q.stateChange({disabled:c.map(function(a){return!!a.disabled}),disengaged:c.map(function(a){return!!a.disengaged})})}}).on("dblclick",function(a,b){if(n){if("furious"==r&&p)return;if(q.legendDblclick(a,b),m){var c=B.data();c.forEach(function(a){a.disabled=!0,"furious"==r&&(a.userDisabled=a.disabled)}),a.disabled=!1,"furious"==r&&(a.userDisabled=a.disabled),q.stateChange({disabled:c.map(function(a){return!!a.disabled})})}}}),B.classed("nv-disabled",function(a){return a.userDisabled}),B.exit().remove(),E.attr("fill",t).text(function(a){return g(f(a))});var F=0;if(j){var G=[];B.each(function(a,b){var d;if(g(f(a))&&g(f(a)).length>i){var e=g(f(a)).substring(0,i);d=d3.select(this).select("text").text(e+"..."),d3.select(this).append("svg:title").text(g(f(a)))}else d=d3.select(this).select("text");var h;try{if((h=d.node().getComputedTextLength())<=0)throw Error()}catch(j){h=c.utils.calcApproxTextWidth(d)}G.push(h+k)});var H=0,I=[];for(F=0;F<h&&H<G.length;)I[H]=G[H],F+=G[H++];for(0===H&&(H=1);F>h&&H>1;){I=[],H--;for(var J=0;J<G.length;J++)G[J]>(I[J%H]||0)&&(I[J%H]=G[J]);F=I.reduce(function(a,b,c,d){return a+b})}for(var K=[],L=0,M=0;L<H;L++)K[L]=M,M+=I[L];B.attr("transform",function(a,b){return"translate("+K[b%H]+","+(5+Math.floor(b/H)*A)+")"}),l?y.attr("transform","translate("+(d-b.right-F)+","+b.top+")"):y.attr("transform","translate(0,"+b.top+")"),e=b.top+b.bottom+Math.ceil(G.length/H)*A}else{var N,O=5,P=5,Q=0;B.attr("transform",function(a,c){var e=d3.select(this).select("text").node().getComputedTextLength()+k;return N=P,d<b.left+b.right+N+e&&(P=N=5,O+=A),P+=e,P>Q&&(Q=P),F<N+Q&&(F=N+Q),"translate("+N+","+O+")"}),y.attr("transform","translate("+(d-b.right-Q)+","+b.top+")"),e=b.top+b.bottom+O+15}if("furious"==r){z.attr("width",function(a,b){return E[0][b].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),x.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);y.select(".nv-legend-bg").transition().duration(300).attr("x",-A).attr("width",F+A-12).attr("height",e+10).attr("y",-b.top-10).attr("opacity",p?1:0)}z.style("fill",u).style("fill-opacity",v).style("stroke",u)}),a}var b={top:5,right:0,bottom:5,left:0},d=400,e=20,f=function(a){return a.key},g=function(a){return a},h=c.utils.getColor(),i=20,j=!0,k=32,l=!0,m=!0,n=!0,o=!1,p=!1,q=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),r="classic";return a.dispatch=q,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},key:{get:function(){return f},set:function(a){f=a}},keyFormatter:{get:function(){return g},set:function(a){g=a}},align:{get:function(){return j},set:function(a){j=a}},maxKeyLength:{get:function(){return i},set:function(a){i=a}},rightAlign:{get:function(){return l},set:function(a){l=a}},padding:{get:function(){return k},set:function(a){k=a}},updateState:{get:function(){return m},set:function(a){m=a}},enableDoubleClick:{get:function(){return n},set:function(a){n=a}},radioButtonMode:{get:function(){return o},set:function(a){o=a}},expanded:{get:function(){return p},set:function(a){p=a}},vers:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}}}),c.utils.initOptions(a),a},c.models.line=function(){"use strict";function a(r){return v.reset(),v.models(e),r.each(function(a){i=d3.select(this);var r=c.utils.availableWidth(g,i,f),s=c.utils.availableHeight(h,i,f);c.utils.initSVG(i),b=e.xScale(),d=e.yScale(),t=t||b,u=u||d;var w=i.selectAll("g.nv-wrap.nv-line").data([a]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),y=x.append("defs"),z=x.append("g"),A=w.select("g");z.append("g").attr("class","nv-groups"),z.append("g").attr("class","nv-scatterWrap"),w.attr("transform","translate("+f.left+","+f.top+")"),e.width(r).height(s);var B=w.select(".nv-scatterWrap");B.call(e),y.append("clipPath").attr("id","nv-edge-clip-"+e.id()).append("rect"),w.select("#nv-edge-clip-"+e.id()+" rect").attr("width",r).attr("height",s>0?s:0),A.attr("clip-path",p?"url(#nv-edge-clip-"+e.id()+")":""),B.attr("clip-path",p?"url(#nv-edge-clip-"+e.id()+")":"");var C=w.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});C.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(a){return a.strokeWidth||j}).style("fill-opacity",1e-6),C.exit().remove(),C.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return k(a,b)}).style("stroke",function(a,b){return k(a,b)}),C.watchTransition(v,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(a){return a.fillOpacity||.5});var D=C.selectAll("path.nv-area").data(function(a){return o(a)?[a]:[]});D.enter().append("path").attr("class","nv-area").attr("d",function(a){return d3.svg.area().interpolate(q).defined(n).x(function(a,b){return c.utils.NaNtoZero(t(l(a,b)))}).y0(function(a,b){return c.utils.NaNtoZero(u(m(a,b)))}).y1(function(a,b){return u(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[a.values])}),C.exit().selectAll("path.nv-area").remove(),D.watchTransition(v,"line: areaPaths").attr("d",function(a){return d3.svg.area().interpolate(q).defined(n).x(function(a,d){return c.utils.NaNtoZero(b(l(a,d)))}).y0(function(a,b){return c.utils.NaNtoZero(d(m(a,b)))}).y1(function(a,b){return d(d.domain()[0]<=0?d.domain()[1]>=0?0:d.domain()[1]:d.domain()[0])}).apply(this,[a.values])});var E=C.selectAll("path.nv-line").data(function(a){return[a.values]});E.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(q).defined(n).x(function(a,b){return c.utils.NaNtoZero(t(l(a,b)))}).y(function(a,b){return c.utils.NaNtoZero(u(m(a,b)))})),E.watchTransition(v,"line: linePaths").attr("d",d3.svg.line().interpolate(q).defined(n).x(function(a,d){return c.utils.NaNtoZero(b(l(a,d)))}).y(function(a,b){return c.utils.NaNtoZero(d(m(a,b)))})),t=b.copy(),u=d.copy()}),v.renderEnd("line immediate"),a}var b,d,e=c.models.scatter(),f={top:0,right:0,bottom:0,left:0},g=960,h=500,i=null,j=1.5,k=c.utils.defaultColor(),l=function(a){return a.x},m=function(a){return a.y},n=function(a,b){return!isNaN(m(a,b))&&null!==m(a,b)},o=function(a){return a.area},p=!1,q="linear",r=250,s=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");e.pointSize(16).pointDomain([16,256]);var t,u,v=c.utils.renderWatch(s,r);return a.dispatch=s,a.scatter=e,e.dispatch.on("elementClick",function(){s.elementClick.apply(this,arguments)}),e.dispatch.on("elementMouseover",function(){s.elementMouseover.apply(this,arguments)}),e.dispatch.on("elementMouseout",function(){s.elementMouseout.apply(this,arguments)}),a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},defined:{get:function(){return n},set:function(a){n=a}},interpolate:{get:function(){return q},set:function(a){q=a}},clipEdge:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},duration:{get:function(){return r},set:function(a){r=a,v.reset(r),e.duration(r)}},isArea:{get:function(){return o},set:function(a){o=c.functor(a)}},x:{get:function(){return l},set:function(a){l=a,e.x(a)}},y:{get:function(){return m},set:function(a){m=a,e.y(a)}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a),e.color(k)}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.lineChart=function(){"use strict";function a(j){return C.reset(),C.models(e),s&&C.models(f),t&&C.models(g),j.each(function(j){function z(){s&&M.select(".nv-focus .nv-x.nv-axis").transition().duration(B).call(f)}function C(){t&&M.select(".nv-focus .nv-y.nv-axis").transition().duration(B).call(g)}function F(a){M.select(".nv-focus .nv-linesWrap").datum(j.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return e.x()(b,c)>=a[0]&&e.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}})).transition().duration(B).call(e),z(),C()}var G=d3.select(this);c.utils.initSVG(G);var H=c.utils.availableWidth(o,G,l),I=c.utils.availableHeight(p,G,l)-(w?k.height():0);if(a.update=function(){0===B?G.call(a):G.transition().duration(B).call(a)},a.container=this,x.setter(E(j),a.update).getter(D(j)).update(),x.disabled=j.map(function(a){return!!a.disabled}),!y){var J;y={};for(J in x)x[J]instanceof Array?y[J]=x[J].slice(0):y[J]=x[J]}if(!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return c.utils.noData(a,G),a;G.selectAll(".nv-noData").remove(),k.dispatch.on("onBrush",function(a){F(a)}),b=e.xScale(),d=e.yScale();var K=G.selectAll("g.nv-wrap.nv-lineChart").data([j]),L=K.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),M=K.select("g");L.append("g").attr("class","nv-legendWrap");var N=L.append("g").attr("class","nv-focus");N.append("g").attr("class","nv-background").append("rect"),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-linesWrap"),N.append("g").attr("class","nv-interactive");L.append("g").attr("class","nv-focusWrap");q?(h.width(H),M.select(".nv-legendWrap").datum(j).call(h),"bottom"===r?(l.bottom=f.height()+h.height(),I=c.utils.availableHeight(p,G,l),M.select(".nv-legendWrap").attr("transform","translate(0,"+(I+f.height())+")")):"top"===r&&(m||h.height()===l.top||(l.top=h.height(),I=c.utils.availableHeight(p,G,l)-(w?k.height():0)),K.select(".nv-legendWrap").attr("transform","translate(0,"+-l.top+")"))):M.select(".nv-legendWrap").selectAll("*").remove(),K.attr("transform","translate("+l.left+","+l.top+")"),u&&M.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)"),v&&(i.width(H).height(I).margin({left:l.left,top:l.top}).svgContainer(G).xScale(b),K.select(".nv-interactive").call(i)),M.select(".nv-focus .nv-background rect").attr("width",H).attr("height",I),e.width(H).height(I).color(j.map(function(a,b){return a.color||n(a,b)}).filter(function(a,b){return!j[b].disabled}));var O=M.select(".nv-linesWrap").datum(j.filter(function(a){return!a.disabled}));if(s&&f.scale(b)._ticks(c.utils.calcTicksX(H/100,j)).tickSize(-I,0),t&&g.scale(d)._ticks(c.utils.calcTicksY(I/36,j)).tickSize(-H,0),M.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+I+")"),w||null!==k.brush.extent()){k.width(H),M.select(".nv-focusWrap").style("display",w?"initial":"none").attr("transform","translate(0,"+(I+l.bottom+k.margin().top)+")").call(k);var P=k.brush.empty()?k.xDomain():k.brush.extent();null!==P&&F(P)}else O.transition().call(e),z(),C();h.dispatch.on("stateChange",function(b){for(var c in b)x[c]=b[c];A.stateChange(x),a.update()}),i.dispatch.on("elementMousemove",function(d){e.clearHighlights();var f,h,l,m=[];if(j.filter(function(a,b){return a.seriesIndex=b,!a.disabled&&!a.disableTooltip}).forEach(function(g,i){var j=null!==k.brush.extent()?k.brush.empty()?k.xScale().domain():k.brush.extent():b.domain(),o=g.values.filter(function(a,b){return j[0]<=j[1]?e.x()(a,b)>=j[0]&&e.x()(a,b)<=j[1]:e.x()(a,b)>=j[1]&&e.x()(a,b)<=j[0]});if(o.length>0){h=c.interactiveBisect(o,d.pointXValue,e.x());var p=o[h],q=a.y()(p,h);if(null!==q&&e.highlightPoint(i,g.values.indexOf(p),!0),void 0===p)return;void 0===f&&(f=p),void 0===l&&(l=a.xScale()(a.x()(p,h))),m.push({key:g.key,value:q,color:n(g,g.seriesIndex),data:p})}}),m.length>2){var o=a.yScale().invert(d.mouseY),p=Math.abs(a.yScale().domain()[0]-a.yScale().domain()[1]),q=.03*p,r=c.nearestValueIndex(m.map(function(a){return a.value}),o,q);null!==r&&(m[r].highlight=!0)}var s=function(a,b){return null==a?"N/A":g.tickFormat()(a)};void 0!==h&&(i.tooltip.valueFormatter(i.tooltip.valueFormatter()||s).data({value:a.x()(f,h),index:h,series:m})(),i.renderGuideLine(l))}),i.dispatch.on("elementClick",function(b){var d,f=[];j.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(e){var g=c.interactiveBisect(e.values,b.pointXValue,a.x()),h=e.values[g];if(void 0!==h){void 0===d&&(d=a.xScale()(a.x()(h,g)));var i=a.yScale()(a.y()(h,g));f.push({point:h,pointIndex:g,pos:[d,i],seriesIndex:e.seriesIndex,series:e})}}),e.dispatch.elementClick(f)}),i.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),A.on("changeState",function(b){void 0!==b.disabled&&j.length===b.disabled.length&&(j.forEach(function(a,c){a.disabled=b.disabled[c]}),x.disabled=b.disabled),a.update()})}),C.renderEnd("lineChart immediate"),a}var b,d,e=c.models.line(),f=c.models.axis(),g=c.models.axis(),h=c.models.legend(),i=c.interactiveGuideline(),j=c.models.tooltip(),k=c.models.focus(c.models.line()),l={top:30,right:20,bottom:50,left:60},m=null,n=c.utils.defaultColor(),o=null,p=null,q=!0,r="top",s=!0,t=!0,u=!1,v=!1,w=!1,x=c.utils.state(),y=null,z=null,A=d3.dispatch("stateChange","changeState","renderEnd"),B=250;f.orient("bottom").tickPadding(7),g.orient(u?"right":"left"),e.clipEdge(!0).duration(0),j.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),i.tooltip.valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)});var C=c.utils.renderWatch(A,B),D=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},E=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return e.dispatch.on("elementMouseover.tooltip",function(a){a.series.disableTooltip||j.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),a.dispatch=A,a.lines=e,a.legend=h,a.focus=k,a.xAxis=f,a.x2Axis=k.xAxis,a.yAxis=g,a.y2Axis=k.yAxis,a.interactiveLayer=i,a.tooltip=j,a.state=x,a.dispatch=A,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return q},set:function(a){q=a}},legendPosition:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return s},set:function(a){s=a}},showYAxis:{get:function(){return t},set:function(a){t=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return z},set:function(a){z=a}},focusEnable:{get:function(){return w},set:function(a){w=a}},focusHeight:{get:function(){return k.height()},set:function(a){k.height(a)}},focusShowAxisX:{get:function(){return k.showXAxis()},set:function(a){k.showXAxis(a)}},focusShowAxisY:{get:function(){return k.showYAxis()},set:function(a){k.showYAxis(a)}},brushExtent:{get:function(){return k.brushExtent()},set:function(a){k.brushExtent(a)}},focusMargin:{get:function(){return k.margin},set:function(a){void 0!==a.top&&(l.top=a.top,m=a.top),k.margin.right=void 0!==a.right?a.right:k.margin.right,k.margin.bottom=void 0!==a.bottom?a.bottom:k.margin.bottom,k.margin.left=void 0!==a.left?a.left:k.margin.left}},margin:{get:function(){return l},set:function(a){l.top=void 0!==a.top?a.top:l.top,l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return B},set:function(a){B=a,C.reset(B),e.duration(B),k.duration(B),f.duration(B),g.duration(B)}},color:{get:function(){return n},set:function(a){n=c.utils.getColor(a),h.color(n),e.color(n),k.color(n)}},interpolate:{get:function(){return e.interpolate()},set:function(a){e.interpolate(a),k.interpolate(a)}},xTickFormat:{get:function(){return f.tickFormat()},set:function(a){f.tickFormat(a),k.xTickFormat(a)}},yTickFormat:{get:function(){return g.tickFormat()},set:function(a){g.tickFormat(a),k.yTickFormat(a)}},x:{get:function(){return e.x()},set:function(a){e.x(a),k.x(a)}},y:{get:function(){return e.y()},set:function(a){e.y(a),k.y(a)}},rightAlignYAxis:{get:function(){return u},set:function(a){u=a,g.orient(u?"right":"left")}},useInteractiveGuideline:{get:function(){return v},set:function(a){(v=a)&&(e.interactive(!1),e.useVoronoi(!1))}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.lineWithFocusChart=function(){return c.models.lineChart().margin({bottom:30}).focusEnable(!0)},c.models.linePlusBarChart=function(){"use strict";function a(v){
return v.each(function(v){function K(a){var b=+("e"==a),c=b?1:-1,d=$/3;return"M"+.5*c+","+d+"A6,6 0 0 "+b+" "+6.5*c+","+(d+6)+"V"+(2*d-6)+"A6,6 0 0 "+b+" "+.5*c+","+2*d+"ZM"+2.5*c+","+(d+8)+"V"+(2*d-8)+"M"+4.5*c+","+(d+8)+"V"+(2*d-8)}function S(){u.empty()||u.extent(J),na.data([u.empty()?e.domain():J]).each(function(a,b){var c=e(a[0])-e.range()[0],d=e.range()[1]-e(a[1]);d3.select(this).select(".left").attr("width",c<0?0:c),d3.select(this).select(".right").attr("x",e(a[1])).attr("width",d<0?0:d)})}function T(){J=u.empty()?null:u.extent(),b=u.empty()?e.domain():u.extent(),L.brush({extent:b,brush:u}),S(),l.width(Y).height(Z).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&v[b].bar})),j.width(Y).height(Z).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&!v[b].bar}));var a=ga.select(".nv-focus .nv-barsWrap").datum(aa.length?aa.map(function(a,c){return{key:a.key,values:a.values.filter(function(a,c){return l.x()(a,c)>=b[0]&&l.x()(a,c)<=b[1]})}}):[{values:[]}]),h=ga.select(".nv-focus .nv-linesWrap").datum(W(ba)?[{values:[]}]:ba.filter(function(a){return!a.disabled}).map(function(a,c){return{area:a.area,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,key:a.key,values:a.values.filter(function(a,c){return j.x()(a,c)>=b[0]&&j.x()(a,c)<=b[1]})}}));d=aa.length&&!R?l.xScale():j.xScale(),n.scale(d)._ticks(c.utils.calcTicksX(Y/100,v)).tickSize(-Z,0),n.domain([Math.ceil(b[0]),Math.floor(b[1])]),ga.select(".nv-x.nv-axis").transition().duration(M).call(n),a.transition().duration(M).call(l),h.transition().duration(M).call(j),ga.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+f.range()[0]+")"),p.scale(f)._ticks(c.utils.calcTicksY(Z/36,v)).tickSize(-Y,0),q.scale(g)._ticks(c.utils.calcTicksY(Z/36,v)),R?q.tickSize(ba.length?0:-Y,0):q.tickSize(aa.length?0:-Y,0);var i=aa.length?1:0,k=ba.length&&!W(ba)?1:0,m=R?k:i,o=R?i:k;ga.select(".nv-focus .nv-y1.nv-axis").style("opacity",m),ga.select(".nv-focus .nv-y2.nv-axis").style("opacity",o).attr("transform","translate("+d.range()[1]+",0)"),ga.select(".nv-focus .nv-y1.nv-axis").transition().duration(M).call(p),ga.select(".nv-focus .nv-y2.nv-axis").transition().duration(M).call(q)}var X=d3.select(this);c.utils.initSVG(X);var Y=c.utils.availableWidth(z,X,w),Z=c.utils.availableHeight(A,X,w)-(F?I:0),$=I-y.top-y.bottom;if(a.update=function(){X.transition().duration(M).call(a)},a.container=this,N.setter(V(v),a.update).getter(U(v)).update(),N.disabled=v.map(function(a){return!!a.disabled}),!O){var _;O={};for(_ in N)N[_]instanceof Array?O[_]=N[_].slice(0):O[_]=N[_]}if(!(v&&v.length&&v.filter(function(a){return a.values.length}).length))return c.utils.noData(a,X),a;X.selectAll(".nv-noData").remove();var aa=v.filter(function(a){return!a.disabled&&a.bar}),ba=v.filter(function(a){return!a.bar});d=aa.length&&!R?l.xScale():j.xScale(),e=o.scale(),f=R?j.yScale():l.yScale(),g=R?l.yScale():j.yScale(),h=R?k.yScale():m.yScale(),i=R?m.yScale():k.yScale();var ca=v.filter(function(a){return!a.disabled&&(R?!a.bar:a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:B(a,b),y:C(a,b)}})}),da=v.filter(function(a){return!a.disabled&&(R?a.bar:!a.bar)}).map(function(a){return a.values.map(function(a,b){return{x:B(a,b),y:C(a,b)}})});d.range([0,Y]),e.domain(d3.extent(d3.merge(ca.concat(da)),function(a){return a.x})).range([0,Y]);var ea=X.selectAll("g.nv-wrap.nv-linePlusBar").data([v]),fa=ea.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ga=ea.select("g");fa.append("g").attr("class","nv-legendWrap");var ha=fa.append("g").attr("class","nv-focus");ha.append("g").attr("class","nv-x nv-axis"),ha.append("g").attr("class","nv-y1 nv-axis"),ha.append("g").attr("class","nv-y2 nv-axis"),ha.append("g").attr("class","nv-barsWrap"),ha.append("g").attr("class","nv-linesWrap");var ia=fa.append("g").attr("class","nv-context");if(ia.append("g").attr("class","nv-x nv-axis"),ia.append("g").attr("class","nv-y1 nv-axis"),ia.append("g").attr("class","nv-y2 nv-axis"),ia.append("g").attr("class","nv-barsWrap"),ia.append("g").attr("class","nv-linesWrap"),ia.append("g").attr("class","nv-brushBackground"),ia.append("g").attr("class","nv-x nv-brush"),E){var ja=t.align()?Y/2:Y,ka=t.align()?ja:0;t.width(ja),ga.select(".nv-legendWrap").datum(v.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=R?a.originalKey+(a.bar?Q:P):a.originalKey+(a.bar?P:Q),a})).call(t),x||t.height()===w.top||(w.top=t.height(),Z=c.utils.availableHeight(A,X,w)-I),ga.select(".nv-legendWrap").attr("transform","translate("+ka+","+-w.top+")")}else ga.select(".nv-legendWrap").selectAll("*").remove();ea.attr("transform","translate("+w.left+","+w.top+")"),ga.select(".nv-context").style("display",F?"initial":"none"),m.width(Y).height($).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&v[b].bar})),k.width(Y).height($).color(v.map(function(a,b){return a.color||D(a,b)}).filter(function(a,b){return!v[b].disabled&&!v[b].bar}));var la=ga.select(".nv-context .nv-barsWrap").datum(aa.length?aa:[{values:[]}]),ma=ga.select(".nv-context .nv-linesWrap").datum(W(ba)?[{values:[]}]:ba.filter(function(a){return!a.disabled}));ga.select(".nv-context").attr("transform","translate(0,"+(Z+w.bottom+y.top)+")"),la.transition().call(m),ma.transition().call(k),H&&(o._ticks(c.utils.calcTicksX(Y/100,v)).tickSize(-$,0),ga.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+h.range()[0]+")"),ga.select(".nv-context .nv-x.nv-axis").transition().call(o)),G&&(r.scale(h)._ticks($/36).tickSize(-Y,0),s.scale(i)._ticks($/36).tickSize(aa.length?0:-Y,0),ga.select(".nv-context .nv-y3.nv-axis").style("opacity",aa.length?1:0).attr("transform","translate(0,"+e.range()[0]+")"),ga.select(".nv-context .nv-y2.nv-axis").style("opacity",ba.length?1:0).attr("transform","translate("+e.range()[1]+",0)"),ga.select(".nv-context .nv-y1.nv-axis").transition().call(r),ga.select(".nv-context .nv-y2.nv-axis").transition().call(s)),u.x(e).on("brush",T),J&&u.extent(J);var na=ga.select(".nv-brushBackground").selectAll("g").data([J||u.extent()]),oa=na.enter().append("g");oa.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",$),oa.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",$);var pa=ga.select(".nv-x.nv-brush").call(u);pa.selectAll("rect").attr("height",$),pa.selectAll(".resize").append("path").attr("d",K),t.dispatch.on("stateChange",function(b){for(var c in b)N[c]=b[c];L.stateChange(N),a.update()}),L.on("changeState",function(b){void 0!==b.disabled&&(v.forEach(function(a,c){a.disabled=b.disabled[c]}),N.disabled=b.disabled),a.update()}),T()}),a}var b,d,e,f,g,h,i,j=c.models.line(),k=c.models.line(),l=c.models.historicalBar(),m=c.models.historicalBar(),n=c.models.axis(),o=c.models.axis(),p=c.models.axis(),q=c.models.axis(),r=c.models.axis(),s=c.models.axis(),t=c.models.legend(),u=d3.svg.brush(),v=c.models.tooltip(),w={top:30,right:30,bottom:30,left:60},x=null,y={top:0,right:30,bottom:20,left:60},z=null,A=null,B=function(a){return a.x},C=function(a){return a.y},D=c.utils.defaultColor(),E=!0,F=!0,G=!1,H=!0,I=50,J=null,K=null,L=d3.dispatch("brush","stateChange","changeState"),M=0,N=c.utils.state(),O=null,P=" (left axis)",Q=" (right axis)",R=!1;j.clipEdge(!0),k.interactive(!1),k.pointActive(function(a){return!1}),n.orient("bottom").tickPadding(5),p.orient("left"),q.orient("right"),o.orient("bottom").tickPadding(5),r.orient("left"),s.orient("right"),v.headerEnabled(!0).headerFormatter(function(a,b){return n.tickFormat()(a,b)});var S=function(){return R?{main:q,focus:s}:{main:p,focus:r}},T=function(){return R?{main:p,focus:r}:{main:q,focus:s}},U=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},V=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},W=function(a){return a.every(function(a){return a.disabled})};return j.dispatch.on("elementMouseover.tooltip",function(a){v.duration(100).valueFormatter(function(a,b){return T().main.tickFormat()(a,b)}).data(a).hidden(!1)}),j.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)}),l.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data),b.series={value:a.y()(b.data),color:b.color},v.duration(0).valueFormatter(function(a,b){return S().main.tickFormat()(a,b)}).data(b).hidden(!1)}),l.dispatch.on("elementMouseout.tooltip",function(a){v.hidden(!0)}),l.dispatch.on("elementMousemove.tooltip",function(a){v()}),a.dispatch=L,a.legend=t,a.lines=j,a.lines2=k,a.bars=l,a.bars2=m,a.xAxis=n,a.x2Axis=o,a.y1Axis=p,a.y2Axis=q,a.y3Axis=r,a.y4Axis=s,a.tooltip=v,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return z},set:function(a){z=a}},height:{get:function(){return A},set:function(a){A=a}},showLegend:{get:function(){return E},set:function(a){E=a}},brushExtent:{get:function(){return J},set:function(a){J=a}},noData:{get:function(){return K},set:function(a){K=a}},focusEnable:{get:function(){return F},set:function(a){F=a}},focusHeight:{get:function(){return I},set:function(a){I=a}},focusShowAxisX:{get:function(){return H},set:function(a){H=a}},focusShowAxisY:{get:function(){return G},set:function(a){G=a}},legendLeftAxisHint:{get:function(){return P},set:function(a){P=a}},legendRightAxisHint:{get:function(){return Q},set:function(a){Q=a}},margin:{get:function(){return w},set:function(a){void 0!==a.top&&(w.top=a.top,x=a.top),w.right=void 0!==a.right?a.right:w.right,w.bottom=void 0!==a.bottom?a.bottom:w.bottom,w.left=void 0!==a.left?a.left:w.left}},focusMargin:{get:function(){return y},set:function(a){y.top=void 0!==a.top?a.top:y.top,y.right=void 0!==a.right?a.right:y.right,y.bottom=void 0!==a.bottom?a.bottom:y.bottom,y.left=void 0!==a.left?a.left:y.left}},duration:{get:function(){return M},set:function(a){M=a}},color:{get:function(){return D},set:function(a){D=c.utils.getColor(a),t.color(D)}},x:{get:function(){return B},set:function(a){B=a,j.x(a),k.x(a),l.x(a),m.x(a)}},y:{get:function(){return C},set:function(a){C=a,j.y(a),k.y(a),l.y(a),m.y(a)}},switchYAxisOrder:{get:function(){return R},set:function(a){if(R!==a){var b=p;p=q,q=b;var c=r;r=s,s=c}R=a,p.orient("left"),q.orient("right"),r.orient("left"),s.orient("right")}}}),c.utils.inheritOptions(a,j),c.utils.initOptions(a),a},c.models.multiBar=function(){"use strict";function a(F){return D.reset(),F.each(function(a){var F=k-j.left-j.right,G=l-j.top-j.bottom;p=d3.select(this),c.utils.initSVG(p);var H=0;if(x&&a.length&&(x=[{values:a[0].values.map(function(a){return{x:a.x,y:0,series:a.series,size:.01}})}]),u){var I=d3.layout.stack().offset(v).values(function(a){return a.values}).y(r)(!a.length&&x?x:a);I.forEach(function(b,c){b.nonStackable?(a[c].nonStackableSeries=H++,I[c]=a[c]):c>0&&I[c-1].nonStackable&&I[c].values.map(function(a,b){a.y0-=I[c-1].values[b].y,a.y1=a.y0+a.y})}),a=I}a.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),u&&a.length>0&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(b,f){if(!a[f].nonStackable){var g=b.values[c];g.size=Math.abs(g.y),g.y<0?(g.y1=e,e-=g.size):(g.y1=g.size+d,d+=g.size)}})});var J=d&&e?[]:a.map(function(a,b){return a.values.map(function(a,c){return{x:q(a,c),y:r(a,c),y0:a.y0,y1:a.y1,idx:b}})});m.domain(d||d3.merge(J).map(function(a){return a.x})).rangeBands(f||[0,F],A),n.domain(e||d3.extent(d3.merge(J).map(function(b){var c=b.y;return u&&!a[b.idx].nonStackable&&(c=b.y>0?b.y1:b.y1+b.y),c}).concat(s))).range(g||[G,0]),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),n.domain()[0]===n.domain()[1]&&(n.domain()[0]?n.domain([n.domain()[0]+.01*n.domain()[0],n.domain()[1]-.01*n.domain()[1]]):n.domain([-1,1])),h=h||m,i=i||n;var K=p.selectAll("g.nv-wrap.nv-multibar").data([a]),L=K.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),M=L.append("defs"),N=L.append("g"),O=K.select("g");N.append("g").attr("class","nv-groups"),K.attr("transform","translate("+j.left+","+j.top+")"),M.append("clipPath").attr("id","nv-edge-clip-"+o).append("rect"),K.select("#nv-edge-clip-"+o+" rect").attr("width",F).attr("height",G),O.attr("clip-path",t?"url(#nv-edge-clip-"+o+")":"");var P=K.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});P.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var Q=D.transition(P.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,z)).attr("y",function(b,c,d){var e=i(0)||0;return u&&a[b.series]&&!a[b.series].nonStackable&&(e=i(b.y0)),e}).attr("height",0).remove();Q.delay&&Q.delay(function(a,b){return b*(z/(E+1))-b}),P.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return w(a,b)}).style("stroke",function(a,b){return w(a,b)}),P.style("stroke-opacity",1).style("fill-opacity",B);var R=P.selectAll("rect.nv-bar").data(function(b){return x&&!a.length?x.values:b.values});R.exit().remove();R.enter().append("rect").attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(b,c,d){return u&&!a[d].nonStackable?0:d*m.rangeBand()/a.length}).attr("y",function(b,c,d){return i(u&&!a[d].nonStackable?b.y0:0)||0}).attr("height",0).attr("width",function(b,c,d){return m.rangeBand()/(u&&!a[d].nonStackable?1:a.length)}).attr("transform",function(a,b){return"translate("+m(q(a,b))+",0)"});R.style("fill",function(a,b,c){return w(a,c,b)}).style("stroke",function(a,b,c){return w(a,c,b)}).on("mouseover",function(b,c,d){d3.select(this).classed("hover",!0),C.elementMouseover({data:b,index:c,series:a[d],color:d3.select(this).style("fill")})}).on("mouseout",function(b,c,d){d3.select(this).classed("hover",!1),C.elementMouseout({data:b,index:c,series:a[d],color:d3.select(this).style("fill")})}).on("mousemove",function(b,c,d){C.elementMousemove({data:b,index:c,series:a[d],color:d3.select(this).style("fill")})}).on("click",function(b,c,d){var e=this;C.elementClick({data:b,index:c,series:a[d],color:d3.select(this).style("fill"),event:d3.event,element:e}),d3.event.stopPropagation()}).on("dblclick",function(b,c,d){C.elementDblClick({data:b,index:c,series:a[d],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),R.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(a,b){return"translate("+m(q(a,b))+",0)"}),y&&(b||(b=a.map(function(){return!0})),R.style("fill",function(a,c,d){return d3.rgb(y(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()}).style("stroke",function(a,c,d){return d3.rgb(y(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()}));var S=R.watchTransition(D,"multibar",Math.min(250,z)).delay(function(b,c){return c*z/a[0].values.length});u?S.attr("y",function(b,c,d){return a[d].nonStackable?r(b,c)<0?n(0):n(0)-n(r(b,c))<-1?n(0)-1:n(r(b,c))||0:n(b.y1)}).attr("height",function(b,c,d){return a[d].nonStackable?Math.max(Math.abs(n(r(b,c))-n(0)),0)||0:Math.max(Math.abs(n(b.y+b.y0)-n(b.y0)),0)}).attr("x",function(b,c,d){var e=0;return a[d].nonStackable&&(e=b.series*m.rangeBand()/a.length,a.length!==H&&(e=a[d].nonStackableSeries*m.rangeBand()/(2*H))),e}).attr("width",function(b,c,d){if(a[d].nonStackable){var e=m.rangeBand()/H;return a.length!==H&&(e=m.rangeBand()/(2*H)),e}return m.rangeBand()}):S.attr("x",function(b,c){return b.series*m.rangeBand()/a.length}).attr("width",m.rangeBand()/a.length).attr("y",function(a,b){return r(a,b)<0?n(0):n(0)-n(r(a,b))<1?n(0)-1:n(r(a,b))||0}).attr("height",function(a,b){return Math.max(Math.abs(n(r(a,b))-n(0)),1)||0}),h=m.copy(),i=n.copy(),a[0]&&a[0].values&&(E=a[0].values.length)}),D.renderEnd("multibar immediate"),a}var b,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=d3.scaleOrdinal(),n=d3.scaleLinear(),o=Math.floor(1e4*Math.random()),p=null,q=function(a){return a.x},r=function(a){return a.y},s=[0],t=!0,u=!1,v="zero",w=c.utils.defaultColor(),x=!1,y=null,z=500,A=.1,B=.75,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=c.utils.renderWatch(C,z),E=0;return a.dispatch=C,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return q},set:function(a){q=a}},y:{get:function(){return r},set:function(a){r=a}},xScale:{get:function(){return m},set:function(a){m=a}},yScale:{get:function(){return n},set:function(a){n=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceY:{get:function(){return s},set:function(a){s=a}},stacked:{get:function(){return u},set:function(a){u=a}},stackOffset:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return t},set:function(a){t=a}},disabled:{get:function(){return b},set:function(a){b=a}},id:{get:function(){return o},set:function(a){o=a}},hideable:{get:function(){return x},set:function(a){x=a}},groupSpacing:{get:function(){return A},set:function(a){A=a}},fillOpacity:{get:function(){return B},set:function(a){B=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return z},set:function(a){z=a,D.reset(z)}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a)}},barColor:{get:function(){return y},set:function(a){y=a?c.utils.getColor(a):null}}}),c.utils.initOptions(a),a},c.models.multiBarChart=function(){"use strict";function a(D){return I.reset(),I.models(e),u&&I.models(f),v&&I.models(g),D.each(function(D){var I=d3.select(this);c.utils.initSVG(I);var M=c.utils.availableWidth(n,I,l),N=c.utils.availableHeight(o,I,l);if(a.update=function(){0===G?I.call(a):I.transition().duration(G).call(a)},a.container=this,B.setter(L(D),a.update).getter(K(D)).update(),B.disabled=D.map(function(a){return!!a.disabled}),!C){var O;C={};for(O in B)B[O]instanceof Array?C[O]=B[O].slice(0):C[O]=B[O]}if(!(D&&D.length&&D.filter(function(a){return a.values.length}).length))return c.utils.noData(a,I),a;I.selectAll(".nv-noData").remove(),b=e.xScale(),d=e.yScale();var P=I.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([D]),Q=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),R=P.select("g");if(Q.append("g").attr("class","nv-x nv-axis"),Q.append("g").attr("class","nv-y nv-axis"),Q.append("g").attr("class","nv-barsWrap"),Q.append("g").attr("class","nv-legendWrap"),Q.append("g").attr("class","nv-controlsWrap"),Q.append("g").attr("class","nv-interactive"),s?"bottom"===t?(i.width(M-l.right),R.select(".nv-legendWrap").datum(D).call(i),l.bottom=f.height()+i.height(),N=c.utils.availableHeight(o,I,l),R.select(".nv-legendWrap").attr("transform","translate(0,"+(N+f.height())+")")):(i.width(M-F()),R.select(".nv-legendWrap").datum(D).call(i),m||i.height()===l.top||(l.top=i.height(),N=c.utils.availableHeight(o,I,l)),R.select(".nv-legendWrap").attr("transform","translate("+F()+","+-l.top+")")):R.select(".nv-legendWrap").selectAll("*").remove(),q){var S=[{key:r.grouped||"Grouped",disabled:e.stacked()},{key:r.stacked||"Stacked",disabled:!e.stacked()}];j.width(F()).color(["#444","#444","#444"]),R.select(".nv-controlsWrap").datum(S).attr("transform","translate(0,"+-l.top+")").call(j)}else R.select(".nv-controlsWrap").selectAll("*").remove();if(P.attr("transform","translate("+l.left+","+l.top+")"),w&&R.select(".nv-y.nv-axis").attr("transform","translate("+M+",0)"),e.disabled(D.map(function(a){return a.disabled})).width(M).height(N).color(D.map(function(a,b){return a.color||p(a,b)}).filter(function(a,b){return!D[b].disabled})),R.select(".nv-barsWrap").datum(D.filter(function(a){return!a.disabled})).call(e),u){f.scale(b)._ticks(c.utils.calcTicksX(M/100,D)).tickSize(-N,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+d.range()[0]+")"),R.select(".nv-x.nv-axis").call(f);var T=R.select(".nv-x.nv-axis > g").selectAll("g");if(T.selectAll("line, text").style("opacity",1),y){var U=function(a,b){return"translate("+a+","+b+")"},V=5,W=17;T.selectAll("text").attr("transform",function(a,b,c){return U(0,c%2==0?V:W)});var X=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;R.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(a,b){return U(0,0===b||X%2!=0?W:V)})}z&&R.selectAll(".tick text").call(c.utils.wrapTicks,a.xAxis.rangeBand()),x&&T.filter(function(a,b){return b%Math.ceil(D[0].values.length/(M/100))!=0}).selectAll("text, line").style("opacity",0),A&&T.selectAll(".tick text").attr("transform","rotate("+A+" 0,0)").style("text-anchor",A>0?"start":"end"),R.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}v&&(g.scale(d)._ticks(c.utils.calcTicksY(N/36,D)).tickSize(-M,0),R.select(".nv-y.nv-axis").call(g)),H&&(h.width(M).height(N).margin({left:l.left,top:l.top}).svgContainer(I).xScale(b),P.select(".nv-interactive").call(h)),i.dispatch.on("stateChange",function(b){for(var c in b)B[c]=b[c];E.stateChange(B),a.update()}),j.dispatch.on("legendClick",function(b,c){if(b.disabled){switch(S=S.map(function(a){return a.disabled=!0,a}),b.disabled=!1,b.key){case"Grouped":case r.grouped:e.stacked(!1);break;case"Stacked":case r.stacked:e.stacked(!0)}B.stacked=e.stacked(),E.stateChange(B),a.update()}}),E.on("changeState",function(b){void 0!==b.disabled&&(D.forEach(function(a,c){a.disabled=b.disabled[c]}),B.disabled=b.disabled),void 0!==b.stacked&&(e.stacked(b.stacked),B.stacked=b.stacked,J=b.stacked),a.update()}),H?(h.dispatch.on("elementMousemove",function(c){if(void 0!=c.pointXValue){var d,e,f,g,i=[];D.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(h,j){e=b.domain().indexOf(c.pointXValue);var k=h.values[e];void 0!==k&&(g=k.x,void 0===d&&(d=k),void 0===f&&(f=c.mouseX),i.push({key:h.key,value:a.y()(k,e),color:p(h,h.seriesIndex),data:h.values[e]}))}),h.tooltip.data({value:g,index:e,series:i})(),h.renderGuideLine(f)}}),h.dispatch.on("elementMouseout",function(a){h.tooltip.hidden(!0)})):(e.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data),b.series={key:b.data.key,value:a.y()(b.data),color:b.color},k.data(b).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){k()}))}),I.renderEnd("multibarchart immediate"),a}var b,d,e=c.models.multiBar(),f=c.models.axis(),g=c.models.axis(),h=c.interactiveGuideline(),i=c.models.legend(),j=c.models.legend(),k=c.models.tooltip(),l={top:30,right:20,bottom:50,left:60},m=null,n=null,o=null,p=c.utils.defaultColor(),q=!0,r={},s=!0,t=null,u=!0,v=!0,w=!1,x=!0,y=!1,z=!1,A=0,B=c.utils.state(),C=null,D=null,E=d3.dispatch("stateChange","changeState","renderEnd"),F=function(){return q?180:0},G=250,H=!1;B.stacked=!1,e.stacked(!1),f.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(a){return a}),g.orient(w?"right":"left").tickFormat(d3.format(",.1f")),k.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),h.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),h.tooltip.valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),h.tooltip.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),j.updateState(!1);var I=c.utils.renderWatch(E),J=!1,K=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:J}}},L=function(a){return function(b){void 0!==b.stacked&&(J=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return a.dispatch=E,a.multibar=e,a.legend=i,a.controls=j,a.xAxis=f,a.yAxis=g,a.state=B,a.tooltip=k,a.interactiveLayer=h,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return n},set:function(a){n=a}},height:{get:function(){return o},set:function(a){o=a}},showLegend:{get:function(){return s},set:function(a){s=a}},legendPosition:{get:function(){return t},set:function(a){t=a}},showControls:{get:function(){return q},set:function(a){q=a}},controlLabels:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return D},set:function(a){D=a}},reduceXTicks:{get:function(){return x},set:function(a){x=a}},rotateLabels:{get:function(){return A},set:function(a){A=a}},staggerLabels:{get:function(){return y},set:function(a){y=a}},wrapLabels:{get:function(){return z},set:function(a){z=!!a}},margin:{get:function(){return l},set:function(a){void 0!==a.top&&(l.top=a.top,m=a.top),l.right=void 0!==a.right?a.right:l.right,l.bottom=void 0!==a.bottom?a.bottom:l.bottom,l.left=void 0!==a.left?a.left:l.left}},duration:{get:function(){return G},set:function(a){G=a,e.duration(G),f.duration(G),g.duration(G),I.reset(G)}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a),i.color(p)}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,g.orient(w?"right":"left")}},useInteractiveGuideline:{get:function(){return H},set:function(a){H=a}},barColor:{get:function(){return e.barColor},set:function(a){e.barColor(a),i.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.multiBarHorizontal=function(){"use strict";function a(m){return F.reset(),m.each(function(a){var m=k-j.left-j.right,D=l-j.top-j.bottom;n=d3.select(this),c.utils.initSVG(n),w&&(a=d3.layout.stack().offset("zero").values(function(a){return a.values}).y(r)(a)),a.forEach(function(a,b){a.values.forEach(function(c){c.series=b,c.key=a.key})}),w&&a[0].values.map(function(b,c){var d=0,e=0;a.map(function(a){var b=a.values[c];b.size=Math.abs(b.y),b.y<0?(b.y1=e-b.size,e-=b.size):(b.y1=d,d+=b.size)})});var G=d&&e?[]:a.map(function(a){return a.values.map(function(a,b){return{x:q(a,b),y:r(a,b),y0:a.y0,y1:a.y1}})});o.domain(d||d3.merge(G).map(function(a){return a.x})).rangeBands(f||[0,D],A),p.domain(e||d3.extent(d3.merge(G).map(function(a){return w?a.y>0?a.y1+a.y:a.y1:a.y}).concat(t))),x&&!w?p.range(g||[p.domain()[0]<0?z:0,m-(p.domain()[1]>0?z:0)]):p.range(g||[0,m]),h=h||o,i=i||d3.scaleLinear().domain(p.domain()).range([p(0),p(0)]);var H=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([a]),I=H.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),J=(I.append("defs"),I.append("g"));H.select("g");J.append("g").attr("class","nv-groups"),H.attr("transform","translate("+j.left+","+j.top+")");var K=H.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a,b){return b});K.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),K.exit().watchTransition(F,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),K.attr("class",function(a,b){return"nv-group nv-series-"+b}).classed("hover",function(a){return a.hover}).style("fill",function(a,b){return u(a,b)}).style("stroke",function(a,b){return u(a,b)}),K.watchTransition(F,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",B);var L=K.selectAll("g.nv-bar").data(function(a){return a.values});L.exit().remove();var M=L.enter().append("g").attr("transform",function(b,c,d){return"translate("+i(w?b.y0:0)+","+(w?0:d*o.rangeBand()/a.length+o(q(b,c)))+")"});M.append("rect").attr("width",0).attr("height",o.rangeBand()/(w?1:a.length)),L.on("mouseover",function(a,b){d3.select(this).classed("hover",!0),E.elementMouseover({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),E.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mouseout",function(a,b){E.elementMouseout({data:a,index:b,color:d3.select(this).style("fill")})}).on("mousemove",function(a,b){E.elementMousemove({data:a,index:b,color:d3.select(this).style("fill")})}).on("click",function(a,b){var c=this;E.elementClick({data:a,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c}),d3.event.stopPropagation()}).on("dblclick",function(a,b){E.elementDblClick({data:a,index:b,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),s(a[0],0)&&(M.append("polyline"),L.select("polyline").attr("fill","none").attr("points",function(b,c){var d=s(b,c),e=.8*o.rangeBand()/(2*(w?1:a.length));return d=d.length?d:[-Math.abs(d),Math.abs(d)],d=d.map(function(a){return p(a+(r(b,c)<0?0:r(b,c)))-p(0)}),[[d[0],-e],[d[0],e],[d[0],0],[d[1],0],[d[1],-e],[d[1],e]].map(function(a){return a.join(",")}).join(" ")}).attr("transform",function(b,c){return"translate(0, "+o.rangeBand()/(2*(w?1:a.length))+")"})),M.append("text"),x&&!w?(L.select("text").attr("text-anchor",function(a,b){return r(a,b)<0?"end":"start"}).attr("y",o.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){var c=C(r(a,b)),d=s(a,b);return void 0===d?c:d.length?c+"+"+C(Math.abs(d[1]))+"-"+C(Math.abs(d[0])):c+""+C(Math.abs(d))}),L.watchTransition(F,"multibarhorizontal: bars").select("text").attr("x",function(a,b){return r(a,b)<0?-4:p(r(a,b))-p(0)+4})):L.selectAll("text").text(""),y&&!w?(M.append("text").classed("nv-bar-label",!0),L.select("text.nv-bar-label").attr("text-anchor",function(a,b){return r(a,b)<0?"start":"end"}).attr("y",o.rangeBand()/(2*a.length)).attr("dy",".32em").text(function(a,b){return q(a,b)}),L.watchTransition(F,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(a,b){return r(a,b)<0?p(0)-p(r(a,b))+4:-4})):L.selectAll("text.nv-bar-label").text(""),L.attr("class",function(a,b){return r(a,b)<0?"nv-bar negative":"nv-bar positive"}),v&&(b||(b=a.map(function(){return!0})),L.style("fill",function(a,c,d){return d3.rgb(v(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()}).style("stroke",function(a,c,d){return d3.rgb(v(a,c)).darker(b.map(function(a,b){return b}).filter(function(a,c){return!b[c]})[d]).toString()})),w?L.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(a,b){return"translate("+p(a.y1)+","+o(q(a,b))+")"}).select("rect").attr("width",function(a,b){return Math.abs(p(r(a,b)+a.y0)-p(a.y0))||0}).attr("height",o.rangeBand()):L.watchTransition(F,"multibarhorizontal: bars").attr("transform",function(b,c){return"translate("+p(r(b,c)<0?r(b,c):0)+","+(b.series*o.rangeBand()/a.length+o(q(b,c)))+")"}).select("rect").attr("height",o.rangeBand()/a.length).attr("width",function(a,b){return Math.max(Math.abs(p(r(a,b))-p(0)),1)||0}),h=o.copy(),i=p.copy()}),F.renderEnd("multibarHorizontal immediate"),a}var b,d,e,f,g,h,i,j={top:0,right:0,bottom:0,left:0},k=960,l=500,m=Math.floor(1e4*Math.random()),n=null,o=d3.scaleOrdinal(),p=d3.scaleLinear(),q=function(a){return a.x},r=function(a){return a.y},s=function(a){return a.yErr},t=[0],u=c.utils.defaultColor(),v=null,w=!1,x=!1,y=!1,z=60,A=.1,B=.75,C=d3.format(",.2f"),D=250,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=c.utils.renderWatch(E,D);return a.dispatch=E,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return k},set:function(a){k=a}},height:{get:function(){return l},set:function(a){l=a}},x:{get:function(){return q},
set:function(a){q=a}},y:{get:function(){return r},set:function(a){r=a}},yErr:{get:function(){return s},set:function(a){s=a}},xScale:{get:function(){return o},set:function(a){o=a}},yScale:{get:function(){return p},set:function(a){p=a}},xDomain:{get:function(){return d},set:function(a){d=a}},yDomain:{get:function(){return e},set:function(a){e=a}},xRange:{get:function(){return f},set:function(a){f=a}},yRange:{get:function(){return g},set:function(a){g=a}},forceY:{get:function(){return t},set:function(a){t=a}},stacked:{get:function(){return w},set:function(a){w=a}},showValues:{get:function(){return x},set:function(a){x=a}},disabled:{get:function(){return b},set:function(a){b=a}},id:{get:function(){return m},set:function(a){m=a}},valueFormat:{get:function(){return C},set:function(a){C=a}},valuePadding:{get:function(){return z},set:function(a){z=a}},groupSpacing:{get:function(){return A},set:function(a){A=a}},fillOpacity:{get:function(){return B},set:function(a){B=a}},margin:{get:function(){return j},set:function(a){j.top=void 0!==a.top?a.top:j.top,j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},duration:{get:function(){return D},set:function(a){D=a,F.reset(D)}},color:{get:function(){return u},set:function(a){u=c.utils.getColor(a)}},barColor:{get:function(){return v},set:function(a){v=a?c.utils.getColor(a):null}}}),c.utils.initOptions(a),a},c.models.multiBarHorizontalChart=function(){"use strict";function a(j){return F.reset(),F.models(e),u&&F.models(f),v&&F.models(g),j.each(function(j){var z=d3.select(this);c.utils.initSVG(z);var F=c.utils.availableWidth(m,z,k),G=c.utils.availableHeight(n,z,k);if(a.update=function(){z.transition().duration(C).call(a)},a.container=this,w=e.stacked(),x.setter(E(j),a.update).getter(D(j)).update(),x.disabled=j.map(function(a){return!!a.disabled}),!y){var H;y={};for(H in x)x[H]instanceof Array?y[H]=x[H].slice(0):y[H]=x[H]}if(!(j&&j.length&&j.filter(function(a){return a.values.length}).length))return c.utils.noData(a,z),a;z.selectAll(".nv-noData").remove(),b=e.xScale(),d=e.yScale().clamp(!0);var I=z.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([j]),J=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),K=I.select("g");if(J.append("g").attr("class","nv-x nv-axis"),J.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),J.append("g").attr("class","nv-barsWrap"),J.append("g").attr("class","nv-legendWrap"),J.append("g").attr("class","nv-controlsWrap"),s?(h.width(F-B()),K.select(".nv-legendWrap").datum(j).call(h),"bottom"===t?(k.bottom=f.height()+h.height(),G=c.utils.availableHeight(n,z,k),K.select(".nv-legendWrap").attr("transform","translate("+B()+","+(G+f.height())+")")):"top"===t&&(l||h.height()===k.top||(k.top=h.height(),G=c.utils.availableHeight(n,z,k)),K.select(".nv-legendWrap").attr("transform","translate("+B()+","+-k.top+")"))):K.select(".nv-legendWrap").selectAll("*").remove(),p){var L=[{key:r.grouped||"Grouped",disabled:e.stacked()},{key:r.stacked||"Stacked",disabled:!e.stacked()}];i.width(B()).color(["#444","#444","#444"]),"bottom"===q?(k.bottom=f.height()+h.height(),G=c.utils.availableHeight(n,z,k),K.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+(G+f.height())+")").call(i)):"top"===q&&K.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-k.top+")").call(i)}else K.select(".nv-controlsWrap").selectAll("*").remove();(I.attr("transform","translate("+k.left+","+k.top+")"),e.disabled(j.map(function(a){return a.disabled})).width(F).height(G).color(j.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!j[b].disabled})),K.select(".nv-barsWrap").datum(j.filter(function(a){return!a.disabled})).transition().call(e),u)&&(f.scale(b)._ticks(c.utils.calcTicksY(G/24,j)).tickSize(-F,0),K.select(".nv-x.nv-axis").call(f),K.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text"));v&&(g.scale(d)._ticks(c.utils.calcTicksX(F/100,j)).tickSize(-G,0),K.select(".nv-y.nv-axis").attr("transform","translate(0,"+G+")"),K.select(".nv-y.nv-axis").call(g)),K.select(".nv-zeroLine line").attr("x1",d(0)).attr("x2",d(0)).attr("y1",0).attr("y2",-G),h.dispatch.on("stateChange",function(b){for(var c in b)x[c]=b[c];A.stateChange(x),a.update()}),i.dispatch.on("legendClick",function(b,c){if(b.disabled){switch(L=L.map(function(a){return a.disabled=!0,a}),b.disabled=!1,b.key){case"Grouped":case r.grouped:e.stacked(!1);break;case"Stacked":case r.stacked:e.stacked(!0)}x.stacked=e.stacked(),A.stateChange(x),w=e.stacked(),a.update()}}),A.on("changeState",function(b){void 0!==b.disabled&&(j.forEach(function(a,c){a.disabled=b.disabled[c]}),x.disabled=b.disabled),void 0!==b.stacked&&(e.stacked(b.stacked),x.stacked=b.stacked,w=b.stacked),a.update()})}),F.renderEnd("multibar horizontal chart immediate"),a}var b,d,e=c.models.multiBarHorizontal(),f=c.models.axis(),g=c.models.axis(),h=c.models.legend().height(30),i=c.models.legend().height(30),j=c.models.tooltip(),k={top:30,right:20,bottom:50,left:60},l=null,m=null,n=null,o=c.utils.defaultColor(),p=!0,q="top",r={},s=!0,t="top",u=!0,v=!0,w=!1,x=c.utils.state(),y=null,z=null,A=d3.dispatch("stateChange","changeState","renderEnd"),B=function(){return p?180:0},C=250;x.stacked=!1,e.stacked(w),f.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(a){return a}),g.orient("bottom").tickFormat(d3.format(",.1f")),j.duration(0).valueFormatter(function(a,b){return g.tickFormat()(a,b)}).headerFormatter(function(a,b){return f.tickFormat()(a,b)}),i.updateState(!1);var D=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),stacked:w}}},E=function(a){return function(b){void 0!==b.stacked&&(w=b.stacked),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},F=c.utils.renderWatch(A,C);return e.dispatch.on("elementMouseover.tooltip",function(b){b.value=a.x()(b.data),b.series={key:b.data.key,value:a.y()(b.data),color:b.color},j.data(b).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){j.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(a){j()}),a.dispatch=A,a.multibar=e,a.legend=h,a.controls=i,a.xAxis=f,a.yAxis=g,a.state=x,a.tooltip=j,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return m},set:function(a){m=a}},height:{get:function(){return n},set:function(a){n=a}},showLegend:{get:function(){return s},set:function(a){s=a}},legendPosition:{get:function(){return t},set:function(a){t=a}},controlsPosition:{get:function(){return q},set:function(a){q=a}},showControls:{get:function(){return p},set:function(a){p=a}},controlLabels:{get:function(){return r},set:function(a){r=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return z},set:function(a){z=a}},margin:{get:function(){return k},set:function(a){void 0!==a.top&&(k.top=a.top,l=a.top),k.right=void 0!==a.right?a.right:k.right,k.bottom=void 0!==a.bottom?a.bottom:k.bottom,k.left=void 0!==a.left?a.left:k.left}},duration:{get:function(){return C},set:function(a){C=a,F.reset(C),e.duration(C),f.duration(C),g.duration(C)}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a),h.color(o)}},barColor:{get:function(){return e.barColor},set:function(a){e.barColor(a),h.color(function(a,b){return d3.rgb("#ccc").darker(1.5*b).toString()})}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.multiChart=function(){"use strict";function a(k){return k.each(function(k){function o(a){return d3.transpose(a).map(function(a){return a.map(function(a){return a.y})}).map(function(a){return d3.sum(a)})}function s(a){var b=2===a.series.yAxis?G:F;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},I.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function J(a){var b=2===a.series.yAxis?G:F;a.value=a.point.x,a.series={value:a.point.y,color:a.point.color,key:a.series.key},I.duration(100).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function L(a){var b=2===a.series.yAxis?G:F;a.point.x=C.x()(a.point),a.point.y=C.y()(a.point),I.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function M(a){var b=2===a.series.yAxis?G:F;a.value=A.x()(a.data),a.series={value:A.y()(a.data),color:a.color,key:a.data.key},I.duration(0).headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(function(a,c){return b.tickFormat()(a,c)}).data(a).hidden(!1)}function N(){for(var a=0,b=K.length;a<b;a++){var c=K[a];try{c.clearHighlights()}catch(d){}}}function O(a,b,c,d){var e={line:{yAxis1:{chart:w,data:S},yAxis2:{chart:x,data:T}},scatter:{yAxis1:{chart:y,data:U},yAxis2:{chart:z,data:V}},bar:{yAxis1:{chart:A,data:W},yAxis2:{chart:B,data:X}},area:{yAxis1:{chart:C,data:Y},yAxis2:{chart:D,data:Z}}},f=e[a.type]["yAxis"+a.yAxis].chart,g=e[a.type]["yAxis"+a.yAxis].data,h=g.reduce(function(b,c,d){return c.key===a.key?d:b},0);try{f.highlightPoint(h,b,c,d)}catch(i){}}var P=d3.select(this);c.utils.initSVG(P),a.update=function(){P.transition().call(a)},a.container=this;var Q=c.utils.availableWidth(h,P,e),R=c.utils.availableHeight(i,P,e),S=k.filter(function(a){return"line"==a.type&&1==a.yAxis}),T=k.filter(function(a){return"line"==a.type&&2==a.yAxis}),U=k.filter(function(a){return"scatter"==a.type&&1==a.yAxis}),V=k.filter(function(a){return"scatter"==a.type&&2==a.yAxis}),W=k.filter(function(a){return"bar"==a.type&&1==a.yAxis}),X=k.filter(function(a){return"bar"==a.type&&2==a.yAxis}),Y=k.filter(function(a){return"area"==a.type&&1==a.yAxis}),Z=k.filter(function(a){return"area"==a.type&&2==a.yAxis});if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return c.utils.noData(a,P),a;P.selectAll(".nv-noData").remove();var $=k.filter(function(a){return!a.disabled&&1==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:l(a),y:m(a)}})}),_=k.filter(function(a){return!a.disabled&&2==a.yAxis}).map(function(a){return a.values.map(function(a,b){return{x:l(a),y:m(a)}})});t.domain(d3.extent(d3.merge($.concat(_)),function(a){return a.x})).range([0,Q]);var aa=P.selectAll("g.wrap.multiChart").data([k]),ba=aa.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");ba.append("g").attr("class","nv-x nv-axis"),ba.append("g").attr("class","nv-y1 nv-axis"),ba.append("g").attr("class","nv-y2 nv-axis"),ba.append("g").attr("class","stack1Wrap"),ba.append("g").attr("class","stack2Wrap"),ba.append("g").attr("class","bars1Wrap"),ba.append("g").attr("class","bars2Wrap"),ba.append("g").attr("class","scatters1Wrap"),ba.append("g").attr("class","scatters2Wrap"),ba.append("g").attr("class","lines1Wrap"),ba.append("g").attr("class","lines2Wrap"),ba.append("g").attr("class","legendWrap"),ba.append("g").attr("class","nv-interactive");var ca=aa.select("g"),da=k.map(function(a,b){return k[b].color||g(a,b)});if(j){var ea=H.align()?Q/2:Q,fa=H.align()?ea:0;H.width(ea),H.color(da),ca.select(".legendWrap").datum(k.map(function(a){return a.originalKey=void 0===a.originalKey?a.key:a.originalKey,a.key=a.originalKey+(1==a.yAxis?"":r),a})).call(H),f||H.height()===e.top||(e.top=H.height(),R=c.utils.availableHeight(i,P,e)),ca.select(".legendWrap").attr("transform","translate("+fa+","+-e.top+")")}else ca.select(".legendWrap").selectAll("*").remove();w.width(Q).height(R).interpolate(n).color(da.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"line"==k[b].type})),x.width(Q).height(R).interpolate(n).color(da.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"line"==k[b].type})),y.width(Q).height(R).color(da.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"scatter"==k[b].type})),z.width(Q).height(R).color(da.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"scatter"==k[b].type})),A.width(Q).height(R).color(da.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"bar"==k[b].type})),B.width(Q).height(R).color(da.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"bar"==k[b].type})),C.width(Q).height(R).interpolate(n).color(da.filter(function(a,b){return!k[b].disabled&&1==k[b].yAxis&&"area"==k[b].type})),D.width(Q).height(R).interpolate(n).color(da.filter(function(a,b){return!k[b].disabled&&2==k[b].yAxis&&"area"==k[b].type})),ca.attr("transform","translate("+e.left+","+e.top+")");var ga=ca.select(".lines1Wrap").datum(S.filter(function(a){return!a.disabled})),ha=ca.select(".scatters1Wrap").datum(U.filter(function(a){return!a.disabled})),ia=ca.select(".bars1Wrap").datum(W.filter(function(a){return!a.disabled})),ja=ca.select(".stack1Wrap").datum(Y.filter(function(a){return!a.disabled})),ka=ca.select(".lines2Wrap").datum(T.filter(function(a){return!a.disabled})),la=ca.select(".scatters2Wrap").datum(V.filter(function(a){return!a.disabled})),ma=ca.select(".bars2Wrap").datum(X.filter(function(a){return!a.disabled})),na=ca.select(".stack2Wrap").datum(Z.filter(function(a){return!a.disabled})),oa=[];if(A.stacked()&&W.length){var oa=W.filter(function(a){return!a.disabled}).map(function(a){return a.values});oa.length>0&&(oa=oa.reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}))}W.length&&oa.push({x:0,y:0});var pa=[];if(B.stacked()&&X.length){var pa=X.filter(function(a){return!a.disabled}).map(function(a){return a.values});pa.length>0&&(pa=pa.reduce(function(a,b){return a.map(function(a,c){return{x:a.x,y:a.y+b[c].y}})}))}if(X.length&&pa.push({x:0,y:0}),u.domain(b||d3.extent(d3.merge($).concat(oa),function(a){return a.y})).range([0,R]),v.domain(d||d3.extent(d3.merge(_).concat(pa),function(a){return a.y})).range([0,R]),w.yDomain(u.domain()),y.yDomain(u.domain()),A.stacked()){var qa=u.domain([0,d3.max(o($))]).range([0,R]);A.yDomain(qa.domain())}else A.yDomain(u.domain());if(C.yDomain(u.domain()),x.yDomain(v.domain()),z.yDomain(v.domain()),B.stacked()){var ra=v.domain([0,d3.max(o(_))]).range([0,R]);B.yDomain(ra.domain())}else B.yDomain(v.domain());D.yDomain(v.domain()),Y.length&&d3.transition(ja).call(C),Z.length&&d3.transition(na).call(D),W.length&&d3.transition(ia).call(A),X.length&&d3.transition(ma).call(B),S.length&&d3.transition(ga).call(w),T.length&&d3.transition(ka).call(x),U.length&&d3.transition(ha).call(y),V.length&&d3.transition(la).call(z),E._ticks(c.utils.calcTicksX(Q/100,k)).tickSize(-R,0),ca.select(".nv-x.nv-axis").attr("transform","translate(0,"+R+")"),d3.transition(ca.select(".nv-x.nv-axis")).call(E),F._ticks(c.utils.calcTicksY(R/36,k)).tickSize(-Q,0),d3.transition(ca.select(".nv-y1.nv-axis")).call(F),G._ticks(c.utils.calcTicksY(R/36,k)).tickSize(-Q,0),d3.transition(ca.select(".nv-y2.nv-axis")).call(G),ca.select(".nv-y1.nv-axis").classed("nv-disabled",!$.length).attr("transform","translate("+t.range()[0]+",0)"),ca.select(".nv-y2.nv-axis").classed("nv-disabled",!_.length).attr("transform","translate("+t.range()[1]+",0)"),H.dispatch.on("stateChange",function(b){a.update()}),q&&(p.width(Q).height(R).margin({left:e.left,top:e.top}).svgContainer(P).xScale(t),aa.select(".nv-interactive").call(p)),q?(p.dispatch.on("elementMousemove",function(b){N();var d,e,f,h=[];k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(i,j){var k=t.domain(),l=i.values.filter(function(b,c){return a.x()(b,c)>=k[0]&&a.x()(b,c)<=k[1]});e=c.interactiveBisect(l,b.pointXValue,a.x());var m=l[e],n=a.y()(m,e);null===n||isNaN(n)||i.noHighlightSeries||O(i,e,!0),void 0!==m&&(void 0===d&&(d=m),void 0===f&&(f=t(a.x()(m,e))),h.push({key:i.key,value:n,color:g(i,i.seriesIndex),data:m,yAxis:2==i.yAxis?G:F}))});var i=function(a,b){var c=h[b].yAxis;return null==a?"N/A":c.tickFormat()(a)};p.tooltip.headerFormatter(function(a,b){return E.tickFormat()(a,b)}).valueFormatter(p.tooltip.valueFormatter()||i).data({value:a.x()(d,e),index:e,series:h})(),p.renderGuideLine(f)}),p.dispatch.on("elementMouseout",function(a){N()})):(w.dispatch.on("elementMouseover.tooltip",s),x.dispatch.on("elementMouseover.tooltip",s),w.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),x.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),y.dispatch.on("elementMouseover.tooltip",J),z.dispatch.on("elementMouseover.tooltip",J),y.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),z.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),C.dispatch.on("elementMouseover.tooltip",L),D.dispatch.on("elementMouseover.tooltip",L),C.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),D.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),A.dispatch.on("elementMouseover.tooltip",M),B.dispatch.on("elementMouseover.tooltip",M),A.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),B.dispatch.on("elementMouseout.tooltip",function(a){I.hidden(!0)}),A.dispatch.on("elementMousemove.tooltip",function(a){I()}),B.dispatch.on("elementMousemove.tooltip",function(a){I()}))}),a}var b,d,e={top:30,right:20,bottom:50,left:60},f=null,g=c.utils.defaultColor(),h=null,i=null,j=!0,k=null,l=function(a){return a.x},m=function(a){return a.y},n="linear",o=!0,p=c.interactiveGuideline(),q=!1,r=" (right axis)",s=250,t=d3.scaleLinear(),u=d3.scaleLinear(),v=d3.scaleLinear(),w=c.models.line().yScale(u).duration(s),x=c.models.line().yScale(v).duration(s),y=c.models.scatter().yScale(u).duration(s),z=c.models.scatter().yScale(v).duration(s),A=c.models.multiBar().stacked(!1).yScale(u).duration(s),B=c.models.multiBar().stacked(!1).yScale(v).duration(s),C=c.models.stackedArea().yScale(u).duration(s),D=c.models.stackedArea().yScale(v).duration(s),E=c.models.axis().scale(t).orient("bottom").tickPadding(5).duration(s),F=c.models.axis().scale(u).orient("left").duration(s),G=c.models.axis().scale(v).orient("right").duration(s),H=c.models.legend().height(30),I=c.models.tooltip(),J=d3.dispatch(),K=[w,x,y,z,A,B,C,D];return a.dispatch=J,a.legend=H,a.lines1=w,a.lines2=x,a.scatters1=y,a.scatters2=z,a.bars1=A,a.bars2=B,a.stack1=C,a.stack2=D,a.xAxis=E,a.yAxis1=F,a.yAxis2=G,a.tooltip=I,a.interactiveLayer=p,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},showLegend:{get:function(){return j},set:function(a){j=a}},xScale:{get:function(){return t},set:function(a){t=a,E.scale(t)}},yDomain1:{get:function(){return b},set:function(a){b=a}},yDomain2:{get:function(){return d},set:function(a){d=a}},noData:{get:function(){return k},set:function(a){k=a}},interpolate:{get:function(){return n},set:function(a){n=a}},legendRightAxisHint:{get:function(){return r},set:function(a){r=a}},margin:{get:function(){return e},set:function(a){void 0!==a.top&&(e.top=a.top,f=a.top),e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return g},set:function(a){g=c.utils.getColor(a)}},x:{get:function(){return l},set:function(a){l=a,w.x(a),x.x(a),y.x(a),z.x(a),A.x(a),B.x(a),C.x(a),D.x(a)}},y:{get:function(){return m},set:function(a){m=a,w.y(a),x.y(a),y.y(a),z.y(a),C.y(a),D.y(a),A.y(a),B.y(a)}},useVoronoi:{get:function(){return o},set:function(a){o=a,w.useVoronoi(a),x.useVoronoi(a),C.useVoronoi(a),D.useVoronoi(a)}},useInteractiveGuideline:{get:function(){return q},set:function(a){(q=a)&&(w.interactive(!1),w.useVoronoi(!1),x.interactive(!1),x.useVoronoi(!1),C.interactive(!1),C.useVoronoi(!1),D.interactive(!1),D.useVoronoi(!1),y.interactive(!1),z.interactive(!1))}},duration:{get:function(){return s},set:function(a){s=a,[w,x,C,D,y,z,E,F,G].forEach(function(a){a.duration(s)})}}}),c.utils.initOptions(a),a},c.models.ohlcBar=function(){"use strict";function a(y){return y.each(function(a){k=d3.select(this);var y=c.utils.availableWidth(h,k,g),A=c.utils.availableHeight(i,k,g);c.utils.initSVG(k);var B=y/a[0].values.length*.9;l.domain(b||d3.extent(a[0].values.map(n).concat(t))),v?l.range(e||[.5*y/a[0].values.length,y*(a[0].values.length-.5)/a[0].values.length]):l.range(e||[5+B/2,y-B/2-5]),m.domain(d||[d3.min(a[0].values.map(s).concat(u)),d3.max(a[0].values.map(r).concat(u))]).range(f||[A,0]),l.domain()[0]===l.domain()[1]&&(l.domain()[0]?l.domain([l.domain()[0]-.01*l.domain()[0],l.domain()[1]+.01*l.domain()[1]]):l.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]+.01*m.domain()[0],m.domain()[1]-.01*m.domain()[1]]):m.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([a[0].values]),D=C.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),E=D.append("defs"),F=D.append("g"),G=C.select("g");F.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+g.left+","+g.top+")"),k.on("click",function(a,b){z.chartClick({data:a,index:b,pos:d3.event,id:j})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+j).append("rect"),C.select("#nv-chart-clip-path-"+j+" rect").attr("width",y).attr("height",A),G.attr("clip-path",w?"url(#nv-chart-clip-path-"+j+")":"");var H=C.select(".nv-ticks").selectAll(".nv-tick").data(function(a){return a});H.exit().remove(),H.enter().append("path").attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}).attr("d",function(a,b){return"m0,0l0,"+(m(p(a,b))-m(r(a,b)))+"l"+-B/2+",0l"+B/2+",0l0,"+(m(s(a,b))-m(p(a,b)))+"l0,"+(m(q(a,b))-m(s(a,b)))+"l"+B/2+",0l"+-B/2+",0z"}).attr("transform",function(a,b){return"translate("+l(n(a,b))+","+m(r(a,b))+")"}).attr("fill",function(a,b){return x[0]}).attr("stroke",function(a,b){return x[0]}).attr("x",0).attr("y",function(a,b){return m(Math.max(0,o(a,b)))}).attr("height",function(a,b){return Math.abs(m(o(a,b))-m(0))}),H.attr("class",function(a,b,c){return(p(a,b)>q(a,b)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+c+"-"+b}),d3.transition(H).attr("transform",function(a,b){return"translate("+l(n(a,b))+","+m(r(a,b))+")"}).attr("d",function(b,c){var d=y/a[0].values.length*.9;return"m0,0l0,"+(m(p(b,c))-m(r(b,c)))+"l"+-d/2+",0l"+d/2+",0l0,"+(m(s(b,c))-m(p(b,c)))+"l0,"+(m(q(b,c))-m(s(b,c)))+"l"+d/2+",0l"+-d/2+",0z"})}),a}var b,d,e,f,g={top:0,right:0,bottom:0,left:0},h=null,i=null,j=Math.floor(1e4*Math.random()),k=null,l=d3.scaleLinear(),m=d3.scaleLinear(),n=function(a){return a.x},o=function(a){return a.y},p=function(a){return a.open},q=function(a){return a.close},r=function(a){return a.high},s=function(a){return a.low},t=[],u=[],v=!1,w=!0,x=c.utils.defaultColor(),y=!1,z=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return a.highlightPoint=function(b,c){a.clearHighlights(),k.select(".nv-ohlcBar .nv-tick-0-"+b).classed("hover",c)},a.clearHighlights=function(){k.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},a.dispatch=z,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},forceX:{get:function(){return t},set:function(a){t=a}},forceY:{get:function(){return u},set:function(a){u=a}},padData:{get:function(){return v},set:function(a){v=a}},clipEdge:{get:function(){return w},set:function(a){w=a}},id:{get:function(){return j},set:function(a){j=a}},interactive:{get:function(){return y},set:function(a){y=a}},x:{get:function(){return n},set:function(a){n=a}},y:{get:function(){return o},set:function(a){o=a}},open:{get:function(){return p()},set:function(a){p=a}},close:{get:function(){return q()},set:function(a){q=a}},high:{get:function(){return r},set:function(a){r=a}},low:{get:function(){return s},set:function(a){s=a}},margin:{get:function(){return g},set:function(a){g.top=void 0!=a.top?a.top:g.top,g.right=void 0!=a.right?a.right:g.right,g.bottom=void 0!=a.bottom?a.bottom:g.bottom,g.left=void 0!=a.left?a.left:g.left}},color:{get:function(){return x},set:function(a){x=c.utils.getColor(a)}}}),c.utils.initOptions(a),a},c.models.parallelCoordinates=function(){"use strict";function a(B){return A.reset(),B.each(function(a){function A(a){return x(o.map(function(b){if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key]))||O){var c=l[b.key].domain(),d=l[b.key].range(),e=c[0]-(c[1]-c[0])/9;if(v.indexOf(b.key)<0){var f=d3.scaleLinear().domain([e,c[1]]).range([j-12,d[1]]);l[b.key].brush.y(f),v.push(b.key)}if(isNaN(a.values[b.key])||isNaN(parseFloat(a.values[b.key])))return[k(b.key),l[b.key](e)]}return void 0!==U&&(v.length>0||O?(U.style("display","inline"),V.style("display","inline")):(U.style("display","none"),V.style("display","none"))),[k(b.key),l[b.key](a.values[b.key])]}))}function B(a){s.forEach(function(b){var c=l[b.dimension].brush.y().domain();b.hasOnlyNaN&&(b.extent[1]=(l[b.dimension].domain()[1]-c[0])*(b.extent[1]-b.extent[0])/(N[b.dimension]-b.extent[0])+c[0]),b.hasNaN&&(b.extent[0]=c[0]),a&&l[b.dimension].brush.extent(b.extent)}),e.select(".nv-brushBackground").each(function(a){d3.select(this).call(l[a.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),F()}function C(){!1===q&&(q=!0,B(!0))}function D(){$=p.filter(function(a){return!l[a].brush.empty()}),_=$.map(function(a){return l[a].brush.extent()}),s=[],$.forEach(function(a,b){s[b]={dimension:a,extent:_[b],hasNaN:!1,hasOnlyNaN:!1}}),t=[],b.style("display",function(a){var b=$.every(function(b,c){return!(!isNaN(a.values[b])&&!isNaN(parseFloat(a.values[b]))||_[c][0]!=l[b].brush.y().domain()[0])||_[c][0]<=a.values[b]&&a.values[b]<=_[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&t.push(a),b?null:"none"}),F(),z.brush({filters:s,active:t})}function E(){var a=$.length>0;s.forEach(function(a){a.extent[0]===l[a.dimension].brush.y().domain()[0]&&v.indexOf(a.dimension)>=0&&(a.hasNaN=!0),a.extent[1]<l[a.dimension].domain()[0]&&(a.hasOnlyNaN=!0)}),z.brushEnd(t,a)}function F(){e.select(".nv-axis").each(function(a,b){var c=s.filter(function(b){return b.dimension==a.key});P[a.key]=l[a.key].domain(),0!=c.length&&q&&(P[a.key]=[],c[0].extent[1]>l[a.key].domain()[0]&&(P[a.key]=[c[0].extent[1]]),c[0].extent[0]>=l[a.key].domain()[0]&&P[a.key].push(c[0].extent[0])),d3.select(this).call(y.scale(l[a.key]).tickFormat(a.format).tickValues(P[a.key]))})}function G(a){u[a.key]=this.parentNode.__origin__=k(a.key),d.attr("visibility","hidden")}function H(a){u[a.key]=Math.min(i,Math.max(0,this.parentNode.__origin__+=d3.event.x)),b.attr("d",A),o.sort(function(a,b){return J(a.key)-J(b.key)}),o.forEach(function(a,b){return a.currentPosition=b}),k.domain(o.map(function(a){return a.key})),e.attr("transform",function(a){return"translate("+J(a.key)+")"})}function I(a,c){delete this.parentNode.__origin__,delete u[a.key],d3.select(this.parentNode).attr("transform","translate("+k(a.key)+")"),b.attr("d",A),d.attr("d",A).attr("visibility",null),z.dimensionsOrder(o)}function J(a){var b=u[a];return null==b?k(a):b}var K=d3.select(this);if(i=c.utils.availableWidth(g,K,f),j=c.utils.availableHeight(h,K,f),c.utils.initSVG(K),void 0===a[0].values){var L=[];a.forEach(function(a){var b={};Object.keys(a).forEach(function(c){"name"!==c&&(b[c]=a[c])}),L.push({key:a.name,values:b})}),a=L}var M=a.map(function(a){return a.values});0===t.length&&(t=a),p=n.sort(function(a,b){return a.currentPosition-b.currentPosition}).map(function(a){return a.key}),o=n.filter(function(a){return!a.disabled}),k.rangePoints([0,i],1).domain(o.map(function(a){return a.key}));var N={},O=!1,P=[];p.forEach(function(a){var b=d3.extent(M,function(b){return+b[a]}),c=b[0],d=b[1],e=!1;(isNaN(c)||isNaN(d))&&(e=!0,c=0,d=0),c===d&&(c-=1,d+=1);var f=s.filter(function(b){return b.dimension==a});0!==f.length&&(e?(c=l[a].domain()[0],d=l[a].domain()[1]):!f[0].hasOnlyNaN&&q?(c=c>f[0].extent[0]?f[0].extent[0]:c,d=d<f[0].extent[1]?f[0].extent[1]:d):f[0].hasNaN&&(d=d<f[0].extent[1]?f[0].extent[1]:d,N[a]=l[a].domain()[1],O=!0)),l[a]=d3.scaleLinear().domain([c,d]).range([.9*(j-12),0]),v=[],l[a].brush=d3.svg.brush().y(l[a]).on("brushstart",C).on("brush",D).on("brushend",E)});var Q=K.selectAll("g.nv-wrap.nv-parallelCoordinates").data([a]),R=Q.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),S=R.append("g"),T=Q.select("g");S.append("g").attr("class","nv-parallelCoordinates background"),S.append("g").attr("class","nv-parallelCoordinates foreground"),S.append("g").attr("class","nv-parallelCoordinates missingValuesline"),Q.attr("transform","translate("+f.left+","+f.top+")"),x.interpolate("cardinal").tension(w),y.orient("left");var U,V,W=d3.behavior.drag().on("dragstart",G).on("drag",H).on("dragend",I),X=k.range()[1]-k.range()[0];if(X=isNaN(X)?k.range()[0]:X,!isNaN(X)){var Y=[0+X/2,j-12,i-X/2,j-12];U=Q.select(".missingValuesline").selectAll("line").data([Y]),U.enter().append("line"),U.exit().remove(),U.attr("x1",function(a){return a[0]}).attr("y1",function(a){return a[1]}).attr("x2",function(a){return a[2]}).attr("y2",function(a){return a[3]}),V=Q.select(".missingValuesline").selectAll("text").data([m]),V.append("text").data([m]),V.enter().append("text"),V.exit().remove(),V.attr("y",j).attr("x",i-92-X/2).text(function(a){return a})}d=Q.select(".background").selectAll("path").data(a),d.enter().append("path"),d.exit().remove(),d.attr("d",A),b=Q.select(".foreground").selectAll("path").data(a),b.enter().append("path"),b.exit().remove(),b.attr("d",A).style("stroke-width",function(a,b){return isNaN(a.strokeWidth)&&(a.strokeWidth=1),a.strokeWidth}).attr("stroke",function(a,b){return a.color||r(a,b)}),b.on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("stroke-width",a.strokeWidth+2+"px").style("stroke-opacity",1),z.elementMouseover({label:a.name,color:a.color||r(a,b),values:a.values,dimensions:o})}),b.on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("stroke-width",a.strokeWidth+"px").style("stroke-opacity",.7),z.elementMouseout({label:a.name,index:b})}),b.on("mousemove",function(a,b){z.elementMousemove()}),b.on("click",function(a){z.elementClick({id:a.id})}),e=T.selectAll(".dimension").data(o);var Z=e.enter().append("g").attr("class","nv-parallelCoordinates dimension");e.attr("transform",function(a){return"translate("+k(a.key)+",0)"}),Z.append("g").attr("class","nv-axis"),Z.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(a,b){z.elementMouseover({label:a.tooltip||a.key,color:a.color})}).on("mouseout",function(a,b){z.elementMouseout({label:a.tooltip})}).on("mousemove",function(a,b){z.elementMousemove()}).call(W),Z.append("g").attr("class","nv-brushBackground"),e.exit().remove(),e.select(".nv-label").text(function(a){return a.key}),B(q);var $=p.filter(function(a){return!l[a].brush.empty()}),_=$.map(function(a){return l[a].brush.extent()}),aa=t.slice(0);t=[],b.style("display",function(a){var b=$.every(function(b,c){return!(!isNaN(a.values[b])&&!isNaN(parseFloat(a.values[b]))||_[c][0]!=l[b].brush.y().domain()[0])||_[c][0]<=a.values[b]&&a.values[b]<=_[c][1]&&!isNaN(parseFloat(a.values[b]))});return b&&t.push(a),b?null:"none"}),(s.length>0||!c.utils.arrayEquals(t,aa))&&z.activeChanged(t)}),a}var b,d,e,f={top:30,right:0,bottom:10,left:0
},g=null,h=null,i=null,j=null,k=d3.scaleOrdinal(),l={},m="undefined values",n=[],o=[],p=[],q=!0,r=c.utils.defaultColor(),s=[],t=[],u=[],v=[],w=1,x=d3.svg.line(),y=d3.svg.axis(),z=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),A=c.utils.renderWatch(z);return a.dispatch=z,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},dimensionData:{get:function(){return n},set:function(a){n=a}},displayBrush:{get:function(){return q},set:function(a){q=a}},filters:{get:function(){return s},set:function(a){s=a}},active:{get:function(){return t},set:function(a){t=a}},lineTension:{get:function(){return w},set:function(a){w=a}},undefinedValuesLabel:{get:function(){return m},set:function(a){m=a}},dimensions:{get:function(){return n.map(function(a){return a.key})},set:function(a){c.deprecated("dimensions","use dimensionData instead"),0===n.length?a.forEach(function(a){n.push({key:a})}):a.forEach(function(a,b){n[b].key=a})}},dimensionNames:{get:function(){return n.map(function(a){return a.key})},set:function(a){c.deprecated("dimensionNames","use dimensionData instead"),p=[],0===n.length?a.forEach(function(a){n.push({key:a})}):a.forEach(function(a,b){n[b].key=a})}},dimensionFormats:{get:function(){return n.map(function(a){return a.format})},set:function(a){c.deprecated("dimensionFormats","use dimensionData instead"),0===n.length?a.forEach(function(a){n.push({format:a})}):a.forEach(function(a,b){n[b].format=a})}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return r},set:function(a){r=c.utils.getColor(a)}}}),c.utils.initOptions(a),a},c.models.parallelCoordinatesChart=function(){"use strict";function a(e){return s.reset(),s.models(b),e.each(function(e){var k=d3.select(this);c.utils.initSVG(k);var p=c.utils.availableWidth(h,k,f),q=c.utils.availableHeight(i,k,f);if(a.update=function(){k.call(a)},a.container=this,l.setter(u(m),a.update).getter(t(m)).update(),l.disabled=m.map(function(a){return!!a.disabled}),m=m.map(function(a){return a.disabled=!!a.disabled,a}),m.forEach(function(a,b){a.originalPosition=isNaN(a.originalPosition)?b:a.originalPosition,a.currentPosition=isNaN(a.currentPosition)?b:a.currentPosition}),!o){var s;o={};for(s in l)l[s]instanceof Array?o[s]=l[s].slice(0):o[s]=l[s]}if(!e||!e.length)return c.utils.noData(a,k),a;k.selectAll(".nv-noData").remove();var v=k.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([e]),w=v.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),x=v.select("g");w.append("g").attr("class","nv-parallelCoordinatesWrap"),w.append("g").attr("class","nv-legendWrap"),x.select("rect").attr("width",p).attr("height",q>0?q:0),j?(d.width(p).color(function(a){return"rgb(188,190,192)"}),x.select(".nv-legendWrap").datum(m.sort(function(a,b){return a.originalPosition-b.originalPosition})).call(d),g||d.height()===f.top||(f.top=d.height(),q=c.utils.availableHeight(i,k,f)),v.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-f.top+")")):x.select(".nv-legendWrap").selectAll("*").remove(),v.attr("transform","translate("+f.left+","+f.top+")"),b.width(p).height(q).dimensionData(m).displayBrush(n),x.select(".nv-parallelCoordinatesWrap ").datum(e).transition().call(b),b.dispatch.on("brushEnd",function(a,b){b?(n=!0,r.brushEnd(a)):n=!1}),d.dispatch.on("stateChange",function(b){for(var c in b)l[c]=b[c];r.stateChange(l),a.update()}),b.dispatch.on("dimensionsOrder",function(a){m.sort(function(a,b){return a.currentPosition-b.currentPosition});var b=!1;m.forEach(function(a,c){a.currentPosition=c,a.currentPosition!==a.originalPosition&&(b=!0)}),r.dimensionsOrder(m,b)}),r.on("changeState",function(b){void 0!==b.disabled&&(m.forEach(function(a,c){a.disabled=b.disabled[c]}),l.disabled=b.disabled),a.update()})}),s.renderEnd("parraleleCoordinateChart immediate"),a}var b=c.models.parallelCoordinates(),d=c.models.legend(),e=c.models.tooltip(),f=(c.models.tooltip(),{top:0,right:0,bottom:0,left:0}),g=null,h=null,i=null,j=!0,k=c.utils.defaultColor(),l=c.utils.state(),m=[],n=!0,o=null,p=null,q="undefined",r=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),s=c.utils.renderWatch(r),t=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},u=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return e.contentGenerator(function(a){var b='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td><strong>'+a.key+"</strong></td></tr></thead>";return 0!==a.series.length&&(b+='<tbody><tr><td height ="10px"></td></tr>',a.series.forEach(function(a){b=b+'<tr><td class="legend-color-guide"><div style="background-color:'+a.color+'"></div></td><td class="key">'+a.key+'</td><td class="value">'+a.value+"</td></tr>"}),b+="</tbody>"),b+="</table>"}),b.dispatch.on("elementMouseover.tooltip",function(a){var b={key:a.label,color:a.color,series:[]};a.values&&(Object.keys(a.values).forEach(function(c){var d=a.dimensions.filter(function(a){return a.key===c})[0];if(d){var e;e=isNaN(a.values[c])||isNaN(parseFloat(a.values[c]))?q:d.format(a.values[c]),b.series.push({idx:d.currentPosition,key:c,value:e,color:d.color})}}),b.series.sort(function(a,b){return a.idx-b.idx})),e.data(b).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(){e()}),a.dispatch=r,a.parallelCoordinates=b,a.legend=d,a.tooltip=e,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},showLegend:{get:function(){return j},set:function(a){j=a}},defaultState:{get:function(){return o},set:function(a){o=a}},dimensionData:{get:function(){return m},set:function(a){m=a}},displayBrush:{get:function(){return n},set:function(a){n=a}},noData:{get:function(){return p},set:function(a){p=a}},nanValue:{get:function(){return q},set:function(a){q=a}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(f.top=a.top,g=a.top),f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}},color:{get:function(){return k},set:function(a){k=c.utils.getColor(a),d.color(k),b.color(k)}}}),c.utils.inheritOptions(a,b),c.utils.initOptions(a),a},c.models.pie=function(){"use strict";function a(G){return F.reset(),G.each(function(a){function G(a,b){a.endAngle=isNaN(a.endAngle)?0:a.endAngle,a.startAngle=isNaN(a.startAngle)?0:a.startAngle,q||(a.innerRadius=0);var c=d3.interpolate(this._current,a);return this._current=c(0),function(a){return D[b](c(a))}}var H=d-b.left-b.right,I=e-b.top-b.bottom,J=Math.min(H,I)/2,K=[],L=[];if(i=d3.select(this),0===B.length)for(var M=J-J/10,N=z*J,O=0;O<a[0].length;O++)K.push(M),L.push(N);else s?(K=B.map(function(a){return(a.outer-a.outer/10)*J}),L=B.map(function(a){return(a.inner-a.inner/10)*J}),z=d3.min(B.map(function(a){return a.inner-a.inner/10}))):(K=B.map(function(a){return a.outer*J}),L=B.map(function(a){return a.inner*J}),z=d3.min(B.map(function(a){return a.inner})));c.utils.initSVG(i);var P=i.selectAll(".nv-wrap.nv-pie").data(a),Q=P.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+h),R=Q.append("g"),S=P.select("g"),T=R.append("g").attr("class","nv-pie");R.append("g").attr("class","nv-pieLabels"),P.attr("transform","translate("+b.left+","+b.top+")"),S.select(".nv-pie").attr("transform","translate("+H/2+","+I/2+")"),S.select(".nv-pieLabels").attr("transform","translate("+H/2+","+I/2+")"),i.on("click",function(a,b){C.chartClick({data:a,index:b,pos:d3.event,id:h})}),D=[],E=[];for(var O=0;O<a[0].length;O++){var U=d3.svg.arc().outerRadius(K[O]),V=d3.svg.arc().outerRadius(K[O]+5);!1!==v&&(U.startAngle(v),V.startAngle(v)),!1!==x&&(U.endAngle(x),V.endAngle(x)),q&&(U.innerRadius(L[O]),V.innerRadius(L[O])),U.cornerRadius&&y&&(U.cornerRadius(y),V.cornerRadius(y)),D.push(U),E.push(V)}var W=d3.layout.pie().sort(null).value(function(a){return a.disabled?0:g(a)});W.padAngle&&w&&W.padAngle(w),q&&r&&(T.append("text").attr("class","nv-pie-title"),P.select(".nv-pie-title").style("text-anchor","middle").text(function(a){return r}).style("font-size",Math.min(H,I)*z*2/(r.length+2)+"px").attr("dy","0.35em").attr("transform",function(a,b){return"translate(0, "+t+")"}));var X=P.select(".nv-pie").selectAll(".nv-slice").data(W),Y=P.select(".nv-pieLabels").selectAll(".nv-label").data(W);X.exit().remove(),Y.exit().remove();var Z=X.enter().append("g");Z.attr("class","nv-slice"),Z.on("mouseover",function(a,b){d3.select(this).classed("hover",!0),s&&d3.select(this).select("path").transition().duration(70).attr("d",E[b]),C.elementMouseover({data:a.data,index:b,color:d3.select(this).style("fill"),percent:(a.endAngle-a.startAngle)/(2*Math.PI)})}),Z.on("mouseout",function(a,b){d3.select(this).classed("hover",!1),s&&d3.select(this).select("path").transition().duration(50).attr("d",D[b]),C.elementMouseout({data:a.data,index:b})}),Z.on("mousemove",function(a,b){C.elementMousemove({data:a.data,index:b})}),Z.on("click",function(a,b){var c=this;C.elementClick({data:a.data,index:b,color:d3.select(this).style("fill"),event:d3.event,element:c})}),Z.on("dblclick",function(a,b){C.elementDblClick({data:a.data,index:b,color:d3.select(this).style("fill")})}),X.attr("fill",function(a,b){return j(a.data,b)}),X.attr("stroke",function(a,b){return j(a.data,b)});Z.append("path").each(function(a){this._current=a});if(X.select("path").transition().duration(A).attr("d",function(a,b){return D[b](a)}).attrTween("d",G),l){for(var $=[],O=0;O<a[0].length;O++)$.push(D[O]),m?q&&($[O]=d3.svg.arc().outerRadius(D[O].outerRadius()),!1!==v&&$[O].startAngle(v),!1!==x&&$[O].endAngle(x)):q||$[O].innerRadius(0);Y.enter().append("g").classed("nv-label",!0).each(function(a,b){var c=d3.select(this);c.attr("transform",function(a,b){if(u){a.outerRadius=K[b]+10,a.innerRadius=K[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+$[b].centroid(a)+") rotate("+c+")"}return a.outerRadius=J+10,a.innerRadius=J+15,"translate("+$[b].centroid(a)+")"}),c.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),c.append("text").style("text-anchor",u?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var _={},aa=14,ba=140,ca=function(a){return Math.floor(a[0]/ba)*ba+","+Math.floor(a[1]/aa)*aa},da=function(a){return(a.endAngle-a.startAngle)/(2*Math.PI)};Y.watchTransition(F,"pie labels").attr("transform",function(a,b){if(u){a.outerRadius=K[b]+10,a.innerRadius=K[b]+15;var c=(a.startAngle+a.endAngle)/2*(180/Math.PI);return(a.startAngle+a.endAngle)/2<Math.PI?c-=90:c+=90,"translate("+$[b].centroid(a)+") rotate("+c+")"}a.outerRadius=J+10,a.innerRadius=J+15;var d=$[b].centroid(a),e=da(a);if(a.value&&e>=o){var f=ca(d);_[f]&&(d[1]-=aa),_[ca(d)]=!0}return"translate("+d+")"}),Y.select(".nv-label text").style("text-anchor",function(a,b){return u?(a.startAngle+a.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(a,b){var c=da(a),d="";if(!a.value||c<o)return"";if("function"==typeof n)d=n(a,b,{key:f(a.data),value:g(a.data),percent:k(c)});else switch(n){case"key":d=f(a.data);break;case"value":d=k(g(a.data));break;case"percent":d=d3.format("%")(c)}return d}),p&&Y.each(function(a,b){if(this.getBBox){var d=this.getBBox(),e=$[b].centroid(a),f={x:e[0]+d.x,y:e[1]+d.y},g={x:f.x+d.width,y:f.y},h={x:f.x,y:f.y+d.height},i={x:f.x+d.width,y:f.y+d.height};a.visible=c.utils.pointIsInArc(f,a,U)&&c.utils.pointIsInArc(g,a,U)&&c.utils.pointIsInArc(h,a,U)&&c.utils.pointIsInArc(i,a,U)}}).style("display",function(a){return a.visible?null:"none"})}}),F.renderEnd("pie immediate"),a}var b={top:0,right:0,bottom:0,left:0},d=500,e=500,f=function(a){return a.x},g=function(a){return a.y},h=Math.floor(1e4*Math.random()),i=null,j=c.utils.defaultColor(),k=d3.format(",.2f"),l=!0,m=!1,n="key",o=.02,p=!1,q=!1,r=!1,s=!0,t=0,u=!1,v=!1,w=!1,x=!1,y=0,z=.5,A=250,B=[],C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),D=[],E=[],F=c.utils.renderWatch(C);return a.dispatch=C,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{arcsRadius:{get:function(){return B},set:function(a){B=a}},width:{get:function(){return d},set:function(a){d=a}},height:{get:function(){return e},set:function(a){e=a}},showLabels:{get:function(){return l},set:function(a){l=a}},title:{get:function(){return r},set:function(a){r=a}},titleOffset:{get:function(){return t},set:function(a){t=a}},labelThreshold:{get:function(){return o},set:function(a){o=a}},hideOverlapLabels:{get:function(){return p},set:function(a){p=a}},valueFormat:{get:function(){return k},set:function(a){k=a}},x:{get:function(){return f},set:function(a){f=a}},id:{get:function(){return h},set:function(a){h=a}},endAngle:{get:function(){return x},set:function(a){x=a}},startAngle:{get:function(){return v},set:function(a){v=a}},padAngle:{get:function(){return w},set:function(a){w=a}},cornerRadius:{get:function(){return y},set:function(a){y=a}},donutRatio:{get:function(){return z},set:function(a){z=a}},labelsOutside:{get:function(){return m},set:function(a){m=a}},labelSunbeamLayout:{get:function(){return u},set:function(a){u=a}},donut:{get:function(){return q},set:function(a){q=a}},growOnHover:{get:function(){return s},set:function(a){s=a}},pieLabelsOutside:{get:function(){return m},set:function(a){m=a,c.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return m},set:function(a){m=a,c.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return k},set:function(a){k=a,c.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},duration:{get:function(){return A},set:function(a){A=a,F.reset(A)}},y:{get:function(){return g},set:function(a){g=c.functor(a)}},color:{get:function(){return j},set:function(a){j=c.utils.getColor(a)}},labelType:{get:function(){return n},set:function(a){n=a||"key"}}}),c.utils.initOptions(a),a},c.models.pieChart=function(){"use strict";function a(e){return s.reset(),s.models(b),e.each(function(e){var j=d3.select(this);c.utils.initSVG(j);var m=c.utils.availableWidth(h,j,f),p=c.utils.availableHeight(i,j,f);if(a.update=function(){j.transition().call(a)},a.container=this,n.setter(u(e),a.update).getter(t(e)).update(),n.disabled=e.map(function(a){return!!a.disabled}),!o){var q;o={};for(q in n)n[q]instanceof Array?o[q]=n[q].slice(0):o[q]=n[q]}if(!e||!e.length)return c.utils.noData(a,j),a;j.selectAll(".nv-noData").remove();var s=j.selectAll("g.nv-wrap.nv-pieChart").data([e]),v=s.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=s.select("g");if(v.append("g").attr("class","nv-pieWrap"),v.append("g").attr("class","nv-legendWrap"),k)if("top"===l)d.width(m).key(b.x()),s.select(".nv-legendWrap").datum(e).call(d),g||d.height()===f.top||(f.top=d.height(),p=c.utils.availableHeight(i,j,f)),s.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")");else if("right"===l){var x=c.models.legend().width();m/2<x&&(x=m/2),d.height(p).key(b.x()),d.width(x),m-=d.width(),s.select(".nv-legendWrap").datum(e).call(d).attr("transform","translate("+m+",0)")}else"bottom"===l&&(d.width(m).key(b.x()),s.select(".nv-legendWrap").datum(e).call(d),f.bottom=d.height(),p=c.utils.availableHeight(i,j,f),s.select(".nv-legendWrap").attr("transform","translate(0,"+p+")"));else w.select(".nv-legendWrap").selectAll("*").remove();s.attr("transform","translate("+f.left+","+f.top+")"),b.width(m).height(p);var y=w.select(".nv-pieWrap").datum([e]);d3.transition(y).call(b),d.dispatch.on("stateChange",function(b){for(var c in b)n[c]=b[c];r.stateChange(n),a.update()}),r.on("changeState",function(b){void 0!==b.disabled&&(e.forEach(function(a,c){a.disabled=b.disabled[c]}),n.disabled=b.disabled),a.update()})}),s.renderEnd("pieChart immediate"),a}var b=c.models.pie(),d=c.models.legend(),e=c.models.tooltip(),f={top:30,right:20,bottom:20,left:20},g=null,h=null,i=null,j=!1,k=!0,l="top",m=c.utils.defaultColor(),n=c.utils.state(),o=null,p=null,q=250,r=d3.dispatch("stateChange","changeState","renderEnd");e.duration(0).headerEnabled(!1).valueFormatter(function(a,c){return b.valueFormat()(a,c)});var s=c.utils.renderWatch(r),t=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},u=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return b.dispatch.on("elementMouseover.tooltip",function(b){b.series={key:a.x()(b.data),value:a.y()(b.data),color:b.color,percent:b.percent},j||(delete b.percent,delete b.series.percent),e.data(b).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){e.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){e()}),a.legend=d,a.dispatch=r,a.pie=b,a.tooltip=e,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},noData:{get:function(){return p},set:function(a){p=a}},showTooltipPercent:{get:function(){return j},set:function(a){j=a}},showLegend:{get:function(){return k},set:function(a){k=a}},legendPosition:{get:function(){return l},set:function(a){l=a}},defaultState:{get:function(){return o},set:function(a){o=a}},color:{get:function(){return m},set:function(a){m=a,d.color(m),b.color(m)}},duration:{get:function(){return q},set:function(a){q=a,s.reset(q),b.duration(q)}},margin:{get:function(){return f},set:function(a){void 0!==a.top&&(f.top=a.top,g=a.top),f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),c.utils.inheritOptions(a,b),c.utils.initOptions(a),a},c.models.sankey=function(){"use strict";function a(){n.forEach(function(a){a.sourceLinks=[],a.targetLinks=[]}),o.forEach(function(a){var b=a.source,c=a.target;"number"==typeof b&&(b=a.source=n[a.source]),"number"==typeof c&&(c=a.target=n[a.target]),b.sourceLinks.push(a),c.targetLinks.push(a)})}function b(){n.forEach(function(a){a.value=Math.max(d3.sum(a.sourceLinks,i),d3.sum(a.targetLinks,i))})}function d(){for(var a,b=n,c=0;b.length&&c<n.length;)a=[],b.forEach(function(b){b.x=c,b.dx=k,b.sourceLinks.forEach(function(b){a.indexOf(b.target)<0&&a.push(b.target)})}),b=a,++c;p&&e(c),f((m[0]-k)/(c-1))}function e(a){n.forEach(function(b){b.sourceLinks.length||(b.x=a-1)})}function f(a){n.forEach(function(b){b.x*=a})}function g(a){function b(){var a=d3.min(g,function(a){return(m[1]-(a.length-1)*l)/d3.sum(a,i)});g.forEach(function(b){b.forEach(function(b,c){b.y=c,b.dy=b.value*a})}),o.forEach(function(b){b.dy=b.value*a})}function c(a){function b(a){return(a.source.y+a.sy+a.dy/2)*a.value}g.forEach(function(c,d){c.forEach(function(c){if(c.targetLinks.length){var d=d3.sum(c.targetLinks,b)/d3.sum(c.targetLinks,i);c.y+=(d-t(c))*a}})})}function d(a){function b(a){return(a.target.y+a.ty+a.dy/2)*a.value}g.slice().reverse().forEach(function(c){c.forEach(function(c){if(c.sourceLinks.length){var d=d3.sum(c.sourceLinks,b)/d3.sum(c.sourceLinks,i);c.y+=(d-t(c))*a}})})}function e(){g.forEach(function(a){var b,c,d,e=0,g=a.length;for(a.sort(f),d=0;d<g;++d)b=a[d],c=e-b.y,c>0&&(b.y+=c),e=b.y+b.dy+l;if((c=e-l-m[1])>0)for(e=b.y-=c,d=g-2;d>=0;--d)b=a[d],c=b.y+b.dy+l-e,c>0&&(b.y-=c),e=b.y})}function f(a,b){return a.y-b.y}var g=d3.nest().key(function(a){return a.x}).sortKeys(d3.ascending).entries(n).map(function(a){return a.values});b(),e(),h();for(var j=1;a>0;--a)d(j*=.99),e(),h(),c(j),e(),h()}function h(){function a(a,b){return a.source.y-b.source.y}function b(a,b){return a.target.y-b.target.y}n.forEach(function(c){c.sourceLinks.sort(b),c.targetLinks.sort(a)}),n.forEach(function(a){var b=0,c=0;a.sourceLinks.forEach(function(a){a.sy=b,b+=a.dy}),a.targetLinks.forEach(function(a){a.ty=c,c+=a.dy})})}function i(a){return a.value}var j={},k=24,l=8,m=[1,1],n=[],o=[],p=!0,q=function(c){a(),b(),d(),g(c)},r=function(){h()},s=function(){function a(a){var c=a.source.x+a.source.dx,d=a.target.x,e=d3.interpolateNumber(c,d),f=e(b),g=e(1-b),h=a.source.y+a.sy+a.dy/2,i=a.target.y+a.ty+a.dy/2;return"M"+c+","+h+"C"+f+","+h+" "+g+","+i+" "+d+","+i}var b=.5;return a.curvature=function(c){return arguments.length?(b=+c,a):b},a},t=function(a){return a.y+a.dy/2};return j.options=c.utils.optionsFunc.bind(j),j._options=Object.create({},{nodeWidth:{get:function(){return k},set:function(a){k=+a}},nodePadding:{get:function(){return l},set:function(a){l=a}},nodes:{get:function(){return n},set:function(a){n=a}},links:{get:function(){return o},set:function(a){o=a}},size:{get:function(){return m},set:function(a){m=a}},sinksRight:{get:function(){return p},set:function(a){p=a}},layout:{get:function(){q(32)},set:function(a){q(a)}},relayout:{get:function(){r()},set:function(a){}},center:{get:function(){return t()},set:function(a){"function"==typeof a&&(t=a)}},link:{get:function(){return s()},set:function(a){return"function"==typeof a&&(s=a),s()}}}),c.utils.initOptions(j),j},c.models.sankeyChart=function(){"use strict";function a(b){return b.each(function(a){function c(a){d3.select(this).attr("transform","translate("+a.x+","+(a.y=Math.max(0,Math.min(f-a.dy,d3.event.y)))+")"),d.relayout(),t.attr("d",s)}var i={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},k=!1,l=!1;if(("object"==typeof a.nodes&&a.nodes.length)>=0&&("object"==typeof a.links&&a.links.length)>=0&&(k=!0),a.nodes&&a.nodes.length>0&&a.links&&a.links.length>0&&(l=!0),!k)return console.error("NVD3 Sankey chart error:","invalid data format for",a),console.info("Valid data format is: ",i,JSON.stringify(i)),r(b,"Error loading chart, data is invalid"),!1;if(!l)return r(b,"No data available"),!1;var m=b.append("svg").attr("width",e).attr("height",f).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");d.nodeWidth(g).nodePadding(h).size([e,f]);var s=d.link();d.nodes(a.nodes).links(a.links).layout(32).center(j);var t=m.append("g").selectAll(".link").data(a.links).enter().append("path").attr("class","link").attr("d",s).style("stroke-width",function(a){return Math.max(1,a.dy)}).sort(function(a,b){return b.dy-a.dy});t.append("title").text(n);var u=m.append("g").selectAll(".node").data(a.nodes).enter().append("g").attr("class","node").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).call(d3.behavior.drag().origin(function(a){return a}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",c));u.append("rect").attr("height",function(a){return a.dy}).attr("width",d.nodeWidth()).style("fill",o).style("stroke",p).append("title").text(q),u.append("text").attr("x",-6).attr("y",function(a){return a.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(a){return a.name}).filter(function(a){return a.x<e/2}).attr("x",6+d.nodeWidth()).attr("text-anchor","start")}),a}var b={top:5,right:0,bottom:5,left:0},d=c.models.sankey(),e=600,f=400,g=36,h=40,i="units",j=void 0,k=d3.format(",.0f"),l=function(a){return k(a)+" "+i},m=d3.scale.category20(),n=function(a){return a.source.name+"  "+a.target.name+"\n"+l(a.value)},o=function(a){return a.color=m(a.name.replace(/ .*/,""))},p=function(a){return d3.rgb(a.color).darker(2)},q=function(a){return a.name+"\n"+l(a.value)},r=function(a,b){a.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(b)};return a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{units:{get:function(){return i},set:function(a){i=a}},width:{get:function(){return e},set:function(a){e=a}},height:{get:function(){return f},set:function(a){f=a}},format:{get:function(){return l},set:function(a){l=a}},linkTitle:{get:function(){return n},set:function(a){n=a}},nodeWidth:{get:function(){return g},set:function(a){g=a}},nodePadding:{get:function(){return h},set:function(a){h=a}},center:{get:function(){return j},set:function(a){j=a}},margin:{get:function(){return b},set:function(a){b.top=void 0!==a.top?a.top:b.top,b.right=void 0!==a.right?a.right:b.right,b.bottom=void 0!==a.bottom?a.bottom:b.bottom,b.left=void 0!==a.left?a.left:b.left}},nodeStyle:{get:function(){return{}},set:function(a){o=void 0!==a.fillColor?a.fillColor:o,p=void 0!==a.strokeColor?a.strokeColor:p,q=void 0!==a.title?a.title:q}}}),c.utils.initOptions(a),a},c.models.scatter=function(){"use strict";function a(a){var b;return b=a[0].series+":"+a[1],_[b]=_[b]||{}}function b(a){var b;b=a[0].series+":"+a[1],delete _[b]}function d(b){var c,d,e,f=a(b),g=!1;for(c=1;c<arguments.length;c+=2)d=arguments[c],e=arguments[c+1](b[0],b[1]),f[d]===e&&f.hasOwnProperty(d)||(f[d]=e,g=!0);return g}function e(a){return Z.reset(),a.each(function(a){function V(){if(Y=!1,!E)return!1;if(t.selectAll(".nv-point.hover").classed("hover",!1),ha.select(".nv-point-paths").selectAll("path").remove(),!0===U){var b=d3.merge(a.map(function(a,b){return a.values.map(function(a,d){var e=x(a,d),f=y(a,d);return[c.utils.NaNtoZero(u(e))+1e-4*Math.random(),c.utils.NaNtoZero(v(f))+1e-4*Math.random(),b,d,a]}).filter(function(a,b){return F(a[4],b)})}));if(0==b.length)return!1;b.length<3&&(b.push([u.range()[0]-20,v.range()[0]-20,null,null]),b.push([u.range()[1]+20,v.range()[1]+20,null,null]),b.push([u.range()[0]-20,v.range()[0]+20,null,null]),b.push([u.range()[1]+20,v.range()[1]-20,null,null]));var d=d3.geom.polygon([[-10,-10],[-10,p+10],[o+10,p+10],[o+10,-10]]),e=1e-4;b=b.sort(function(a,b){return a[0]-b[0]||a[1]-b[1]});for(var f=0;f<b.length-1;)Math.abs(b[f][0]-b[f+1][0])<e&&Math.abs(b[f][1]-b[f+1][1])<e?b.splice(f+1,1):f++;var g=d3.geom.voronoi(b).map(function(a,c){return 0===a.length?null:{data:d.clip(a),series:b[c][2],point:b[c][3]}}),h=ha.select(".nv-point-paths").selectAll("path").data(g),i=h.enter().append("svg:path").attr("d",function(a){return a&&a.data&&0!==a.data.length?"M"+a.data.join(",")+"Z":"M 0 0"}).attr("id",function(a,b){return"nv-path-"+b}).attr("clip-path",function(a,b){return"url(#nv-clip-"+s+"-"+b+")"});if(K&&i.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),J){ha.select(".nv-point-clips").selectAll("*").remove();var j=ha.select(".nv-point-clips").selectAll("clipPath").data(b);j.enter().append("svg:clipPath").attr("id",function(a,b){return"nv-clip-"+s+"-"+b}).append("svg:circle").attr("cx",function(a){return a[0]}).attr("cy",function(a){return a[1]}).attr("r",L)}var k=function(b,c,d){if(Y)return 0;var e=a[c.series];if(void 0!==e){var f=e.values[c.point];f.color=q(e,c.series),f.x=x(f),f.y=y(f);var g=t.node().getBoundingClientRect(),h=window.pageYOffset||document.documentElement.scrollTop,i=window.pageXOffset||document.documentElement.scrollLeft;d({point:f,series:e,pos:{left:u(x(f,c.point))+g.left+i+n.left+10,top:v(y(f,c.point))+g.top+h+n.top+10},relativePos:[u(x(f,c.point))+n.left,v(y(f,c.point))+n.top],seriesIndex:c.series,pointIndex:c.point,event:d3.event,element:b})}};h.on("click",function(a){k(this,a,T.elementClick)}).on("dblclick",function(a){k(this,a,T.elementDblClick)}).on("mouseover",function(a){k(this,a,T.elementMouseover)}).on("mouseout",function(a,b){k(this,a,T.elementMouseout)})}else ha.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(b,c){if(Y||!a[b[0].series])return 0;var d=a[b[0].series],e=d.values[c],f=this;T.elementClick({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b[0].series,pointIndex:c,event:d3.event,element:f})}).on("dblclick",function(b,c){if(Y||!a[b[0].series])return 0;var d=a[b[0].series],e=d.values[c];T.elementDblClick({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b[0].series,pointIndex:c})}).on("mouseover",function(b,c){if(Y||!a[b[0].series])return 0;var d=a[b[0].series],e=d.values[c];T.elementMouseover({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b[0].series,pointIndex:c,color:q(b[0],c)})}).on("mouseout",function(b,c){if(Y||!a[b[0].series])return 0;var d=a[b[0].series],e=d.values[c];T.elementMouseout({point:e,series:d,pos:[u(x(e,c))+n.left,v(y(e,c))+n.top],relativePos:[u(x(e,c))+n.left,v(y(e,c))+n.top],seriesIndex:b[0].series,pointIndex:c,color:q(b[0],c)})})}t=d3.select(this);var _=c.utils.availableWidth(o,t,n),aa=c.utils.availableHeight(p,t,n);c.utils.initSVG(t),a.forEach(function(a,b){a.values.forEach(function(a){a.series=b})});var ba="function"==typeof e.yScale().base,ca=M&&N&&Q?[]:d3.merge(a.map(function(a){return a.values.map(function(a,b){return{x:x(a,b),y:y(a,b),size:z(a,b)}})}));if(u.domain(M||d3.extent(ca.map(function(a){return a.x}).concat(B))),G&&a[0]?u.range(O||[(_*H+_)/(2*a[0].values.length),_-_*(1+H)/(2*a[0].values.length)]):u.range(O||[0,_]),ba){var da=d3.min(ca.map(function(a){if(0!==a.y)return a.y}));v.clamp(!0).domain(N||d3.extent(ca.map(function(a){return 0!==a.y?a.y:.1*da}).concat(C))).range(P||[aa,0])}else v.domain(N||d3.extent(ca.map(function(a){return a.y}).concat(C))).range(P||[aa,0]);w.domain(Q||d3.extent(ca.map(function(a){return a.size}).concat(D))).range(R||$),S=u.domain()[0]===u.domain()[1]||v.domain()[0]===v.domain()[1],u.domain()[0]===u.domain()[1]&&(u.domain()[0]?u.domain([u.domain()[0]-.01*u.domain()[0],u.domain()[1]+.01*u.domain()[1]]):u.domain([-1,1])),v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),isNaN(u.domain()[0])&&u.domain([-1,1]),isNaN(v.domain()[0])&&v.domain([-1,1]),f=f||u,g=g||v,h=h||w;var ea=u(1)!==f(1)||v(1)!==g(1)||w(1)!==h(1);k=k||o,l=l||p;var fa=k!==o||l!==p;i=i||[];var ga=i[0]!==u.domain()[0]||i[1]!==u.domain()[1];i=u.domain(),j=j||[],ga=ga||j[0]!==v.domain()[0]||j[1]!==v.domain()[1],j=v.domain();var ha=t.selectAll("g.nv-wrap.nv-scatter").data([a]),ia=ha.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+s),ja=ia.append("defs"),ka=ia.append("g"),la=ha.select("g");ha.classed("nv-single-point",S),ka.append("g").attr("class","nv-groups"),ka.append("g").attr("class","nv-point-paths"),ia.append("g").attr("class","nv-point-clips"),ha.attr("transform","translate("+n.left+","+n.top+")"),ja.append("clipPath").attr("id","nv-edge-clip-"+s).append("rect").attr("transform","translate( -10, -10)"),ha.select("#nv-edge-clip-"+s+" rect").attr("width",_+20).attr("height",aa>0?aa+20:0),la.attr("clip-path",I?"url(#nv-edge-clip-"+s+")":""),Y=!0;var ma=ha.select(".nv-groups").selectAll(".nv-group").data(function(a){return a},function(a){return a.key});ma.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),ma.exit().remove(),ma.attr("class",function(a,b){return(a.classed||"")+" nv-group nv-series-"+b}).classed("nv-noninteractive",!E).classed("hover",function(a){return a.hover}),ma.watchTransition(Z,"scatter: groups").style("fill",function(a,b){return q(a,b)}).style("stroke",function(a,b){
return a.pointBorderColor||r||q(a,b)}).style("stroke-opacity",1).style("fill-opacity",.5);var na=ma.selectAll("path.nv-point").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return F(a[0],b)})});if(na.enter().append("path").attr("class",function(a){return"nv-point nv-point-"+a[1]}).style("fill",function(a){return a.color}).style("stroke",function(a){return a.color}).attr("transform",function(a){return"translate("+c.utils.NaNtoZero(f(x(a[0],a[1])))+","+c.utils.NaNtoZero(g(y(a[0],a[1])))+")"}).attr("d",c.utils.symbol().type(function(a){return A(a[0])}).size(function(a){return w(z(a[0],a[1]))})),na.exit().each(b).remove(),ma.exit().selectAll("path.nv-point").watchTransition(Z,"scatter exit").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(u(x(a[0],a[1])))+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"}).remove(),na.filter(function(a){return d(a,"x",x,"y",y)||ea||fa||ga}).watchTransition(Z,"scatter points").attr("transform",function(a){return"translate("+c.utils.NaNtoZero(u(x(a[0],a[1])))+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"}),na.filter(function(a){return d(a,"shape",A,"size",z)||ea||fa||ga}).watchTransition(Z,"scatter points").attr("d",c.utils.symbol().type(function(a){return A(a[0])}).size(function(a){return w(z(a[0],a[1]))})),X){var oa=ma.selectAll(".nv-label").data(function(a){return a.values.map(function(a,b){return[a,b]}).filter(function(a,b){return F(a[0],b)})});oa.enter().append("text").style("fill",function(a,b){return a.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(f(x(a[0],a[1])))+Math.sqrt(w(z(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(g(y(a[0],a[1])))+")"}).text(function(a,b){return a[0].label}),oa.exit().remove(),ma.exit().selectAll("path.nv-label").watchTransition(Z,"scatter exit").attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(u(x(a[0],a[1])))+Math.sqrt(w(z(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"}).remove(),oa.each(function(a){d3.select(this).classed("nv-label",!0).classed("nv-label-"+a[1],!1).classed("hover",!1)}),oa.watchTransition(Z,"scatter labels").text(function(a,b){return a[0].label}).attr("transform",function(a){return"translate("+(c.utils.NaNtoZero(u(x(a[0],a[1])))+Math.sqrt(w(z(a[0],a[1]))/Math.PI)+2)+","+c.utils.NaNtoZero(v(y(a[0],a[1])))+")"})}W?(clearTimeout(m),m=setTimeout(V,W)):V(),f=u.copy(),g=v.copy(),h=w.copy(),k=o,l=p}),Z.renderEnd("scatter immediate"),e}var f,g,h,i,j,k,l,m,n={top:0,right:0,bottom:0,left:0},o=null,p=null,q=c.utils.defaultColor(),r=null,s=Math.floor(1e5*Math.random()),t=null,u=d3.scaleLinear(),v=d3.scaleLinear(),w=d3.scaleLinear(),x=function(a){return a.x},y=function(a){return a.y},z=function(a){return a.size||1},A=function(a){return a.shape||"circle"},B=[],C=[],D=[],E=!0,F=function(a){return!a.notActive},G=!1,H=.1,I=!1,J=!0,K=!1,L=function(){return 25},M=null,N=null,O=null,P=null,Q=null,R=null,S=!1,T=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),U=!0,V=250,W=300,X=!1,Y=!1,Z=c.utils.renderWatch(T,V),$=[16,256],_={};return e.dispatch=T,e.options=c.utils.optionsFunc.bind(e),e._calls=new function(){this.clearHighlights=function(){return c.dom.write(function(){t.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(a,b,d){c.dom.write(function(){t.select(".nv-groups").selectAll(".nv-series-"+a).selectAll(".nv-point-"+b).classed("hover",d)})}},T.on("elementMouseover.point",function(a){E&&e._calls.highlightPoint(a.seriesIndex,a.pointIndex,!0)}),T.on("elementMouseout.point",function(a){E&&e._calls.highlightPoint(a.seriesIndex,a.pointIndex,!1)}),e._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},xScale:{get:function(){return u},set:function(a){u=a}},yScale:{get:function(){return v},set:function(a){v=a}},pointScale:{get:function(){return w},set:function(a){w=a}},xDomain:{get:function(){return M},set:function(a){M=a}},yDomain:{get:function(){return N},set:function(a){N=a}},pointDomain:{get:function(){return Q},set:function(a){Q=a}},xRange:{get:function(){return O},set:function(a){O=a}},yRange:{get:function(){return P},set:function(a){P=a}},pointRange:{get:function(){return R},set:function(a){R=a}},forceX:{get:function(){return B},set:function(a){B=a}},forceY:{get:function(){return C},set:function(a){C=a}},forcePoint:{get:function(){return D},set:function(a){D=a}},interactive:{get:function(){return E},set:function(a){E=a}},pointActive:{get:function(){return F},set:function(a){F=a}},padDataOuter:{get:function(){return H},set:function(a){H=a}},padData:{get:function(){return G},set:function(a){G=a}},clipEdge:{get:function(){return I},set:function(a){I=a}},clipVoronoi:{get:function(){return J},set:function(a){J=a}},clipRadius:{get:function(){return L},set:function(a){L=a}},showVoronoi:{get:function(){return K},set:function(a){K=a}},id:{get:function(){return s},set:function(a){s=a}},interactiveUpdateDelay:{get:function(){return W},set:function(a){W=a}},showLabels:{get:function(){return X},set:function(a){X=a}},pointBorderColor:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return x},set:function(a){x=c.functor(a)}},y:{get:function(){return y},set:function(a){y=c.functor(a)}},pointSize:{get:function(){return z},set:function(a){z=c.functor(a)}},pointShape:{get:function(){return A},set:function(a){A=c.functor(a)}},margin:{get:function(){return n},set:function(a){n.top=void 0!==a.top?a.top:n.top,n.right=void 0!==a.right?a.right:n.right,n.bottom=void 0!==a.bottom?a.bottom:n.bottom,n.left=void 0!==a.left?a.left:n.left}},duration:{get:function(){return V},set:function(a){V=a,Z.reset(V)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a)}},useVoronoi:{get:function(){return U},set:function(a){!1===(U=a)&&(J=!1)}}}),c.utils.initOptions(e),e},c.models.scatterChart=function(){"use strict";function a(A){return F.reset(),F.models(b),u&&F.models(d),v&&F.models(e),r&&F.models(g),s&&F.models(h),A.each(function(A){n=d3.select(this),c.utils.initSVG(n);var I=c.utils.availableWidth(l,n,j),J=c.utils.availableHeight(m,n,j);if(a.update=function(){0===B?n.call(a):n.transition().duration(B).call(a)},a.container=this,x.setter(H(A),a.update).getter(G(A)).update(),x.disabled=A.map(function(a){return!!a.disabled}),!y){var K;y={};for(K in x)x[K]instanceof Array?y[K]=x[K].slice(0):y[K]=x[K]}if(!(A&&A.length&&A.filter(function(a){return a.values.length}).length))return c.utils.noData(a,n),F.renderEnd("scatter immediate"),a;n.selectAll(".nv-noData").remove(),p=b.xScale(),q=b.yScale();var L=n.selectAll("g.nv-wrap.nv-scatterChart").data([A]),M=L.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+b.id()),N=M.append("g"),O=L.select("g");if(N.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis"),N.append("g").attr("class","nv-scatterWrap"),N.append("g").attr("class","nv-regressionLinesWrap"),N.append("g").attr("class","nv-distWrap"),N.append("g").attr("class","nv-legendWrap"),w&&O.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),t){var P=I;f.width(P),L.select(".nv-legendWrap").datum(A).call(f),k||f.height()===j.top||(j.top=f.height(),J=c.utils.availableHeight(m,n,j)),L.select(".nv-legendWrap").attr("transform","translate(0,"+-j.top+")")}else O.select(".nv-legendWrap").selectAll("*").remove();L.attr("transform","translate("+j.left+","+j.top+")"),b.width(I).height(J).color(A.map(function(a,b){return a.color=a.color||o(a,b),a.color}).filter(function(a,b){return!A[b].disabled})).showLabels(C),L.select(".nv-scatterWrap").datum(A.filter(function(a){return!a.disabled})).call(b),L.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+b.id()+")");var Q=L.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(a){return a});Q.enter().append("g").attr("class","nv-regLines");var R=Q.selectAll(".nv-regLine").data(function(a){return[a]});R.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),R.filter(function(a){return a.intercept&&a.slope}).watchTransition(F,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(a,b){return q(p.domain()[0]*a.slope+a.intercept)}).attr("y2",function(a,b){return q(p.domain()[1]*a.slope+a.intercept)}).style("stroke",function(a,b,c){return o(a,c)}).style("stroke-opacity",function(a,b){return a.disabled||void 0===a.slope||void 0===a.intercept?0:1}),u&&(d.scale(p)._ticks(c.utils.calcTicksX(I/100,A)).tickSize(-J,0),O.select(".nv-x.nv-axis").attr("transform","translate(0,"+q.range()[0]+")").call(d)),v&&(e.scale(q)._ticks(c.utils.calcTicksY(J/36,A)).tickSize(-I,0),O.select(".nv-y.nv-axis").call(e)),g.getData(b.x()).scale(p).width(I).color(A.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!A[b].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),O.select(".nv-distributionX").attr("transform","translate(0,"+q.range()[0]+")").datum(A.filter(function(a){return!a.disabled})).call(g).style("opacity",function(){return r?"1":"1e-6"}).watchTransition(F,"scatterPlusLineChart").style("opacity",function(){return r?"1":"1e-6"}),h.getData(b.y()).scale(q).width(J).color(A.map(function(a,b){return a.color||o(a,b)}).filter(function(a,b){return!A[b].disabled})),N.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),O.select(".nv-distributionY").attr("transform","translate("+(w?I:-h.size())+",0)").datum(A.filter(function(a){return!a.disabled})).call(h).style("opacity",function(){return s?"1":"1e-6"}).watchTransition(F,"scatterPlusLineChart").style("opacity",function(){return s?"1":"1e-6"}),f.dispatch.on("stateChange",function(b){for(var c in b)x[c]=b[c];z.stateChange(x),a.update()}),z.on("changeState",function(b){void 0!==b.disabled&&(A.forEach(function(a,c){a.disabled=b.disabled[c]}),x.disabled=b.disabled),a.update()}),b.dispatch.on("elementMouseout.tooltip",function(a){i.hidden(!0),n.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",0),n.select(".nv-chart-"+b.id()+" .nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",h.size())}),b.dispatch.on("elementMouseover.tooltip",function(a){n.select(".nv-series-"+a.seriesIndex+" .nv-distx-"+a.pointIndex).attr("y1",a.relativePos[1]-J),n.select(".nv-series-"+a.seriesIndex+" .nv-disty-"+a.pointIndex).attr("x2",a.relativePos[0]+g.size()),i.data(a).hidden(!1)}),D=p.copy(),E=q.copy()}),F.renderEnd("scatter with line immediate"),a}var b=c.models.scatter(),d=c.models.axis(),e=c.models.axis(),f=c.models.legend(),g=c.models.distribution(),h=c.models.distribution(),i=c.models.tooltip(),j={top:30,right:20,bottom:50,left:75},k=null,l=null,m=null,n=null,o=c.utils.defaultColor(),p=b.xScale(),q=b.yScale(),r=!1,s=!1,t=!0,u=!0,v=!0,w=!1,x=c.utils.state(),y=null,z=d3.dispatch("stateChange","changeState","renderEnd"),A=null,B=250,C=!1;b.xScale(p).yScale(q),d.orient("bottom").tickPadding(10),e.orient(w?"right":"left").tickPadding(10),g.axis("x"),h.axis("y"),i.headerFormatter(function(a,b){return d.tickFormat()(a,b)}).valueFormatter(function(a,b){return e.tickFormat()(a,b)});var D,E,F=c.utils.renderWatch(z,B),G=function(a){return function(){return{active:a.map(function(a){return!a.disabled})}}},H=function(a){return function(b){void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}};return a.dispatch=z,a.scatter=b,a.legend=f,a.xAxis=d,a.yAxis=e,a.distX=g,a.distY=h,a.tooltip=i,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return l},set:function(a){l=a}},height:{get:function(){return m},set:function(a){m=a}},container:{get:function(){return n},set:function(a){n=a}},showDistX:{get:function(){return r},set:function(a){r=a}},showDistY:{get:function(){return s},set:function(a){s=a}},showLegend:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return y},set:function(a){y=a}},noData:{get:function(){return A},set:function(a){A=a}},duration:{get:function(){return B},set:function(a){B=a}},showLabels:{get:function(){return C},set:function(a){C=a}},margin:{get:function(){return j},set:function(a){void 0!==a.top&&(j.top=a.top,k=a.top),j.right=void 0!==a.right?a.right:j.right,j.bottom=void 0!==a.bottom?a.bottom:j.bottom,j.left=void 0!==a.left?a.left:j.left}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,e.orient(a?"right":"left")}},color:{get:function(){return o},set:function(a){o=c.utils.getColor(a),f.color(o),g.color(o),h.color(o)}}}),c.utils.inheritOptions(a,b),c.utils.initOptions(a),a},c.models.sparkline=function(){"use strict";function a(k){return t.reset(),k.each(function(a){var k=h-g.left-g.right,s=i-g.top-g.bottom;j=d3.select(this),c.utils.initSVG(j),l.domain(b||d3.extent(a,n)).range(e||[0,k]),m.domain(d||d3.extent(a,o)).range(f||[s,0]);var t=j.selectAll("g.nv-wrap.nv-sparkline").data([a]),u=t.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");u.append("g"),t.select("g");t.attr("transform","translate("+g.left+","+g.top+")");var v=t.selectAll("path").data(function(a){return[a]});v.enter().append("path"),v.exit().remove(),v.style("stroke",function(a,b){return a.color||p(a,b)}).attr("d",d3.svg.line().x(function(a,b){return l(n(a,b))}).y(function(a,b){return m(o(a,b))}));var w=t.selectAll("circle.nv-point").data(function(a){function b(b){if(-1!=b){var c=a[b];return c.pointIndex=b,c}return null}var c=a.map(function(a,b){return o(a,b)}),d=b(c.lastIndexOf(m.domain()[1])),e=b(c.indexOf(m.domain()[0])),f=b(c.length-1);return[q?e:null,q?d:null,r?f:null].filter(function(a){return null!=a})});w.enter().append("circle"),w.exit().remove(),w.attr("cx",function(a,b){return l(n(a,a.pointIndex))}).attr("cy",function(a,b){return m(o(a,a.pointIndex))}).attr("r",2).attr("class",function(a,b){return n(a,a.pointIndex)==l.domain()[1]?"nv-point nv-currentValue":o(a,a.pointIndex)==m.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),t.renderEnd("sparkline immediate"),a}var b,d,e,f,g={top:2,right:0,bottom:2,left:0},h=400,i=32,j=null,k=!0,l=d3.scaleLinear(),m=d3.scaleLinear(),n=function(a){return a.x},o=function(a){return a.y},p=c.utils.getColor(["#000"]),q=!0,r=!0,s=d3.dispatch("renderEnd"),t=c.utils.renderWatch(s);return a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return h},set:function(a){h=a}},height:{get:function(){return i},set:function(a){i=a}},xDomain:{get:function(){return b},set:function(a){b=a}},yDomain:{get:function(){return d},set:function(a){d=a}},xRange:{get:function(){return e},set:function(a){e=a}},yRange:{get:function(){return f},set:function(a){f=a}},xScale:{get:function(){return l},set:function(a){l=a}},yScale:{get:function(){return m},set:function(a){m=a}},animate:{get:function(){return k},set:function(a){k=a}},showMinMaxPoints:{get:function(){return q},set:function(a){q=a}},showCurrentPoint:{get:function(){return r},set:function(a){r=a}},x:{get:function(){return n},set:function(a){n=c.functor(a)}},y:{get:function(){return o},set:function(a){o=c.functor(a)}},margin:{get:function(){return g},set:function(a){g.top=void 0!==a.top?a.top:g.top,g.right=void 0!==a.right?a.right:g.right,g.bottom=void 0!==a.bottom?a.bottom:g.bottom,g.left=void 0!==a.left?a.left:g.left}},color:{get:function(){return p},set:function(a){p=c.utils.getColor(a)}}}),a.dispatch=s,c.utils.initOptions(a),a},c.models.sparklinePlus=function(){"use strict";function a(p){return r.reset(),r.models(e),p.each(function(p){function q(){if(!j){var a=z.selectAll(".nv-hoverValue").data(i),c=a.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);a.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),a.attr("transform",function(a){return"translate("+b(e.x()(p[a],a))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),i.length&&(c.append("line").attr("x1",0).attr("y1",-f.top).attr("x2",0).attr("y2",u),c.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-f.top).attr("text-anchor","end").attr("dy",".9em"),z.select(".nv-hoverValue .nv-xValue").text(k(e.x()(p[i[0]],i[0]))),c.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-f.top).attr("text-anchor","start").attr("dy",".9em"),z.select(".nv-hoverValue .nv-yValue").text(l(e.y()(p[i[0]],i[0]))))}}function r(){function a(a,b){for(var c=Math.abs(e.x()(a[0],0)-b),d=0,f=0;f<a.length;f++)Math.abs(e.x()(a[f],f)-b)<c&&(c=Math.abs(e.x()(a[f],f)-b),d=f);return d}if(!j){var c=d3.mouse(this)[0]-f.left;i=[a(p,Math.round(b.invert(c)))],q()}}var s=d3.select(this);c.utils.initSVG(s);var t=c.utils.availableWidth(g,s,f),u=c.utils.availableHeight(h,s,f);if(a.update=function(){s.call(a)},a.container=this,!p||!p.length)return c.utils.noData(a,s),a;s.selectAll(".nv-noData").remove();var v=e.y()(p[p.length-1],p.length-1);b=e.xScale(),d=e.yScale();var w=s.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),x=w.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),y=x.append("g"),z=w.select("g");y.append("g").attr("class","nv-sparklineWrap"),y.append("g").attr("class","nv-valueWrap"),y.append("g").attr("class","nv-hoverArea"),w.attr("transform","translate("+f.left+","+f.top+")");var A=z.select(".nv-sparklineWrap");if(e.width(t).height(u),A.call(e),m){var B=z.select(".nv-valueWrap"),C=B.selectAll(".nv-currentValue").data([v]);C.enter().append("text").attr("class","nv-currentValue").attr("dx",o?-8:8).attr("dy",".9em").style("text-anchor",o?"end":"start"),C.attr("x",t+(o?f.right:0)).attr("y",n?function(a){return d(a)}:0).style("fill",e.color()(p[p.length-1],p.length-1)).text(l(v))}y.select(".nv-hoverArea").append("rect").on("mousemove",r).on("click",function(){j=!j}).on("mouseout",function(){i=[],q()}),z.select(".nv-hoverArea rect").attr("transform",function(a){return"translate("+-f.left+","+-f.top+")"}).attr("width",t+f.left+f.right).attr("height",u+f.top)}),r.renderEnd("sparklinePlus immediate"),a}var b,d,e=c.models.sparkline(),f={top:15,right:100,bottom:10,left:50},g=null,h=null,i=[],j=!1,k=d3.format(",r"),l=d3.format(",.2f"),m=!0,n=!0,o=!1,p=null,q=d3.dispatch("renderEnd"),r=c.utils.renderWatch(q);return a.dispatch=q,a.sparkline=e,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return g},set:function(a){g=a}},height:{get:function(){return h},set:function(a){h=a}},xTickFormat:{get:function(){return k},set:function(a){k=a}},yTickFormat:{get:function(){return l},set:function(a){l=a}},showLastValue:{get:function(){return m},set:function(a){m=a}},alignValue:{get:function(){return n},set:function(a){n=a}},rightAlignValue:{get:function(){return o},set:function(a){o=a}},noData:{get:function(){return p},set:function(a){p=a}},margin:{get:function(){return f},set:function(a){f.top=void 0!==a.top?a.top:f.top,f.right=void 0!==a.right?a.right:f.right,f.bottom=void 0!==a.bottom?a.bottom:f.bottom,f.left=void 0!==a.left?a.left:f.left}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.stackedArea=function(){"use strict";function a(n){return x.reset(),x.models(s),n.each(function(n){var t=f-e.left-e.right,y=g-e.top-e.bottom;j=d3.select(this),c.utils.initSVG(j),b=s.xScale(),d=s.yScale();var z=n;n.forEach(function(a,b){a.seriesIndex=b,a.values=a.values.map(function(a,c){return a.index=c,a.seriesIndex=b,a})});var A=n.filter(function(a){return!a.disabled});n=d3.layout.stack().order(p).offset(o).values(function(a){return a.values}).x(k).y(l).out(u)(A);var B=j.selectAll("g.nv-wrap.nv-stackedarea").data([n]),C=B.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),D=C.append("defs"),E=C.append("g"),F=B.select("g");E.append("g").attr("class","nv-areaWrap"),E.append("g").attr("class","nv-scatterWrap"),B.attr("transform","translate("+e.left+","+e.top+")"),0==s.forceY().length&&s.forceY().push(0),s.width(t).height(y).x(k).y(function(a){if(void 0!==a.display)return a.display.y+a.display.y0}).color(n.map(function(a,b){return a.color=a.color||h(a,a.seriesIndex),a.color})),F.select(".nv-scatterWrap").datum(n).call(s),D.append("clipPath").attr("id","nv-edge-clip-"+i).append("rect"),B.select("#nv-edge-clip-"+i+" rect").attr("width",t).attr("height",y),F.attr("clip-path",r?"url(#nv-edge-clip-"+i+")":"");var G=d3.svg.area().defined(m).x(function(a,c){return b(k(a,c))}).y0(function(a){return d(a.display.y0)}).y1(v).interpolate(q),H=d3.svg.area().defined(m).x(function(a,c){return b(k(a,c))}).y0(function(a){return d(a.display.y0)}).y1(function(a){return d(a.display.y0)}),I=F.select(".nv-areaWrap").selectAll("path.nv-area").data(function(a){return a});I.enter().append("path").attr("class",function(a,b){return"nv-area nv-area-"+b}).attr("d",function(a,b){return H(a.values,a.seriesIndex)}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0),w.areaMouseover({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1),w.areaMouseout({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}).on("click",function(a,b){d3.select(this).classed("hover",!1),w.areaClick({point:a,series:a.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:a.seriesIndex})}),I.exit().remove(),I.style("fill",function(a,b){return a.color||h(a,a.seriesIndex)}).style("stroke",function(a,b){return a.color||h(a,a.seriesIndex)}),I.watchTransition(x,"stackedArea path").attr("d",function(a,b){return G(a.values,b)}),s.dispatch.on("elementMouseover.area",function(a){F.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!0)}),s.dispatch.on("elementMouseout.area",function(a){F.select(".nv-chart-"+i+" .nv-area-"+a.seriesIndex).classed("hover",!1)}),a.d3_stackedOffset_stackPercent=function(a){var b,c,d,e=a.length,f=a[0].length,g=[];for(c=0;c<f;++c){for(b=0,d=0;b<z.length;b++)d+=l(z[b].values[c]);if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=0}for(c=0;c<f;++c)g[c]=0;return g}}),x.renderEnd("stackedArea immediate"),a}var b,d,e={top:0,right:0,bottom:0,left:0},f=960,g=500,h=c.utils.defaultColor(),i=Math.floor(1e5*Math.random()),j=null,k=function(a){return a.x},l=function(a){return a.y},m=function(a,b){return!isNaN(l(a,b))&&null!==l(a,b)},n="stack",o="zero",p="default",q="linear",r=!1,s=c.models.scatter(),t=250,u=function(a,b,c){a.display={y:c,y0:b}},v=function(a){return d(a.display.y+a.display.y0)},w=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");s.pointSize(2.2).pointDomain([2.2,2.2]);var x=c.utils.renderWatch(w,t);return a.dispatch=w,a.scatter=s,s.dispatch.on("elementClick",function(){w.elementClick.apply(this,arguments)}),s.dispatch.on("elementMouseover",function(){w.elementMouseover.apply(this,arguments)}),s.dispatch.on("elementMouseout",function(){w.elementMouseout.apply(this,arguments)}),a.interpolate=function(b){return arguments.length?(q=b,a):q},a.duration=function(b){return arguments.length?(t=b,x.reset(t),s.duration(t),a):t},a.dispatch=w,a.scatter=s,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return f},set:function(a){f=a}},height:{get:function(){return g},set:function(a){g=a}},defined:{get:function(){return m},set:function(a){m=a}},clipEdge:{get:function(){return r},set:function(a){r=a}},offset:{get:function(){return o},set:function(a){o=a}},order:{get:function(){return p},set:function(a){p=a}},interpolate:{get:function(){return q},set:function(a){q=a}},x:{get:function(){return k},set:function(a){k=c.functor(a)}},y:{get:function(){return l},set:function(a){l=c.functor(a)}},areaY1:{get:function(){return v},set:function(a){v=c.functor(a)}},transformData:{get:function(){return u},set:function(a){u=c.functor(a)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left}},color:{get:function(){return h},set:function(a){h=c.utils.getColor(a)}},style:{get:function(){return n},set:function(b){switch(n=b){case"stack":a.offset("zero"),a.order("default");break;case"stream":a.offset("wiggle"),a.order("inside-out");break;case"stream-center":a.offset("silhouette"),a.order("inside-out");break;case"expand":a.offset("expand"),a.order("default");break;case"stack_percent":a.offset(a.d3_stackedOffset_stackPercent),a.order("default")}}},duration:{get:function(){return t},set:function(a){t=a,x.reset(t),s.duration(t)}}}),c.utils.inheritOptions(a,s),c.utils.initOptions(a),a},c.models.stackedAreaChart=function(){"use strict";function a(k){return L.reset(),L.models(e),u&&L.models(f),v&&L.models(g),k.each(function(k){function D(){u&&X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+T+")").transition().duration(I).call(f)}function L(){if(v){if("expand"===e.style()||"stack_percent"===e.style()){var a=g.tickFormat();J&&a===P||(J=a),g.tickFormat(P)}else J&&(g.tickFormat(J),J=null);X.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(g)}}function Q(a){X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a){return!a.disabled}).map(function(b,c){return{key:b.key,area:b.area,classed:b.classed,values:b.values.filter(function(b,c){return e.x()(b,c)>=a[0]&&e.x()(b,c)<=a[1]}),disableTooltip:b.disableTooltip}})).transition().duration(I).call(e),D(),L()}var R=d3.select(this);c.utils.initSVG(R);var S=c.utils.availableWidth(o,R,m),T=c.utils.availableHeight(p,R,m)-(x?l.height():0);if(a.update=function(){R.transition().duration(I).call(a)},a.container=this,B.setter(O(k),a.update).getter(N(k)).update(),B.disabled=k.map(function(a){return!!a.disabled}),!C){var U;C={};for(U in B)B[U]instanceof Array?C[U]=B[U].slice(0):C[U]=B[U]}if(!(k&&k.length&&k.filter(function(a){return a.values.length}).length))return c.utils.noData(a,R),a;R.selectAll(".nv-noData").remove(),b=e.xScale(),d=e.yScale();var V=R.selectAll("g.nv-wrap.nv-stackedAreaChart").data([k]),W=V.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=V.select("g");W.append("g").attr("class","nv-legendWrap"),W.append("g").attr("class","nv-controlsWrap");var Y=W.append("g").attr("class","nv-focus");Y.append("g").attr("class","nv-background").append("rect"),Y.append("g").attr("class","nv-x nv-axis"),Y.append("g").attr("class","nv-y nv-axis"),Y.append("g").attr("class","nv-stackedWrap"),Y.append("g").attr("class","nv-interactive");W.append("g").attr("class","nv-focusWrap");if(s){var Z=r&&"top"===t?S-F:S;if(h.width(Z),X.select(".nv-legendWrap").datum(k).call(h),"bottom"===t){var $=f.height();m.bottom=Math.max(h.height()+$,m.bottom),T=c.utils.availableHeight(p,R,m)-(x?l.height():0);var _=T+$;X.select(".nv-legendWrap").attr("transform","translate(0,"+_+")")}else"top"===t&&(n||m.top==h.height()||(m.top=h.height(),T=c.utils.availableHeight(p,R,m)-(x?l.height():0)),X.select(".nv-legendWrap").attr("transform","translate("+(S-Z)+","+-m.top+")"))}else X.select(".nv-legendWrap").selectAll("*").remove();if(r){var aa=[{key:H.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=e.style(),style:"stack"},{key:H.stream||"Stream",metaKey:"Stream",disabled:"stream"!=e.style(),style:"stream"},{key:H.stream_center||"Stream Center",metaKey:"Stream_Center",disabled:"stream_center"!=e.style(),style:"stream-center"},{key:H.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=e.style(),style:"expand"},{key:H.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=e.style(),style:"stack_percent"}];F=G.length/3*260,aa=aa.filter(function(a){return-1!==G.indexOf(a.metaKey)}),i.width(F).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(aa).call(i);var ba=Math.max(i.height(),s&&"top"===t?h.height():0);m.top!=ba&&(m.top=ba,T=c.utils.availableHeight(p,R,m)-(x?l.height():0)),X.select(".nv-controlsWrap").attr("transform","translate(0,"+-m.top+")")}else X.select(".nv-controlsWrap").selectAll("*").remove();V.attr("transform","translate("+m.left+","+m.top+")"),w&&X.select(".nv-y.nv-axis").attr("transform","translate("+S+",0)"),y&&(j.width(S).height(T).margin({left:m.left,top:m.top}).svgContainer(R).xScale(b),V.select(".nv-interactive").call(j)),X.select(".nv-focus .nv-background rect").attr("width",S).attr("height",T),e.width(S).height(T).color(k.map(function(a,b){return a.color||q(a,b)}).filter(function(a,b){return!k[b].disabled}));var ca=X.select(".nv-focus .nv-stackedWrap").datum(k.filter(function(a){return!a.disabled}));if(u&&f.scale(b)._ticks(c.utils.calcTicksX(S/100,k)).tickSize(-T,0),v){var da;da="wiggle"===e.offset()?0:c.utils.calcTicksY(T/36,k),g.scale(d)._ticks(da).tickSize(-S,0)}if(x){l.width(S),X.select(".nv-focusWrap").attr("transform","translate(0,"+(T+m.bottom+l.margin().top)+")").datum(k.filter(function(a){return!a.disabled})).call(l);var ea=l.brush.empty()?l.xDomain():l.brush.extent();null!==ea&&Q(ea)}else ca.transition().call(e),D(),L();e.dispatch.on("areaClick.toggle",function(b){1===k.filter(function(a){return!a.disabled}).length?k.forEach(function(a){a.disabled=!1}):k.forEach(function(a,c){a.disabled=c!=b.seriesIndex}),B.disabled=k.map(function(a){return!!a.disabled}),E.stateChange(B),a.update()}),h.dispatch.on("stateChange",function(b){for(var c in b)B[c]=b[c];E.stateChange(B),a.update()}),i.dispatch.on("legendClick",function(b,c){b.disabled&&(aa=aa.map(function(a){return a.disabled=!0,a}),b.disabled=!1,e.style(b.style),B.style=e.style(),E.stateChange(B),a.update())}),j.dispatch.on("elementMousemove",function(b){e.clearHighlights();var d,f,g,h=[],i=0,l=!0,m=!1;if(k.filter(function(a,b){return a.seriesIndex=b,!a.disabled}).forEach(function(j,n){f=c.interactiveBisect(j.values,b.pointXValue,a.x());var o=j.values[f],p=a.y()(o,f);if(null!=p&&p>0&&(e.highlightPoint(n,f,!0),m=!0),n!==k.length-1||m||e.highlightPoint(n,f,!0),void 0!==o){void 0===d&&(d=o),void 0===g&&(g=a.xScale()(a.x()(o,f)));var r="expand"==e.style()?o.display.y:a.y()(o,f);h.push({key:j.key,value:r,color:q(j,j.seriesIndex),point:o}),z&&"expand"!=e.style()&&null!=r&&(i+=r,l=!1)}}),h.reverse(),h.length>2){var n=a.yScale().invert(b.mouseY),o=null;h.forEach(function(a,b){n=Math.abs(n);var c=Math.abs(a.point.display.y0),d=Math.abs(a.point.display.y);if(n>=c&&n<=d+c)return void(o=b)}),null!=o&&(h[o].highlight=!0)}z&&"expand"!=e.style()&&h.length>=2&&!l&&h.push({key:A,value:i,total:!0});var p=a.x()(d,f),r=j.tooltip.valueFormatter();"expand"===e.style()||"stack_percent"===e.style()?(K||(K=r),r=d3.format(".1%")):K&&(r=K,K=null),j.tooltip.valueFormatter(r).data({value:p,series:h})(),j.renderGuideLine(g)}),j.dispatch.on("elementMouseout",function(a){e.clearHighlights()}),l.dispatch.on("onBrush",function(a){Q(a)}),E.on("changeState",function(b){void 0!==b.disabled&&k.length===b.disabled.length&&(k.forEach(function(a,c){a.disabled=b.disabled[c]}),B.disabled=b.disabled),void 0!==b.style&&(e.style(b.style),M=b.style),a.update()})}),L.renderEnd("stacked Area chart immediate"),a}var b,d,e=c.models.stackedArea(),f=c.models.axis(),g=c.models.axis(),h=c.models.legend(),i=c.models.legend(),j=c.interactiveGuideline(),k=c.models.tooltip(),l=c.models.focus(c.models.stackedArea()),m={top:10,right:25,bottom:50,left:60},n=null,o=null,p=null,q=c.utils.defaultColor(),r=!0,s=!0,t="top",u=!0,v=!0,w=!1,x=!1,y=!1,z=!0,A="TOTAL",B=c.utils.state(),C=null,D=null,E=d3.dispatch("stateChange","changeState","renderEnd"),F=250,G=["Stacked","Stream","Expanded"],H={},I=250;B.style=e.style(),f.orient("bottom").tickPadding(7),g.orient(w?"right":"left"),k.headerFormatter(function(a,b){return f.tickFormat()(a,b)}).valueFormatter(function(a,b){return g.tickFormat()(a,b)}),
j.tooltip.headerFormatter(function(a,b){return f.tickFormat()(a,b)}).valueFormatter(function(a,b){return null==a?"N/A":g.tickFormat()(a,b)});var J=null,K=null;i.updateState(!1);var L=c.utils.renderWatch(E),M=e.style(),N=function(a){return function(){return{active:a.map(function(a){return!a.disabled}),style:e.style()}}},O=function(a){return function(b){void 0!==b.style&&(M=b.style),void 0!==b.active&&a.forEach(function(a,c){a.disabled=!b.active[c]})}},P=d3.format("%");return e.dispatch.on("elementMouseover.tooltip",function(a){a.point.x=e.x()(a.point),a.point.y=e.y()(a.point),k.data(a).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(a){k.hidden(!0)}),a.dispatch=E,a.stacked=e,a.legend=h,a.controls=i,a.xAxis=f,a.x2Axis=l.xAxis,a.yAxis=g,a.y2Axis=l.yAxis,a.interactiveLayer=j,a.tooltip=k,a.focus=l,a.dispatch=E,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{width:{get:function(){return o},set:function(a){o=a}},height:{get:function(){return p},set:function(a){p=a}},showLegend:{get:function(){return s},set:function(a){s=a}},legendPosition:{get:function(){return t},set:function(a){t=a}},showXAxis:{get:function(){return u},set:function(a){u=a}},showYAxis:{get:function(){return v},set:function(a){v=a}},defaultState:{get:function(){return C},set:function(a){C=a}},noData:{get:function(){return D},set:function(a){D=a}},showControls:{get:function(){return r},set:function(a){r=a}},controlLabels:{get:function(){return H},set:function(a){H=a}},controlOptions:{get:function(){return G},set:function(a){G=a}},showTotalInTooltip:{get:function(){return z},set:function(a){z=a}},totalLabel:{get:function(){return A},set:function(a){A=a}},focusEnable:{get:function(){return x},set:function(a){x=a}},focusHeight:{get:function(){return l.height()},set:function(a){l.height(a)}},brushExtent:{get:function(){return l.brushExtent()},set:function(a){l.brushExtent(a)}},margin:{get:function(){return m},set:function(a){void 0!==a.top&&(m.top=a.top,n=a.top),m.right=void 0!==a.right?a.right:m.right,m.bottom=void 0!==a.bottom?a.bottom:m.bottom,m.left=void 0!==a.left?a.left:m.left}},focusMargin:{get:function(){return l.margin},set:function(a){l.margin.top=void 0!==a.top?a.top:l.margin.top,l.margin.right=void 0!==a.right?a.right:l.margin.right,l.margin.bottom=void 0!==a.bottom?a.bottom:l.margin.bottom,l.margin.left=void 0!==a.left?a.left:l.margin.left}},duration:{get:function(){return I},set:function(a){I=a,L.reset(I),e.duration(I),f.duration(I),g.duration(I)}},color:{get:function(){return q},set:function(a){q=c.utils.getColor(a),h.color(q),e.color(q),l.color(q)}},x:{get:function(){return e.x()},set:function(a){e.x(a),l.x(a)}},y:{get:function(){return e.y()},set:function(a){e.y(a),l.y(a)}},rightAlignYAxis:{get:function(){return w},set:function(a){w=a,g.orient(w?"right":"left")}},useInteractiveGuideline:{get:function(){return y},set:function(b){y=!!b,a.interactive(!b),a.useVoronoi(!b),e.scatter.interactive(!b)}}}),c.utils.inheritOptions(a,e),c.utils.initOptions(a),a},c.models.stackedAreaWithFocusChart=function(){return c.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},c.models.sunburst=function(){"use strict";function a(a){return b(a)>90?180:0}function b(a){return(Math.max(0,Math.min(2*Math.PI,F(a.x)))+Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx))))/2*(180/Math.PI)-90}function d(a){var b=Math.max(0,Math.min(2*Math.PI,F(a.x)));return(Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx)))-b)/(2*Math.PI)}function e(a){var b=Math.max(0,Math.min(2*Math.PI,F(a.x)));return Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx)))-b>z}function f(a,b){var c=d3.interpolate(F.domain(),[l.x,l.x+l.dx]),d=d3.interpolate(G.domain(),[l.y,1]),e=d3.interpolate(G.range(),[l.y?20:0,o]);return 0===b?function(){return J(a)}:function(b){return F.domain(c(b)),G.domain(d(b)).range(e(b)),J(a)}}function g(a){var b=d3.interpolate({x:a.x0,dx:a.dx0,y:a.y0,dy:a.dy0},a);return function(c){var d=b(c);return a.x0=d.x,a.dx0=d.dx,a.y0=d.y,a.dy0=d.dy,J(d)}}function h(a){var b=B(a);I[b]||(I[b]={});var c=I[b];c.dx=a.dx,c.x=a.x,c.dy=a.dy,c.y=a.y}function i(a){a.forEach(function(a){var b=B(a),c=I[b];c?(a.dx0=c.dx,a.x0=c.x,a.dy0=c.dy,a.y0=c.y):(a.dx0=a.dx,a.x0=a.x,a.dy0=a.dy,a.y0=a.y),h(a)})}function j(c){var d=v.selectAll("text"),g=v.selectAll("path");d.transition().attr("opacity",0),l=c,g.transition().duration(D).attrTween("d",f).each("end",function(d){if(d.x>=c.x&&d.x<c.x+c.dx&&d.depth>=c.depth){d3.select(this.parentNode).select("text").transition().duration(D).text(function(a){return y(a)}).attr("opacity",function(a){return e(a)?1:0}).attr("transform",function(){var e=this.getBBox().width;if(0===d.depth)return"translate("+e/2*-1+",0)";if(d.depth===c.depth)return"translate("+(G(d.y)+5)+",0)";var f=b(d),g=a(d);return 0===g?"rotate("+f+")translate("+(G(d.y)+5)+",0)":"rotate("+f+")translate("+(G(d.y)+e+5)+",0)rotate("+g+")"})}})}function k(f){return K.reset(),f.each(function(f){v=d3.select(this),m=c.utils.availableWidth(q,v,p),n=c.utils.availableHeight(r,v,p),o=Math.min(m,n)/2,G.range([0,o]);var h=v.select("g.nvd3.nv-wrap.nv-sunburst");h[0][0]?h.attr("transform","translate("+(m/2+p.left+p.right)+","+(n/2+p.top+p.bottom)+")"):h=v.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+u).attr("transform","translate("+(m/2+p.left+p.right)+","+(n/2+p.top+p.bottom)+")"),v.on("click",function(a,b){E.chartClick({data:a,index:b,pos:d3.event,id:u})}),H.value(t[s]||t.count);var k=H.nodes(f[0]).reverse();i(k);var l=h.selectAll(".arc-container").data(k,B);l.enter().append("g").attr("class","arc-container").append("path").attr("d",J).style("fill",function(a){return a.color?a.color:w(C?(a.children?a:a.parent).name:a.name)}).style("stroke","#FFF").on("click",function(a,b){j(a),E.elementClick({data:a,index:b})}).on("mouseover",function(a,b){d3.select(this).classed("hover",!0).style("opacity",.8),E.elementMouseover({data:a,color:d3.select(this).style("fill"),percent:d(a)})}).on("mouseout",function(a,b){d3.select(this).classed("hover",!1).style("opacity",1),E.elementMouseout({data:a})}).on("mousemove",function(a,b){E.elementMousemove({data:a})}),l.each(function(a){d3.select(this).select("path").transition().duration(D).attrTween("d",g)}),x&&(l.selectAll("text").remove(),l.append("text").text(function(a){return y(a)}).transition().duration(D).attr("opacity",function(a){return e(a)?1:0}).attr("transform",function(c){var d=this.getBBox().width;if(0===c.depth)return"rotate(0)translate("+d/2*-1+",0)";var e=b(c),f=a(c);return 0===f?"rotate("+e+")translate("+(G(c.y)+5)+",0)":"rotate("+e+")translate("+(G(c.y)+d+5)+",0)rotate("+f+")"})),j(k[k.length-1]),l.exit().transition().duration(D).attr("opacity",0).each("end",function(a){var b=B(a);I[b]=void 0}).remove()}),K.renderEnd("sunburst immediate"),k}var l,m,n,o,p={top:0,right:0,bottom:0,left:0},q=600,r=600,s="count",t={count:function(a){return 1},value:function(a){return a.value||a.size},size:function(a){return a.value||a.size}},u=Math.floor(1e4*Math.random()),v=null,w=c.utils.defaultColor(),x=!1,y=function(a){return"count"===s?a.name+" #"+a.value:a.name+" "+(a.value||a.size)},z=.02,A=function(a,b){return a.name>b.name},B=function(a,b){return void 0!==a.parent?a.name+"-"+a.parent.name+"-"+b:a.name},C=!0,D=500,E=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),F=d3.scaleLinear().range([0,2*Math.PI]),G=d3.scale.sqrt(),H=d3.layout.partition().sort(A),I={},J=d3.svg.arc().startAngle(function(a){return Math.max(0,Math.min(2*Math.PI,F(a.x)))}).endAngle(function(a){return Math.max(0,Math.min(2*Math.PI,F(a.x+a.dx)))}).innerRadius(function(a){return Math.max(0,G(a.y))}).outerRadius(function(a){return Math.max(0,G(a.y+a.dy))}),K=c.utils.renderWatch(E);return k.dispatch=E,k.options=c.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return q},set:function(a){q=a}},height:{get:function(){return r},set:function(a){r=a}},mode:{get:function(){return s},set:function(a){s=a}},id:{get:function(){return u},set:function(a){u=a}},duration:{get:function(){return D},set:function(a){D=a}},groupColorByParent:{get:function(){return C},set:function(a){C=!!a}},showLabels:{get:function(){return x},set:function(a){x=!!a}},labelFormat:{get:function(){return y},set:function(a){y=a}},labelThreshold:{get:function(){return z},set:function(a){z=a}},sort:{get:function(){return A},set:function(a){A=a}},key:{get:function(){return B},set:function(a){B=a}},margin:{get:function(){return p},set:function(a){p.top=void 0!=a.top?a.top:p.top,p.right=void 0!=a.right?a.right:p.right,p.bottom=void 0!=a.bottom?a.bottom:p.bottom,p.left=void 0!=a.left?a.left:p.left}},color:{get:function(){return w},set:function(a){w=c.utils.getColor(a)}}}),c.utils.initOptions(k),k},c.models.sunburstChart=function(){"use strict";function a(d){return n.reset(),n.models(b),d.each(function(d){var h=d3.select(this);c.utils.initSVG(h);var i=c.utils.availableWidth(f,h,e),j=c.utils.availableHeight(g,h,e);if(a.update=function(){0===l?h.call(a):h.transition().duration(l).call(a)},a.container=h,!d||!d.length)return c.utils.noData(a,h),a;h.selectAll(".nv-noData").remove(),b.width(i).height(j).margin(e),h.call(b)}),n.renderEnd("sunburstChart immediate"),a}var b=c.models.sunburst(),d=c.models.tooltip(),e={top:30,right:20,bottom:20,left:20},f=null,g=null,h=c.utils.defaultColor(),i=!1,j=(Math.round(1e5*Math.random()),null),k=null,l=250,m=d3.dispatch("stateChange","changeState","renderEnd"),n=c.utils.renderWatch(m);return d.duration(0).headerEnabled(!1).valueFormatter(function(a){return a}),b.dispatch.on("elementMouseover.tooltip",function(a){a.series={key:a.data.name,value:a.data.value||a.data.size,color:a.color,percent:a.percent},i||(delete a.percent,delete a.series.percent),d.data(a).hidden(!1)}),b.dispatch.on("elementMouseout.tooltip",function(a){d.hidden(!0)}),b.dispatch.on("elementMousemove.tooltip",function(a){d()}),a.dispatch=m,a.sunburst=b,a.tooltip=d,a.options=c.utils.optionsFunc.bind(a),a._options=Object.create({},{noData:{get:function(){return k},set:function(a){k=a}},defaultState:{get:function(){return j},set:function(a){j=a}},showTooltipPercent:{get:function(){return i},set:function(a){i=a}},color:{get:function(){return h},set:function(a){h=a,b.color(h)}},duration:{get:function(){return l},set:function(a){l=a,n.reset(l),b.duration(l)}},margin:{get:function(){return e},set:function(a){e.top=void 0!==a.top?a.top:e.top,e.right=void 0!==a.right?a.right:e.right,e.bottom=void 0!==a.bottom?a.bottom:e.bottom,e.left=void 0!==a.left?a.left:e.left,b.margin(e)}}}),c.utils.inheritOptions(a,b),c.utils.initOptions(a),a},c.version="1.8.6-dev"}();
//# sourceMappingURL=nv.d3.min.js.map